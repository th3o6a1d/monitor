window.d3monitor=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=125)}([function(t,e,n){"use strict";var r=function(t,e){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0};Object.defineProperty(r.prototype,"xy",{get:function(){return[this.x,this.y]}}),r.ZERO=new r(0,0),r.read=function(t,e){if(2===arguments.length)return new r(t,e);var n=t;return n instanceof r?n:"number"==typeof n?new r(n,n):Array.isArray(n)?0===n.length?r.ZERO:(t=n[0],e=n.length>1?n[1]:t,new r(t,e)):void 0!==n.x&&void 0!==n.y?new r(n.x,n.y):r.ZERO},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.add=function(t){return new r(this.x+t.x,this.y+t.y)},r.prototype.subtract=r.prototype.sub=function(t){return new r(this.x-t.x,this.y-t.y)},r.prototype.divide=function(t){return new r(this.x/t,this.y/t)},r.prototype.multiply=function(t){return new r(this.x*t,this.y*t)},r.prototype.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},r.prototype.magnitudeSquared=function(){return this.x*this.x+this.y*this.y},r.prototype.heading=function(){return Math.atan2(this.y,this.x)},r.prototype.distanceTo=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},r.prototype.normalize=function(){var t=this.magnitude();return 0!==t?this.divide(t):r.ZERO},r.prototype.limit=function(t){return this.magnitudeSquared()>t*t?this.normalize().multiply(t):this},r.prototype.translate=function(t,e){return new r(this.x+t,this.y+e)},r.prototype.scale=function(t,e){return e=void 0!==e?e:t,new r(this.x*t,this.y*e)},r.prototype.toString=function(){return"["+this.x+", "+this.y+"]"},t.exports=r},function(t,e,n){"use strict";var r=n(4),i=n(40),o=n(100),a=function(t,e,n,o,a){var s,u,l,h,c,f;void 0===t?(s=u=l=0,h=1):Array.isArray(t)?(f=e||{},s=void 0!==t[0]?t[0]:0,u=void 0!==t[1]?t[1]:0,l=void 0!==t[2]?t[2]:0,h=void 0!==t[3]?t[3]:f.range||1):void 0!==t.r?(f=e||{},s=t.r,u=t.g,l=t.b,h=void 0!==t.a?t.a:f.range||1):"string"==typeof t?(s=(c=i.hex2rgb(t))[0],u=c[1],l=c[2],h=1):"number"==typeof t&&(1===arguments.length?(s=u=l=t,h=1):2===arguments.length?(s=u=l=t,h="number"==typeof e?e:(f=e).range||1):3===arguments.length?"number"==typeof n?(s=t,u=e,l=n,h=1):(s=u=l=t,h=e,f=n):4===arguments.length?(s=t,u=e,l=n,h="number"==typeof o?o:(f=o).range||1):(s=t,u=e,l=n,h=o,f=a)),void 0!==(f=f||{}).range&&(s/=f.range,u/=f.range,l/=f.range,h/=f.range,"HSB"===f.mode&&(t/=f.range,e/=f.range,n/=f.range)),"HSB"===f.mode?(t=r.clamp(t,0,1),e=r.clamp(e,0,1),n=r.clamp(n,0,1),s=(c=i.hsb2rgb(t,e,n))[0],u=c[1],l=c[2]):"HSL"===f.mode?(t=r.clamp(t,0,1),e=r.clamp(e,0,1),n=r.clamp(n,0,1),s=(c=i.hsl2rgb(t,e,n))[0],u=c[1],l=c[2]):"HEX"===f.mode&&(s=(c=i.hex2rgb(t))[0],u=c[1],l=c[2],h=1),this.r=r.clamp(s,0,1),this.g=r.clamp(u,0,1),this.b=r.clamp(l,0,1),this.a=r.clamp(h,0,1)};a.BLACK=new a(0),a.WHITE=new a(1),o.defineAlias(a,"r","red"),o.defineAlias(a,"g","green"),o.defineAlias(a,"b","blue"),o.defineAlias(a,"a","alpha"),o.defineGetter(a,"h",(function(){return i.rgb2hsl(this.r,this.g,this.b)[0]})),o.defineGetter(a,"s",(function(){return i.rgb2hsl(this.r,this.g,this.b)[1]})),o.defineGetter(a,"l",(function(){return i.rgb2hsl(this.r,this.g,this.b)[2]})),o.defineAlias(a,"h","hue"),o.defineAlias(a,"s","saturation"),o.defineAlias(a,"l","lightness"),o.defineGetter(a,"rgb",(function(){return[this.r,this.g,this.b]})),o.defineGetter(a,"rgba",(function(){return[this.r,this.g,this.b,this.a]})),o.defineGetter(a,"hsb",(function(){return i.rgb2hsb(this.r,this.g,this.b)})),o.defineGetter(a,"hsba",(function(){return i.rgb2hsb(this.r,this.g,this.b).concat([this.a])})),o.defineGetter(a,"hsl",(function(){return i.rgb2hsl(this.r,this.g,this.b)})),o.defineGetter(a,"hsla",(function(){return i.rgb2hsl(this.r,this.g,this.b).concat([this.a])})),a.prototype.toCSS=function(){return a.toCSS(this)},a.prototype.toHex=function(t){return t||this.a>=1?i.rgb2hex(this.r,this.g,this.b):i.rgba2hex(this.r,this.g,this.b,this.a)},a.prototype.desaturate=function(t){if(this.r===this.g&&this.g===this.b)return this;var e,n,r;void 0!==t&&t.method&&"ITU-R BT.601"!==t.method?"ITU-R BT.709"===t.method&&(e=.2125,n=.7154,r=.0721):(e=.3,n=.59,r=.11);var i=this.r*e+this.g*n+this.b*r;return new a(i,i,i,this.a)},a.prototype.invert=function(){return new a(1-this.r,1-this.g,1-this.b,this.a)},a.clone=function(t){return null==t?null:"string"==typeof t?t:new a(t.r,t.g,t.b,t.a)},a.toCSS=function(t){if(null===t)return"none";if(void 0===t)return"black";if("string"==typeof t)return t;if(t instanceof a){return"rgba("+Math.round(255*t.r)+", "+Math.round(255*t.g)+", "+Math.round(255*t.b)+", "+t.a+")"}if(void 0!==t.r&&void 0!==t.g&&void 0!==t.b){let e=Math.round(255*t.r),n=Math.round(255*t.g),r=Math.round(255*t.b);return void 0===t.a?"rgb("+e+", "+n+", "+r+")":"rgba("+e+", "+n+", "+r+", "+t.a+")"}throw new Error("Don't know how to convert "+t+" to CSS.")},a.toHex=function(t,e){return a.parse(t,e).toHex()},a.make=function(){var t=Object.create(a.prototype);return t.constructor=a.prototype,a.apply(t,arguments),t},a.parse=function(t){function e(t,e){return!(!t||!e)&&0===(t=String(t)).indexOf(e)}var n;if(null==t)return new a(0,0,0,0);if(t instanceof a)return t;if(i.namedColors[t])return a.make.apply(null,i.namedColors[t]);if("#"===t[0])return new a(t,0,0,0,{mode:"HEX"});if(e(t,"rgba"))return(n=t.match(/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+|\d+.\d+)\s*\)$/i))?new a(parseInt(n[1])/255,parseInt(n[2])/255,parseInt(n[3])/255,parseFloat(n[4])):(n=t.match(/^rgba\s*\(\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)\s*\)$/i))?new a(parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])/100,parseFloat(n[4])):new a(0,0,0,0);if(e(t,"rgb"))return(n=t.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i))?new a(parseInt(n[1])/255,parseInt(n[2])/255,parseInt(n[3])/255):(n=t.match(/^rgb\s*\(\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)%\s*\)$/i))?new a(parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])/100):new a(0,0,0,0);if(e(t,"hsla"))return(n=t.match(/^hsla\s*\(\s*(\d+|\d+.\d+)\s*,\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)\s*\)$/i))?new a(parseFloat(n[1])/360,parseFloat(n[2])/100,parseFloat(n[3])/100,parseFloat(n[4])):new a(0,0,0,0);if(e(t,"hsl"))return(n=t.match(/^hsl\s*\(\s*(\d+|\d+.\d+)\s*,\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)%\s*\)$/i))?new a(parseFloat(n[1])/360,parseFloat(n[2])/100,parseFloat(n[3])/100):new a(0,0,0,0);if("none"===t||"null"===t||e(t,"url("))return new a(0,0,0,0);throw new Error("Color "+t+"can not be parsed")},a.gray=function(t,e,n){return n=Math.max(n,1),new a(t/n,t/n,t/n,e/n)},a.rgb=function(t,e,n,r,i){return i=Math.max(i,1),new a(t/i,e/i,n/i,r/i)},a.hsb=function(t,e,n,r,i){return i=Math.max(i,1),new a(t/i,e/i,n/i,r/i,{mode:"HSB"})},a.hsl=function(t,e,n,r,i){return i=Math.max(i,1),new a(t/i,e/i,n/i,r/i,{mode:"HSL"})},t.exports=a},,function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r={sum:function(t){var e,n=t.length,r=0;for(e=0;e<n;e+=1)r+=t[e];return r},round:function(t,e){return e?Math.round(t*Math.pow(10,e))/Math.pow(10,e):Math.round(t)},sign:function(t){return t<0?-1:t>0?1:0},degrees:function(t){return 180*t/Math.PI},radians:function(t){return t/180*Math.PI},clamp:function(t,e,n){return e<n?t<e?e:t>n?n:t:t<n?n:t>e?e:t},snap:function(t,e,n){return t*(1-(n=void 0!==n?n:1))+n*Math.round(t/e)*e},dot:function(t,e){var n,r=Math.min(t.length,e.length),i=0;for(n=0;n<r;n+=1)i+=t[n]*e[n];return i}},i=r.mix=r.lerp=function(t,e,n,r){if(r){if(n<0)return t;if(n>1)return e}return t+(e-t)*n};function o(t){return t*t*t*(t*(6*t-15)+10)}function a(t,e,n,r){var i,o,a;return o=(i=15&t)<8?e:n,a=i<4?n:12===i||14===i?e:r,(0==(1&i)?o:-o)+(0==(2&i)?a:-a)}var s=function(){var t,e,n;for(t=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],e=new Uint8Array(512),n=0;n<256;n+=1)e[256+n]=e[n]=t[n];return e}();r.noise=function(t,e,n){var r=s,u=255&Math.floor(t),l=255&Math.floor(e),h=255&Math.floor(n);t-=Math.floor(t),e-=Math.floor(e),n-=Math.floor(n);var c=o(t),f=o(e),p=o(n),d=r[u]+l,m=r[d]+h,y=r[d+1]+h,v=r[u+1]+l,g=r[v]+h,x=r[v+1]+h;return(1+i(i(i(a(r[m],t,e,n),a(r[g],t-1,e,n),c),i(a(r[y],t,e-1,n),a(r[x],t-1,e-1,n),c),f),i(i(a(r[m+1],t,e,n-1),a(r[g+1],t-1,e,n-1),c),i(a(r[y+1],t,e-1,n-1),a(r[x+1],t-1,e-1,n-1),c),f),p))/2},t.exports=r},function(t,e,n){"use strict";var r=n(0),i=function(t,e,n,r){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0,this.width=void 0!==n?n:0,this.height=void 0!==r?r:0};Object.defineProperty(i.prototype,"xywh",{get:function(){return[this.x,this.y,this.width,this.height]}}),i.prototype.normalize=function(){var t=this.x,e=this.y,n=this.width,r=this.height;return n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r),new i(t,e,n,r)},i.prototype.containsPoint=function(t,e){return 1===arguments.length&&(e=t.y,t=t.x),t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},i.prototype.containsRect=function(t){return t.x>=this.x&&t.x+t.width<=this.x+this.width&&t.y>=this.y&&t.y+t.height<=this.y+this.height},i.prototype.grow=function(t,e){var n=this.x-t,r=this.y-e,o=this.width+2*t,a=this.height+2*e;return new i(n,r,o,a)},i.prototype.unite=function(t){var e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),r=Math.max(this.x+this.width,t.x+t.width)-e,o=Math.max(this.y+this.height,t.y+t.height)-n;return new i(e,n,r,o)},i.prototype.addPoint=function(t,e){var n=this.x,r=this.y,o=this.width,a=this.height;return t<this.x?(n=t,o+=this.x-t):t>this.x+this.width&&(o+=t-(this.x+this.width)),e<this.y?(r=e,a+=this.y-e):e>this.y+this.height&&(a+=e-(this.y+this.height)),new i(n,r,o,a)},i.prototype.centerPoint=function(){return new r(this.x+this.width/2,this.y+this.height/2)},t.exports=i},function(t,e,n){"use strict";var r=n(32),i=n(22),o=n(23),a=n(4),s=n(1),u=n(5),l=i.MOVETO,h=i.LINETO,c=i.QUADTO,f=i.CURVETO,p=i.CLOSE,d=Object.freeze({type:p}),m=.5522847498307936;function y(t,e=3){return t%1==0?t:t.toFixed(e)}var v=function(t,e,n,r){this.commands=void 0!==t?t:[],this.fill=void 0!==e?e:"black",this.stroke=void 0!==n?n:null,this.strokeWidth=void 0!==r?r:1};v.prototype.clone=function(){var t,e,n,r=new v,i=this.commands.length;for(r.commands.length=this.commands.length,t=0;t<i;t+=1)r.commands[t]=(e=this.commands[t],n=void 0,(n={type:e.type}).type!==p&&(n.x=e.x,n.y=e.y),n.type===c?(n.x1=e.x1,n.y1=e.y1):n.type===f&&(n.x1=e.x1,n.y1=e.y1,n.x2=e.x2,n.y2=e.y2),n);return r.fill=s.clone(this.fill),r.stroke=s.clone(this.stroke),r.strokeWidth=this.strokeWidth,r},v.prototype.extend=function(t){var e=t.commands||t;Array.prototype.push.apply(this.commands,e)},v.prototype.moveTo=function(t,e){this.commands.push({type:l,x:t,y:e})},v.prototype.lineTo=function(t,e){this.commands.push({type:h,x:t,y:e})},v.prototype.curveTo=function(t,e,n,r,i,o){this.commands.push({type:f,x1:t,y1:e,x2:n,y2:r,x:i,y:o})},v.prototype.quadTo=function(t,e,n,r){var i=this.commands[this.commands.length-1].x,o=this.commands[this.commands.length-1].y,a=i+2/3*(t-i),s=o+2/3*(e-o),u=a+1/3*(n-i),l=s+1/3*(r-o);this.curveTo(a,s,u,l,n,r)},v.prototype.closePath=v.prototype.close=function(){this.commands.push(d)},v.prototype.isClosed=function(){return 0!==this.commands.length&&this.commands[this.commands.length-1].type===p},v.prototype.addRect=function(t,e,n,r){this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+r),this.lineTo(t,e+r),this.close()},v.prototype.addRoundedRect=function(t,e,n,r,i,o){var a=i,s=o,u=t,l=t+n,h=e,c=e+r;a=Math.min(a,.5*n),s=Math.min(s,.5*r),this.moveTo(u+a,h),a<.5*n&&this.lineTo(l-i,h),this.curveTo(l-a*(1-.552),h,l,h+s*(1-.552),l,h+s),s<.5*r&&this.lineTo(l,c-s),this.curveTo(l,c-s*(1-.552),l-a*(1-.552),c,l-a,c),a<.5*n&&this.lineTo(u+a,c),this.curveTo(u+a*(1-.552),c,u,c-s*(1-.552),u,c-s),s<.5*r&&this.lineTo(u,h+s),this.curveTo(u,h+s*(1-.552),u+a*(1-.552),h,u+a,h),this.close()},v.prototype.addEllipse=function(t,e,n,r){var i=.5*m*n,o=.5*m*r,a=t+.5*n,s=e+.5*r,u=t+n,l=e+r;this.moveTo(t,s),this.curveTo(t,s-o,a-i,e,a,e),this.curveTo(a+i,e,u,s-o,u,s),this.curveTo(u,s+o,a+i,l,a,l),this.curveTo(a-i,l,t,s+o,t,s),this.close()},v.prototype.addLine=function(t,e,n,r){this.moveTo(t,e),this.lineTo(n,r)},v.prototype.addQuad=function(t,e,n,r,i,o,a,s){this.moveTo(t,e),this.lineTo(n,r),this.lineTo(i,o),this.lineTo(a,s),this.close()},v.prototype.addArc=function(t,e,n,r,i,o,s){var u,l,h,c,f,p,d,m,y,g,x,w,_;for(s=s||"pie",u=n/2,l=r/2,h=a.radians(i),(c=o)>=360||c<=-360?(f=4,p=Math.PI/2,d=.5522847498307933,c<0&&(p=-p,d=-d)):(f=Math.ceil(Math.abs(c)/90),p=a.radians(c/f),0===(d=4/3*Math.sin(p/2)/(1+Math.cos(p/2)))&&(f=0)),"open"===s?m=0:"chord"===s?m=1:"pie"===s&&(m=2),(u<0||l<0)&&(f=m=-1),y=0;y<=f+m;)g=h,0===y?this.moveTo(t+Math.cos(g)*u,e+Math.sin(g)*l):y>f?y===f+m?this.close():this.lineTo(t,e):(g+=p*(y-1),x=Math.cos(g),w=Math.sin(g),(_=[]).push(t+(x-d*w)*u),_.push(e+(w+d*x)*l),g+=p,x=Math.cos(g),w=Math.sin(g),_.push(t+(x+d*w)*u),_.push(e+(w-d*x)*l),_.push(t+x*u),_.push(e+w*l),v.prototype.curveTo.apply(this,_)),y+=1},v.prototype.colorize=function(t){var e=arguments;("object"!=typeof t||t instanceof s)&&(t={},void 0!==e[0]&&(t.fill=e[0]),void 0!==e[1]&&(t.stroke=e[1]),void 0!==e[2]&&(t.strokeWidth=e[2]));var n=this.clone();return t.fill&&(n.fill=s.clone(t.fill)),t.stroke&&(n.stroke=s.clone(t.stroke)),(t.strokeWidth||0===t.strokeWidth)&&(n.strokeWidth=t.strokeWidth),n},v.prototype.desaturate=function(t){var e=this.clone(),n=e.fill,r=e.stroke;return n instanceof s||(n=s.parse(n)),r instanceof s||(r=s.parse(r)),e.fill=n.desaturate(t),e.stroke=r.desaturate(t),e},v.prototype.invert=function(){var t=this.clone(),e=t.fill,n=t.stroke;return e instanceof s||(e=s.parse(e)),n instanceof s||(n=s.parse(n)),t.fill=e.invert(),t.stroke=n.invert(),t},v.prototype.contours=function(){for(var t,e=[],n=[],r=0;r<this.commands.length;r+=1)(t=this.commands[r]).type===l?(0!==n.length&&e.push(n),n=[t]):n.push(t);return 0!==n.length&&e.push(n),e},v.prototype.bounds=function(){if(this._bounds)return this._bounds;if(0===this.commands.length)return new u(0,0,0,0);for(var t,e,n,r,o,a,s=Number.MAX_VALUE,c=Number.MAX_VALUE,p=-Number.MAX_VALUE,d=-Number.MAX_VALUE,m=0;m<this.commands.length;m+=1)if((a=this.commands[m]).type===l||a.type===h)(t=a.x)<s&&(s=t),(e=a.y)<c&&(c=e),t>p&&(p=t),e>d&&(d=e),n=a;else if(a.type===f){var y=i.extrema(n.x,n.y,a.x1,a.y1,a.x2,a.y2,a.x,a.y);r=y.x+y.width,o=y.y+y.height,y.x<s&&(s=y.x),r>p&&(p=r),y.y<c&&(c=y.y),o>d&&(d=o),n=a}return new u(s,c,p-s,d-c)},v.prototype.point=function(t,e){return void 0===e&&(e=i.segmentLengths(this.commands,!0,10)),i.point(this,t,e)},v.prototype.points=function(t,e){var n,r=e&&void 0!==e.start?e.start:0,o=e&&void 0!==e.end?e.end:1;if(0===this.commands.length)return[];t=Math.round(t),n=e&&e.closed?t>1?(o-r)/t:o-r:t>1?(o-r)/(t-1):o-r;for(var a=[],s=i.segmentLengths(this.commands,!0,10),u=0;u<t;u+=1)a.push(this.point(r+n*u,s));return a},v.prototype.length=function(t){return void 0===t&&(t=20),i.length(this,t)},v.prototype.contains=function(t,e,n){var r=this.points(void 0!==n?n:100);return o.pointInPolygon(r,t,e)},v.prototype.resampleByAmount=function(t,e){for(var n=e?this.contours():[this.commands],r=new v([],this.fill,this.stroke,this.strokeWidth),i=0;i<n.length;i+=1){var o=new v(n[i]),a={};o.isClosed()&&(a.closed=!0);for(var s=o.points(t,a),u=0;u<s.length;u+=1)0===u?r.moveTo(s[u].x,s[u].y):r.lineTo(s[u].x,s[u].y);o.isClosed()&&r.close()}return r},v.prototype.resampleByLength=function(t,e){var n=(e=e||{}).force||!1,r=this.contours(),i=[];n||(t=Math.max(t,1));for(var o=0;o<r.length;o+=1){var a=new v(r[o]),s=a.length(),u=Math.ceil(s/t);i=i.concat(a.resampleByAmount(u).commands)}return new v(i,this.fill,this.stroke,this.strokeWidth)},v.prototype.toPathData=function(t=3){var e,n,r,i,o,s,u,d,m;for(n="",e=0;e<this.commands.length;e+=1)void 0!==(r=this.commands[e]).x&&(i=y(a.clamp(r.x,-9999,9999),t),o=y(a.clamp(r.y,-9999,9999),t)),void 0!==r.x1&&(s=y(a.clamp(r.x1,-9999,9999),t),u=y(a.clamp(r.y1,-9999,9999),t)),void 0!==r.x2&&(d=y(a.clamp(r.x2,-9999,9999),t),m=y(a.clamp(r.y2,-9999,9999),t)),r.type===l?isNaN(i)||isNaN(o)||(n+="M"+i+" "+o):r.type===h?isNaN(i)||isNaN(o)||(n+="L"+i+" "+o):r.type===c?isNaN(i)||isNaN(o)||isNaN(s)||isNaN(u)||(n+="Q"+s+" "+u+" "+i+" "+o):r.type===f?isNaN(i)||isNaN(o)||isNaN(s)||isNaN(u)||isNaN(d)||isNaN(m)||(n+="C"+s+" "+u+" "+d+" "+m+" "+i+" "+o):r.type===p&&(n+="Z");return n},v.prototype.toSVG=function(){var t='<path d="';t+=this.toPathData(),t+='"';var e,n,r,i,o="";return this.fill&&((e=s.parse(this.fill)).a<1&&(n=e.a),e=s.toHex(e).substring(0,7)),"black"!==e&&"#000000"!==e&&(o+=null==e?"fill:none;":"fill:"+e+";"),void 0!==n&&(o+="fill-opacity:"+n+";"),this.stroke&&((r=s.parse(this.stroke)).a<1&&(i=r.a),r=s.toHex(r).substring(0,7)),r&&(o+="stroke:"+r+";",o+="stroke-width:"+this.strokeWidth+";"),void 0!==i&&(o+="stroke-opacity:"+i+";"),o&&(t+=' style="'+o+'"'),t+="/>"},v.prototype.draw=function(t){var e,n,r;for(t.beginPath(),e=this.commands.length,n=0;n<e;n+=1)(r=this.commands[n]).type===l?t.moveTo(r.x,r.y):r.type===h?t.lineTo(r.x,r.y):r.type===c?t.quadraticCurveTo(r.x1,r.y1,r.x,r.y):r.type===f?t.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):r.type===p&&t.closePath();null!==this.fill&&void 0!==this.fill&&(t.fillStyle=s.toCSS(this.fill),t.fill()),null!==this.stroke&&void 0!==this.stroke&&null!==this.strokeWidth&&this.strokeWidth>0&&(t.strokeStyle=s.toCSS(this.stroke),t.lineWidth=this.strokeWidth,t.stroke())},v.combine=function(){for(var t,e=Array.apply(null,arguments),n=r(e),i=[],o=0;o<n.length;o+=1)(t=n[o]).commands?i=i.concat(t.commands):t.shapes&&(i=i.concat(v.combine(t.shapes).commands));return new v(i)},t.exports=v},,function(t,e,n){"use strict";var r=n(22),i=n(4),o=n(24),a=n(6),s=n(0),u=r.MOVETO,l=r.LINETO,h=r.QUADTO,c=r.CURVETO,f=r.CLOSE,p=function(t){this.m=void 0!==t?t:[1,0,0,1,0,0]};p.IDENTITY=new p,p.identity=function(){return new p},p._mmult=function(t,e){return void 0!==t.m&&(t=t.m),void 0!==e.m&&(e=e.m),new p([t[0]*e[0]+t[1]*e[2],t[0]*e[1]+t[1]*e[3],t[2]*e[0]+t[3]*e[2],t[2]*e[1]+t[3]*e[3],t[4]*e[0]+t[5]*e[2]+e[4],t[4]*e[1]+t[5]*e[3]+e[5]])},p.prototype.isIdentity=function(){var t=this.m;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]},p.prototype.prepend=function(t){return p._mmult(this.m,t.m)},p.prototype.append=function(t){return p._mmult(t.m,this.m)},p.prototype.inverse=function(){var t=this.m,e=t[0]*t[3]-t[1]*t[2];return new p([t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[3]*t[4])/e,-(t[0]*t[5]-t[1]*t[4])/e])},p.prototype.scale=function(t,e){return void 0===e&&(e=t),p._mmult([t,0,0,e,0,0],this.m)},p.prototype.translate=function(t,e){return p._mmult([1,0,0,1,t,e],this.m)},p.prototype.rotate=function(t){var e=Math.cos(i.radians(t)),n=Math.sin(i.radians(t));return p._mmult([e,n,-n,e,0,0],this.m)},p.prototype.skew=function(t,e){var n=Math.PI*t/180,r=Math.PI*e/180;return p._mmult([1,Math.tan(r),-Math.tan(n),1,0,0],this.m)},p.prototype.transformPoint=function(t){var e=t.x,n=t.y,r=this.m;return new s(e*r[0]+n*r[2]+r[4],e*r[1]+n*r[3]+r[5])},p.prototype.transformPoints=function(t){for(var e=[],n=0;n<t.length;n+=1)e.push(this.transformPoint(t[n]));return e},p.prototype.transformPath=function(t){var e=this.m,n=[];n.length=t.commands.length;for(var r=0,i=t.commands.length;r<i;r++){var o=t.commands[r];switch(o.type){case u:case l:n[r]={type:o.type,x:o.x*e[0]+o.y*e[2]+e[4],y:o.x*e[1]+o.y*e[3]+e[5]};break;case h:n[r]={type:h,x:o.x*e[0]+o.y*e[2]+e[4],y:o.x*e[1]+o.y*e[3]+e[5],x1:o.x1*e[0]+o.y1*e[2]+e[4],y1:o.x1*e[1]+o.y1*e[3]+e[5]};break;case c:n[r]={type:c,x:o.x*e[0]+o.y*e[2]+e[4],y:o.x*e[1]+o.y*e[3]+e[5],x1:o.x1*e[0]+o.y1*e[2]+e[4],y1:o.x1*e[1]+o.y1*e[3]+e[5],x2:o.x2*e[0]+o.y2*e[2]+e[4],y2:o.x2*e[1]+o.y2*e[3]+e[5]};break;case f:n[r]={type:f};break;default:throw new Error("Unknown command type "+o)}}return new a(n,t.fill,t.stroke,t.strokeWidth)},p.prototype.transformText=function(t){var e=t.clone();return e.transform=this.append(e.transform),e},p.prototype.transformGroup=function(t){for(var e=[],n=0;n<t.shapes.length;n+=1)e.push(this.transformShape(t.shapes[n]));return new o(e)},p.prototype.transformShape=function(t){var e;if(t.shapes)e=this.transformGroup;else if(t.commands)e=this.transformPath;else if(t.text)e=this.transformText;else if(void 0!==t.x&&void 0!==t.y)e=this.transformPoint;else{if(void 0!==t._transform)return t._transform(this.m);if(!(Array.isArray(t)&&t.length>0))throw new Error("Don't know how to transform "+t);if(void 0===t[0].x||void 0===t[0].y){for(var n=[],r=0;r<t.length;r+=1)n.push(this.transformShape(t[r]));return n}e=this.transformPoints}return e.call(this,t)},t.exports=p},,,,,,,,,,,,function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";var r=n(96),i={};function o(t){for(var e in t)i[e]=t[e]}i.bezier=n(22),i.color=n(40),i.geo=n(23),i.math=n(4),i.random=n(41),i.svg=n(97),i.Color=n(1),i.Group=n(24),i.Matrix4=n(101),i.Path=n(6),i.Point=i.Vec2=n(0),i.Rect=n(5),i.Text=n(44),i.Transform=i.Matrix3=n(8),i.Vec3=n(43);var a=n(45);r(i.Point.prototype,a),r(i.Path.prototype,a),r(i.Group.prototype,a),r(i.Text.prototype,a),o(n(102)),o(n(103)),o(n(105)),t.exports=i},function(t,e,n){"use strict";var r=n(4),i=n(0),o=n(5),a={},s=a.MOVETO="M",u=a.LINETO="L";a.QUADTO="Q";var l=a.CURVETO="C",h=a.CLOSE="Z";function c(t,e){return Math.abs(t-e)<=1e-12*Math.min(Math.abs(t),Math.abs(e))}a.linePoint=function(t,e,n,r,i){return{type:u,x:e+t*(r-e),y:n+t*(i-n)}},a.lineLength=function(t,e,n,r){var i=Math.pow(Math.abs(t-n),2),o=Math.pow(Math.abs(e-r),2);return Math.sqrt(i+o)},a.curvePoint=function(t,e,n,r,i,o,a,s,u){var h=1-t,c=r*h+o*t,f=i*h+a*t,p=(e*h+r*t)*h+c*t,d=(n*h+i*t)*h+f*t,m=c*h+(o*h+s*t)*t,y=f*h+(a*h+u*t)*t;return{type:l,x1:p,y1:d,x2:m,y2:y,x:p*h+m*t,y:d*h+y*t}},a.curveLength=function(t,e,n,r,i,o,s,u,l){void 0===l&&(l=20);var h,c,f,p=0,d=t,m=e;for(h=0;h<l;h+=1)c=(h+1)/l,f=a.curvePoint(c,t,e,n,r,i,o,s,u),p+=Math.sqrt(Math.pow(Math.abs(d-f.x),2)+Math.pow(Math.abs(m-f.y),2)),d=f.x,m=f.y;return p},a.segmentLengths=function(t,e,n){var i,o,c,f,p,d,m,y,v,g;for(e=void 0!==e&&e,void 0===n&&(n=20),v=[],i=0;i<t.length;i+=1)c=(o=t[i]).type,0===i?(f=o.x,p=o.y):c===s?(f=o.x,p=o.y,v.push(0)):c===h?v.push(a.lineLength(d,m,f,p)):c===u?v.push(a.lineLength(d,m,o.x,o.y)):c===l&&v.push(a.curveLength(d,m,o.x1,o.y1,o.x2,o.y2,o.x,o.y,n)),c!==h&&(d=o.x,m=o.y);if(!0===e){if(y=r.sum(v),(g=[]).length=v.length,y>0)for(i=0;i<v.length;i+=1)g[i]=v[i]/y;else for(i=0;i<v.length;i+=1)g[i]=0;return g}return v},a.length=function(t,e){return e=e||20,r.sum(a.segmentLengths(t.commands,!1,e))},a._locate=function(t,e,n){var r,o,u;for(void 0===n&&(n=a.segmentLengths(t.commands,!0)),r=0;r<t.commands.length&&(o=t.commands[r],0!==r&&o.type!==s||(u=new i(o.x,o.y)),!(e<=n[r]||r===n.length-1));r+=1)e-=n[r];return 0!==n[r]&&(e/=n[r]),r===n.length-1&&0===n[r]&&(r-=1),[r,e,u]},a.point=function(t,e,n){var r,i,o,s,c,f;return i=(r=a._locate(t,e,n))[0],e=r[1],o=r[2],s=t.commands[i].x,c=t.commands[i].y,(f=t.commands[i+1]).type===u||f.type===h?f=f.type===h?a.linePoint(e,s,c,o.x,o.y):a.linePoint(e,s,c,f.x,f.y):f.type===l&&(f=a.curvePoint(e,s,c,f.x1,f.y1,f.x2,f.y2,f.x,f.y)),f},a.extrema=function(t,e,n,r,i,a,s,u){var l,h,f,p,d,m,y,v,g,x,w,_,b,P;function C(o){if(o>=0&&o<=1){var c=function(t,e,n,r,i,o,a,s,u){var l,h,c,f,p;return{x:(l=(p=function(t){var e,n,r,i;return i=(r=t*t)*t,[(n=(e=1-t)*e)*e,n*=3*t,r*=3*e,i]}(u))[0])*t+(h=p[1])*n+(c=p[2])*i+(f=p[3])*a,y:l*e+h*r+c*o+f*s}}(t,e,n,r,i,a,s,u,o);c.x<l?l=c.x:c.x>h&&(h=c.x),c.y<f?f=c.y:c.y>p&&(p=c.y)}}return t<s?(l=t,h=s):(l=s,h=t),e<u?(f=e,p=u):(f=u,p=e),m=6*(t-2*n+i),y=3*(-t+n),c((d=3*(3*n-t-3*i+s))+1,1)?c(m+1,1)||C(-y/m):(b=m*m-4*d*y)>=0&&(C((-m+(w=Math.sqrt(b)))*(_=1/(2*d))),C((-m-w)*_)),g=6*(e-2*r+a),x=3*(-e+r),c((v=3*(3*r-e-3*a+u))+1,1)?c(g+1,1)||C(-x/g):(P=g*g-4*v*x)>0&&(C((-g+(w=Math.sqrt(P)))*(_=1/(2*v))),C((-g-w)*_)),new o(l,f,h-l,p-f)},t.exports=a},function(t,e,n){"use strict";var r=n(4),i=n(0),o={angle:function(t,e,n,i){return r.degrees(Math.atan2(i-e,n-t))},distance:function(t,e,n,r){return Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2))},coordinates:function(t,e,n,o){var a=t+Math.cos(r.radians(n))*o,s=e+Math.sin(r.radians(n))*o;return new i(a,s)},pointInPolygon:function(t,e,n){var r,i,o,a,s,u,l=!1,h=t.length;for(r=0;r<h;r+=1)i=r<h-1?r+1:0,o=t[r].x,a=t[r].y,s=t[i].x,u=t[i].y,(a<n&&u>=n||u<n&&a>=n)&&o+(n-a)/(u-a)*(s-o)<e&&(l=!l);return l}};t.exports=o},function(t,e,n){"use strict";var r=n(6),i=n(5),o=n(1),a=function(t){t?t.shapes||t.commands?this.shapes=[t]:t&&(this.shapes=t):this.shapes=[]};a.prototype.add=function(t){this.shapes.push(t)},a.prototype.clone=function(){var t,e=[],n=this.shapes.length;for(e.length=n,t=0;t<n;t+=1)e[t]=this.shapes[t].clone();return new a(e)},a.prototype.colorize=function(t){var e=arguments;("object"!=typeof t||t instanceof o)&&(t={},void 0!==e[0]&&(t.fill=e[0]),void 0!==e[1]&&(t.stroke=e[1]),void 0!==e[2]&&(t.strokeWidth=e[2]));var n=[];n.length=this.shapes.length;for(var r=0;r<this.shapes.length;r+=1)n[r]=this.shapes[r].colorize(t);return new a(n)},a.prototype.desaturate=function(t){var e=[];e.length=this.shapes.length;for(var n=0;n<this.shapes.length;n+=1)e[n]=this.shapes[n].desaturate(t);return new a(e)},a.prototype.invert=function(){var t=[];t.length=this.shapes.length;for(var e=0;e<this.shapes.length;e+=1)t[e]=this.shapes[e].invert();return new a(t)},a.prototype.bounds=function(){if(0===this.shapes.length)return new i(0,0,0,0);var t,e,n,r=this.shapes;for(t=0;t<r.length;t+=1)n=r[t],void 0===e&&(e=n.bounds()),(n.shapes&&0!==n.shapes.length||n.commands&&0!==n.commands.length)&&(e=e.unite(n.bounds()));return void 0!==e?e:new i(0,0,0,0)},a.prototype.contains=function(t,e,n){void 0===n&&(n=100);var r,i=this.shapes;for(r=0;r<i.length;r+=1)if(i[r].contains(t,e,n))return!0;return!1},a.prototype.length=function(t){void 0===t&&(t=10);for(var e=0,n=this.shapes,r=0;r<n.length;r+=1)e+=n[r].length(t);return e},a.prototype.resampleByAmount=function(t,e){if(!e)return new r.combine(this).resampleByAmount(t,e);var n=[];n.length=this.shapes.length;for(var i=0;i<this.shapes.length;i+=1)n[i]=this.shapes[i].resampleByAmount(t,e);return new a(n)},a.prototype.resampleByLength=function(t){var e=[];e.length=this.shapes.length;for(var n=0;n<this.shapes.length;n+=1)e[n]=this.shapes[n].resampleByLength(t);return new a(e)},a.prototype.toSVG=function(){var t=[];t.length=this.shapes.length;for(var e=0;e<this.shapes.length;e+=1)t[e]=this.shapes[e].toSVG();return"<g>"+t.join("")+"</g>"},a.prototype.draw=function(t){var e,n=this.shapes,r=n.length;for(e=0;e<r;e+=1)n[e].draw(t)},t.exports=a},,,,,,,,function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e,r="object"==typeof self&&self&&self.Object===Object&&self,i=n||r||Function("return this")();function o(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var a=Object.prototype,s=a.hasOwnProperty,u=a.toString,l=i.Symbol,h=a.propertyIsEnumerable,c=l?l.isConcatSpreadable:void 0;function f(t){return p(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?u.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)}(t)}(t)&&s.call(t,"callee")&&(!h.call(t,"callee")||"[object Arguments]"==u.call(t))}(t)||!!(c&&t&&t[c])}var p=Array.isArray;t.exports=function(t){return(t?t.length:0)?function t(e,n,r,i,a){var s=-1,u=e.length;for(r||(r=f),a||(a=[]);++s<u;){var l=e[s];n>0&&r(l)?n>1?t(l,n-1,r,i,a):o(a,l):i||(a[a.length]=l)}return a}(t,1):[]}}).call(this,n(3))},function(t,e,n){"use strict";var r,i,o,a,s=n(34),u=n(46),l=n(108),h=s.transform(),c=h,f=s.clamp,p=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","transparent","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"];function d(t,e,n,r,i){var o,a,s,u,l;if(void 0===t)o=a=s=0,u=1;else if(Array.isArray(t))l=e||{},o=void 0!==t[0]?t[0]:0,a=void 0!==t[1]?t[1]:0,s=void 0!==t[2]?t[2]:0,u=void 0!==t[3]?t[3]:l.base||1;else if(void 0!==t.r)l=e||{},o=t.r,a=t.g,s=t.b,u=void 0!==t.a?t.a:l.base||1;else if("string"==typeof t){if(0===t.indexOf("#"))return t;if(0===t.indexOf("rgb"))return t;if(-1!==p.indexOf(t))return t}else"number"==typeof t&&(1===arguments.length?(o=a=s=t,u=1):2===arguments.length?(o=a=s=t,u="number"==typeof e?e:(l=e).base||1):3===arguments.length?"number"==typeof n?(o=t,a=e,s=n,u=1):(o=a=s=t,u=e,l=n):4===arguments.length?(o=t,a=e,s=n,u="number"==typeof r?r:(l=r||{}).base||1):(o=t,a=e,s=n,u=r,l=i));if("number"!=typeof o||"number"!=typeof a||"number"!=typeof s||"number"!=typeof u)throw new Error("Invalid color arguments");return void 0!==(l=l||{}).base&&(o/=l.base,a/=l.base,s/=l.base,u/=l.base),"rgba("+Math.round(255*o)+", "+Math.round(255*a)+", "+Math.round(255*s)+", "+u+")"}function m(t,e,n,r,i){var o,a,s,u,l,h,c={};if(1===arguments.length)o=(h=t||{}).startColor,a=h.endColor,s=h.type,u=h.rotation,l=h.spread;else if(arguments.length>=2)if(o=t,a=e,s="linear",u=0,l=0,3===arguments.length)"string"==typeof n?s=n:"number"==typeof n&&(u=n);else if(4===arguments.length)if("number"==typeof n)u=n,l=r;else if("linear"===n)u=r;else{if("radial"!==n)throw new Error("Wrong argument provided: "+n);s=n,l=r}else 5===arguments.length&&(s=n,u=r,l=i);if(!o&&0!==o)throw new Error("No startColor was given.");if(!a&&0!==a)throw new Error("No endColor was given.");try{c.startColor=d(o)}catch(t){throw new Error("startColor is not a valid color: "+o)}try{c.endColor=d(a)}catch(t){throw new Error("endColor is not a valid color: "+a)}if(void 0===s&&(s="linear"),"linear"!==s&&"radial"!==s)throw new Error("Unknown gradient type: "+s);if(c.type=s,void 0===l&&(l=0),"number"!=typeof l)throw new Error("Spread value is not a number: "+l);if("linear"===s){if(void 0===u&&(u=0),"number"!=typeof u)throw new Error("Rotation value is not a number: "+u);c.rotation=u}return c.spread=f(l,0,.99),c}(o=function(t,e){e||(e=function(t){if("string"==typeof t)return"path";if(t instanceof Image)return"image";if(t instanceof HTMLCanvasElement)return"htmlCanvas";if(t instanceof i)return"iCanvas";if(void 0!==t.r&&void 0!==t.g&&void 0!==t.b&&void 0!==t.a)return"fill";if(void 0!==t.startColor&&void 0!==t.endColor)return"gradient";throw new Error("Cannot establish type for data ",t)}(t)),this.data=t,this.type=e,"htmlCanvas"!==e&&"iCanvas"!==e&&"image"!==e||(this.width=t.width,this.height=t.height),this.opacity=1,this.blendmode="source-over",this.transform=h,this.flip_h=!1,this.flip_v=!1,this.mask=new i,this.filters=[]}).Transform=o.IDENTITY_TRANSFORM=h,o.prototype.clone=function(){function t(t){var e,n,r={};if(r.name=t.name,void 0!==t.options){r.options={};for(var i=Object.keys(t.options),o=0;o<i.length;o+=1)e=i[o],n=t.options[e],Array.isArray(n)?r.options[e]=n.slice(0):r.options[e]=n}return r}var e=Object.create(o.prototype);e.data=this.data,e.type=this.type,e.width=this.width,e.height=this.height,e.opacity=this.opacity,e.blendmode=this.blendmode,e.transform=this.transform,e.flip_h=this.flip_h,e.flip_v=this.flip_v,e.mask=this.mask.clone(),e.filters=[],"iCanvas"===this.type?e.data=this.data.clone():"gradient"===this.type&&(e.data={startColor:this.data.startColor,endColor:this.data.endColor,type:this.data.type,rotation:this.data.rotation,spread:this.data.spread});for(var n=0;n<this.filters.length;n+=1)e.filters.push(t(this.filters[n]));return e},o.prototype.setOpacity=function(t){this.opacity=f(t,0,1)},o.prototype.translate=function(t,e){e=void 0===e?0:e;var n=c.translate(t,e);this.transform=this.transform.prepend(n)},o.prototype.scale=function(t,e){e=void 0===e?t:e;var n=c.scale(t,e);this.transform=this.transform.prepend(n)},o.prototype.rotate=function(t){var e=c.rotate(t);this.transform=this.transform.prepend(e)},o.prototype.skew=function(t,e){e=void 0===e?t:e;var n=c.skew(t,e);this.transform=this.transform.prepend(n)},o.prototype.flipHorizontal=function(t){this.flip_h=void 0!==t?t:!this.flip_h},o.prototype.flipVertical=function(t){this.flip_v=void 0!==t?t:!this.flip_v},o.prototype.addFilter=function(t,e){this.filters.push({name:t,options:e})},o.prototype.draw=function(t){var e=void 0===this.width?800:this.width,n=void 0===this.height?800:this.height,r=new i(e,n);r.addLayer(this),r.draw(t)},o.prototype.toCanvas=function(){var t=document.createElement("canvas");t.width=this.width,t.height=this.height;var e=t.getContext("2d");return this.draw(e),t},o.fromFile=function(t){return new o(t,"path")},o.fromImage=function(t){return new o(t,"image")},o.fromCanvas=function(t){return t instanceof HTMLCanvasElement?o.fromHtmlCanvas(t):o.fromImageCanvas(t)},o.fromHtmlCanvas=function(t){return new o(t,"htmlCanvas")},o.fromImageCanvas=function(t){return new o(t,"iCanvas")},o.fromColor=function(t){return new o(d(t),"fill")},o.fromGradient=function(){return new o(m.apply(null,arguments),"gradient")},o.prototype.isPath=function(){return"path"===this.type},o.prototype.isFill=function(){return"fill"===this.type},o.prototype.isGradient=function(){return"gradient"===this.type},o.prototype.isHtmlCanvas=function(){return"htmlCanvas"===this.type},o.prototype.isImage=function(){return"image"===this.type},o.prototype.isImageCanvas=function(){return"iCanvas"===this.type};var y=function(t){this.width=t.width,this.height=t.height;var e=t.getContext("2d");this._data=e.getImageData(0,0,this.width,this.height),this.array=this._data.data};function v(t){return{x:t,y:t}}function g(t){return null!=t}function x(t){return Array.isArray(t)?function(t){var e=t[0];return{x:e,y:t.length>1?t[1]:e}}(t):"number"==typeof t?v(t):function(t){return!!t&&(void 0!==t.x&&void 0!==t.y)}(t)?t:void 0}y.prototype.get=function(t){t*=4;var e=this.array;return[e[t+0],e[t+1],e[t+2],e[t+3]]},y.prototype.set=function(t,e){t*=4;var n=this.array;n[t+0]=e[0],n[t+1]=e[1],n[t+2]=e[2],n[t+3]=e[3]},y.prototype.toCanvas=function(){var t=document.createElement("canvas");return t.width=this.width,t.height=this.height,t.getContext("2d").putImageData(this._data,0,0),t},(i=function(t,e){t||(t=800),e||(e=800),this.width=t,this.height=e,this.layers=[]}).prototype.clone=function(){for(var t=new i(this.width,this.height),e=0;e<this.layers.length;e+=1)t.layers.push(this.layers[e].clone());return t},i.prototype.addLayer=function(t){var e;try{return this.addGradientLayer.apply(this,arguments)}catch(t){}try{return this.addColorLayer.apply(this,arguments)}catch(t){}if(1===arguments.length&&("string"==typeof t?e=new o(t,"path"):t instanceof o?e=t:t instanceof HTMLCanvasElement?e=new o(t,"htmlCanvas"):t instanceof Image?e=new o(t,"image"):t instanceof i&&(e=new o(t,"iCanvas"))),!e)throw new Error("Error creating layer.");return this.layers.push(e),e},i.prototype.addColorLayer=function(){var t=d.apply(null,arguments),e=new o(t,"fill");return this.layers.push(e),e},i.prototype.addGradientLayer=function(){var t=m.apply(null,arguments),e=new o(t,"gradient");return this.layers.push(e),e},i.prototype.render=function(t){return(t?l:u).render(this,t)},i.prototype.draw=function(t,e){if(e)this.render((function(e){t.drawImage(e,0,0,e.width,e.height)}));else{var n=this.render();t.drawImage(n,0,0,n.width,n.height)}},(a=function(t,e,n){this.canvas=t,this.originalWidth=t?t.width:0,this.originalHeight=t?t.height:0,this.transform=e||n?c.translate(e,n):o.IDENTITY_TRANSFORM}).prototype.clone=function(){var t=new a;return t.canvas=this.canvas,t.originalWidth=this.originalWidth,t.originalHeight=this.originalHeight,t.transform=this.transform,t},a.prototype.withCanvas=function(t){var e=this.clone();return e.canvas=t,e},a.prototype._transform=function(t){var e=this.clone();return e.transform=e.transform.prepend(t),e},a.prototype.translate=function(t){var e=v(0),n=arguments;return 1===n.length&&g(t)?e=x(t):2===n.length&&(e={x:n[0],y:n[1]}),0===e.x&&0===e.y?this:this._transform(c.translate(e.x,e.y))},a.prototype.rotate=function(t){if(!t)return this;var e=v(0),n=arguments;return 2===n.length?e=x(n[1]):3===n.length&&(e={x:n[1],y:n[2]}),this._transform(c.translate(e.x,e.y).rotate(t).translate(-e.x,-e.y))},a.prototype.scale=function(t){var e=v(1),n=v(0),r=arguments;return 1===r.length&&g(t)?e=x(t):2===r.length?"number"==typeof t&&"number"==typeof r[1]?e={x:r[0],y:r[1]}:(e=x(t),n=x(r[1])):4===r.length&&(e={x:r[0],y:r[1]},n={x:r[2],y:r[3]}),1===e.x&&1===e.y?this:this._transform(c.translate(n.x,n.y).scale(e.x,e.y).translate(-n.x,-n.y))},a.prototype.skew=function(t){var e=v(0),n=v(0),r=arguments;return 1===r.length&&g(t)?e=x(t):2===r.length?"number"==typeof t&&"number"==typeof r[1]?e={x:r[0],y:r[1]}:(e=x(t),n=x(r[1])):4===r.length&&(e={x:r[0],y:r[1]},n={x:r[2],y:r[3]}),0===e.x&&0===e.y?this:this._transform(c.translate(n.x,n.y).skew(e.x,e.y).translate(-n.x,-n.y))},a.prototype.transformed=function(){return r.merge([this])},a.prototype.bounds=function(){for(var t,e,n,r,i,o=this.transform,a=this.originalWidth/2,s=this.originalHeight/2,u=[{x:-a,y:-s},{x:a,y:-s},{x:-a,y:s},{x:a,y:s}],l=0;l<4;l+=1)t=o.transformPoint(u[l]),0===l?(e=r=t.x,n=i=t.y):(t.x<e&&(e=t.x),t.x>r&&(r=t.x),t.y<n&&(n=t.y),t.y>i&&(i=t.y));return{x:e,y:n,width:r-e,height:i-n}},a.prototype.colorize=function(t){var e=o.fromColor(t);e.width=this.originalWidth,e.height=this.originalHeight;var n=new a(e.toCanvas());return n=n._transform(this.transform.matrix()),r.merge([this,n])},a.prototype.desaturate=function(t){var e=this.toLayer(!1);return e.addFilter("desaturate",t),this.withCanvas(e.toCanvas())},a.prototype.crop=function(t){var e,n,i,o,s,u,l,h,c=this.bounds(),f=t.bounds(),p=(n=f,i=(e=c).x+e.width,o=e.y+e.height,s=n.x+n.width,u=n.y+n.height,l=Math.max(e.x,n.x),h=Math.max(e.y,n.y),{x:l,y:h,width:Math.max(Math.min(i,s)-l,0),height:Math.max(Math.min(o,u)-h,0)}),d=Math.ceil(p.width),m=Math.ceil(p.height);if(0===p.width||0===p.height)throw new Error("Resulting image has no dimensions");var y=new r.ImageCanvas(d,m),v=y.addLayer(this.toLayer());return v.translate(d/2-f.width-f.x,m/2-f.height-f.y),d<f.width&&p.x>c.x&&v.translate(f.width-d,0),m<f.height&&p.y>c.y&&v.translate(0,f.height-m),new a(y.render(),p.x+d/2,p.y+m/2)},a.prototype.draw=function(t){t.save();var e=this.transform.matrix();t.transform(e[0],e[1],e[3],e[4],e[6],e[7]),t.translate(-this.originalWidth/2,-this.originalHeight/2),t.drawImage(this.canvas,0,0),t.restore()},a.prototype.toLayer=function(t){var e=document.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,e.getContext("2d").drawImage(this.canvas,0,0);var n=r.Layer.fromHtmlCanvas(e);return void 0===t&&(t=!0),t&&(n.transform=this.transform),n},a.prototype.getPixels=function(){return new y(this.canvas)},a.prototype.toImage=function(){var t=this.bounds(),e=this.crop({bounds:function(){return t}}),n=new Image;return n.width=e.canvas.width,n.height=e.canvas.height,n.src=e.canvas.toDataURL(),n},(r={}).Layer=o,r.ImageCanvas=i,r.Img=a,r.Pixels=y;var w=n(48);function _(t,e){var n=new Image;n.onload=function(){e(null,[t,this])},n.src=t}r.loadImages=function(t,e){w.map(t,_,(function(t,n){if(e){for(var r,i,o={},a=0;a<n.length;a+=1)r=n[a][0],i=n[a][1],o[r]=i;e(o)}}))},r.merge=function(t){var e,n,r,o,s,u,l;for(e=0;e<t.length;e+=1)n=t[e],0===e?r=n.bounds():(o=r,s=n.bounds(),u=void 0,l=void 0,u=Math.min(o.x,s.x),l=Math.min(o.y,s.y),r={x:u,y:l,width:Math.max(o.x+o.width,s.x+s.width)-u,height:Math.max(o.y+o.height,s.y+s.height)-l});var h=r.width/2+r.x,c=r.height/2+r.y,f=new i(r.width,r.height);for(e=0;e<t.length;e+=1)f.addLayer(t[e].toLayer()).translate(-h,-c);return new a(f.render(),h,c)},t.exports=r},function(t,e,n){"use strict";function r(t){return t/180*Math.PI}t.exports={degrees:function(t){return 180*t/Math.PI},radians:r,distance:function(t,e,n,r){return Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2))},clamp:function(t,e,n){return Math.min(n,Math.max(e,t))},transform:function t(e){function n(e,n){var r=(n=n.slice())[0],i=n[1],o=(n[2],n[3]),a=n[4],s=(n[5],n[6]),u=n[7];n[8];return n[0]=e[0]*r+e[1]*o,n[1]=e[0]*i+e[1]*a,n[3]=e[3]*r+e[4]*o,n[4]=e[3]*i+e[4]*a,n[6]=e[6]*r+e[7]*o+s,n[7]=e[6]*i+e[7]*a+u,t(n)}return e=void 0===e?[1,0,0,0,1,0,0,0,1]:e.slice(),{matrix:function(){return e.slice()},clone:function(){return t(e)},prepend:function(t){return t.matrix&&(t=t.matrix()),n(e,t)},append:function(t){return t.matrix&&(t=t.matrix()),n(t,e)},translate:function(t,r){return n([1,0,0,0,1,0,t,r,1],e)},scale:function(t,r){return void 0===r&&(r=t),n([t,0,0,0,r,0,0,0,1],e)},skew:function(t,r){void 0===r&&(r=t);var i=Math.PI*t/180,o=Math.PI*r/180;return n([1,Math.tan(o),0,-Math.tan(i),1,0,0,0,1],e)},rotate:function(t){var i=Math.cos(r(t)),o=Math.sin(r(t));return n([i,o,0,-o,i,0,0,0,1],e)},transformPoint:function(t){var n=t.x,r=t.y;return{x:n*e[0]+r*e[3]+e[6],y:n*e[1]+r*e[4]+e[7]}}}}}},,,,,,function(t,e,n){"use strict";var r={};function i(t){var e;return 0===t?"00":((e=t.toString(16).toUpperCase()).length<2&&(e="0"+e),e)}r.namedColors={lightpink:[1,.71,.76],pink:[1,.75,.8],crimson:[.86,.08,.24],lavenderblush:[1,.94,.96],palevioletred:[.86,.44,.58],hotpink:[1,.41,.71],deeppink:[1,.08,.58],mediumvioletred:[.78,.08,.52],orchid:[.85,.44,.84],thistle:[.85,.75,.85],plum:[.87,.63,.87],violet:[.93,.51,.93],fuchsia:[1,0,1],darkmagenta:[.55,0,.55],purple:[.5,0,.5],mediumorchid:[.73,.33,.83],darkviolet:[.58,0,.83],darkorchid:[.6,.2,.8],indigo:[.29,0,.51],blueviolet:[.54,.17,.89],mediumpurple:[.58,.44,.86],mediumslateblue:[.48,.41,.93],slateblue:[.42,.35,.8],darkslateblue:[.28,.24,.55],ghostwhite:[.97,.97,1],lavender:[.9,.9,.98],blue:[0,0,1],mediumblue:[0,0,.8],darkblue:[0,0,.55],navy:[0,0,.5],midnightblue:[.1,.1,.44],royalblue:[.25,.41,.88],cornflowerblue:[.39,.58,.93],lightsteelblue:[.69,.77,.87],lightslategray:[.47,.53,.6],slategray:[.44,.5,.56],dodgerblue:[.12,.56,1],aliceblue:[.94,.97,1],steelblue:[.27,.51,.71],lightskyblue:[.53,.81,.98],skyblue:[.53,.81,.92],deepskyblue:[0,.75,1],lightblue:[.68,.85,.9],powderblue:[.69,.88,.9],cadetblue:[.37,.62,.63],darkturquoise:[0,.81,.82],azure:[.94,1,1],lightcyan:[.88,1,1],paleturquoise:[.69,.93,.93],aqua:[0,1,1],darkcyan:[0,.55,.55],teal:[0,.5,.5],darkslategray:[.18,.31,.31],mediumturquoise:[.28,.82,.8],lightseagreen:[.13,.7,.67],turquoise:[.25,.88,.82],aquamarine:[.5,1,.83],mediumaquamarine:[.4,.8,.67],mediumspringgreen:[0,.98,.6],mintcream:[.96,1,.98],springgreen:[0,1,.5],mediumseagreen:[.24,.7,.44],seagreen:[.18,.55,.34],honeydew:[.94,1,.94],darkseagreen:[.56,.74,.56],palegreen:[.6,.98,.6],lightgreen:[.56,.93,.56],limegreen:[.2,.8,.2],lime:[0,1,0],forestgreen:[.13,.55,.13],green:[0,.5,0],darkgreen:[0,.39,0],lawngreen:[.49,.99,0],chartreuse:[.5,1,0],greenyellow:[.68,1,.18],darkolivegreen:[.33,.42,.18],yellowgreen:[.6,.8,.2],olivedrab:[.42,.56,.14],ivory:[1,1,.94],beige:[.96,.96,.86],lightyellow:[1,1,.88],lightgoldenrodyellow:[.98,.98,.82],yellow:[1,1,0],olive:[.5,.5,0],darkkhaki:[.74,.72,.42],palegoldenrod:[.93,.91,.67],lemonchiffon:[1,.98,.8],khaki:[.94,.9,.55],gold:[1,.84,0],cornsilk:[1,.97,.86],goldenrod:[.85,.65,.13],darkgoldenrod:[.72,.53,.04],floralwhite:[1,.98,.94],oldlace:[.99,.96,.9],wheat:[.96,.87,.07],orange:[1,.65,0],moccasin:[1,.89,.71],papayawhip:[1,.94,.84],blanchedalmond:[1,.92,.8],navajowhite:[1,.87,.68],antiquewhite:[.98,.92,.84],tan:[.82,.71,.55],burlywood:[.87,.72,.53],darkorange:[1,.55,0],bisque:[1,.89,.77],linen:[.98,.94,.9],peru:[.8,.52,.25],peachpuff:[1,.85,.73],sandybrown:[.96,.64,.38],chocolate:[.82,.41,.12],saddlebrown:[.55,.27,.07],seashell:[1,.96,.93],sienna:[.63,.32,.18],lightsalmon:[1,.63,.48],coral:[1,.5,.31],orangered:[1,.27,0],darksalmon:[.91,.59,.48],tomato:[1,.39,.28],salmon:[.98,.5,.45],mistyrose:[1,.89,.88],lightcoral:[.94,.5,.5],snow:[1,.98,.98],rosybrown:[.74,.56,.56],indianred:[.8,.36,.36],red:[1,0,0],brown:[.65,.16,.16],firebrick:[.7,.13,.13],darkred:[.55,0,0],maroon:[.5,0,0],white:[1,1,1],whitesmoke:[.96,.96,.96],gainsboro:[.86,.86,.86],lightgrey:[.83,.83,.83],silver:[.75,.75,.75],darkgray:[.66,.66,.66],gray:[.5,.5,.5],grey:[.5,.5,.5],dimgray:[.41,.41,.41],dimgrey:[.41,.41,.41],black:[0,0,0],cyan:[0,.68,.94],transparent:[0,0,0,0],bark:[.25,.19,.13]},r.rgb2hex=function(t,e,n){return"#"+i(Math.round(255*t))+i(Math.round(255*e))+i(Math.round(255*n))},r.rgba2hex=function(t,e,n,r){return"#"+i(Math.round(255*t))+i(Math.round(255*e))+i(Math.round(255*n))+i(Math.round(255*r))},r.hex2rgb=function(t){if(3!==(t=t.replace(/^#/,"")).length&&6!==t.length||!/^[0-9a-fA-F]*$/.test(t))throw new Error("Invalid hex value: #"+t);return 3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),[parseInt(t.substr(0,2),16)/255,parseInt(t.substr(2,2),16)/255,parseInt(t.substr(4,2),16)/255]},r.rgb2hsb=function(t,e,n){var r=0,i=0,o=Math.max(t,e,n),a=o-Math.min(t,e,n);return 0!==o&&(i=a/o),0!==i&&(r=t===o?0+(e-n)/a:e===o?2+(n-t)/a:4+(t-e)/a),(r*=60/360)<0&&(r+=1),[r,i,o]},r.hsb2rgb=function(t,e,n){if(0===e)return[n,n,n];t=t%1*6;var r=Math.floor(t),i=t-r,o=n*(1-e),a=n*(1-e*i),s=n*(1-e*(1-i));return r>4?[n,o,a]:[[n,s,o],[a,n,o],[o,n,s],[o,a,n],[s,o,n]][parseInt(r,10)]},r.rgb2hsl=function(t,e,n){var r,i,o=Math.min(t,e,n),a=Math.max(t,e,n),s=a-o;return a===o?r=0:t===a?r=(e-n)/s:e===a?r=2+(n-t)/s:n===a&&(r=4+(t-e)/s),(r=Math.min(60*r,360))<0&&(r+=360),i=(o+a)/2,[r/360,a===o?0:i<=.5?s/(a+o):s/(2-a-o),i]},r.hsl2rgb=function(t,e,n){var r,i,o,a,s;if(0===e)return[s=n,s,s];r=2*n-(i=n<.5?n*(1+e):n+e-n*e),a=[0,0,0];for(var u=0;u<3;u++)(o=t+1/3*-(u-1))<0&&(o+=1),o>1&&(o-=1),s=6*o<1?r+6*(i-r)*o:2*o<1?i:3*o<2?r+(i-r)*(2/3-o)*6:r,a[u]=s;return a},t.exports=r},function(t,e,n){"use strict";e.generator=function t(e){if(e<0){for(var n=t(Math.abs(e)),r=0;r<23;r+=1)n();return t(n(0,1e4))}return function(t,n){return(t=t||0)+(e=(9301*e+49297)%233280)/233280*((n=n||1)-t)}}},function(t,e){function n(t,e){for(var n in t)e[n]=t[n]}function r(t,e){var r=t.prototype;if(Object.create){var i=Object.create(e.prototype);r.__proto__=i}if(!(r instanceof e)){function o(){}o.prototype=e.prototype,n(r,o=new o),t.prototype=r=o}r.constructor!=t&&("function"!=typeof t&&console.error("unknow Class:"+t),r.constructor=t)}var i={},o=i.ELEMENT_NODE=1,a=i.ATTRIBUTE_NODE=2,s=i.TEXT_NODE=3,u=i.CDATA_SECTION_NODE=4,l=i.ENTITY_REFERENCE_NODE=5,h=i.ENTITY_NODE=6,c=i.PROCESSING_INSTRUCTION_NODE=7,f=i.COMMENT_NODE=8,p=i.DOCUMENT_NODE=9,d=i.DOCUMENT_TYPE_NODE=10,m=i.DOCUMENT_FRAGMENT_NODE=11,y=i.NOTATION_NODE=12,v={},g={},x=(v.INDEX_SIZE_ERR=(g[1]="Index size error",1),v.DOMSTRING_SIZE_ERR=(g[2]="DOMString size error",2),v.HIERARCHY_REQUEST_ERR=(g[3]="Hierarchy request error",3)),w=(v.WRONG_DOCUMENT_ERR=(g[4]="Wrong document",4),v.INVALID_CHARACTER_ERR=(g[5]="Invalid character",5),v.NO_DATA_ALLOWED_ERR=(g[6]="No data allowed",6),v.NO_MODIFICATION_ALLOWED_ERR=(g[7]="No modification allowed",7),v.NOT_FOUND_ERR=(g[8]="Not found",8)),_=(v.NOT_SUPPORTED_ERR=(g[9]="Not supported",9),v.INUSE_ATTRIBUTE_ERR=(g[10]="Attribute in use",10));v.INVALID_STATE_ERR=(g[11]="Invalid state",11),v.SYNTAX_ERR=(g[12]="Syntax error",12),v.INVALID_MODIFICATION_ERR=(g[13]="Invalid modification",13),v.NAMESPACE_ERR=(g[14]="Invalid namespace",14),v.INVALID_ACCESS_ERR=(g[15]="Invalid access",15);function b(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,g[t]),this.message=g[t],Error.captureStackTrace&&Error.captureStackTrace(this,b);return n.code=t,e&&(this.message=this.message+": "+e),n}function P(){}function C(t,e){this._node=t,this._refresh=e,T(this)}function T(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var r=t._refresh(t._node);et(t,"length",r.length),n(r,t),t._inc=e}}function I(){}function E(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function M(t,e,n,r){if(r?e[E(e,r)]=n:e[e.length++]=n,t){n.ownerElement=t;var i=t.ownerDocument;i&&(r&&k(i,t,r),function(t,e,n){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(e._nsMap[n.prefix?n.localName:""]=n.value)}(i,t,n))}}function A(t,e,n){var r=E(e,n);if(!(r>=0))throw b(w,new Error(t.tagName+"@"+n));for(var i=e.length-1;r<i;)e[r]=e[++r];if(e.length=i,t){var o=t.ownerDocument;o&&(k(o,t,n),n.ownerElement=null)}}function N(t){if(this._features={},t)for(var e in t)this._features=t[e]}function S(){}function L(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function O(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(O(t,e))return!0}while(t=t.nextSibling)}function D(){}function k(t,e,n,r){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete e._nsMap[n.prefix?n.localName:""]}function X(t,e,n){if(t&&t._inc){t._inc++;var r=e.childNodes;if(n)r[r.length++]=n;else{for(var i=e.firstChild,o=0;i;)r[o++]=i,i=i.nextSibling;r.length=o}}}function Y(t,e){var n=e.previousSibling,r=e.nextSibling;return n?n.nextSibling=r:t.firstChild=r,r?r.previousSibling=n:t.lastChild=n,X(t.ownerDocument,t),e}function R(t,e,n){var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===m){var i=e.firstChild;if(null==i)return e;var o=e.lastChild}else i=o=e;var a=n?n.previousSibling:t.lastChild;i.previousSibling=a,o.nextSibling=n,a?a.nextSibling=i:t.firstChild=i,null==n?t.lastChild=o:n.previousSibling=o;do{i.parentNode=t}while(i!==o&&(i=i.nextSibling));return X(t.ownerDocument||t,t),e.nodeType==m&&(e.firstChild=e.lastChild=null),e}function B(){this._nsMap={}}function F(){}function j(){}function U(){}function z(){}function W(){}function q(){}function H(){}function Z(){}function V(){}function G(){}function $(){}function J(){}function Q(t,e){var n=[],r=9==this.nodeType?this.documentElement:this,i=r.prefix,o=r.namespaceURI;if(o&&null==i&&null==(i=r.lookupPrefix(o)))var a=[{namespace:o,prefix:null}];return tt(this,n,t,e,a),n.join("")}function K(t,e,n){var r=t.prefix||"",i=t.namespaceURI;if(!r&&!i)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===i||"http://www.w3.org/2000/xmlns/"==i)return!1;for(var o=n.length;o--;){var a=n[o];if(a.prefix==r)return a.namespace!=i}return!0}function tt(t,e,n,r,i){if(r){if(!(t=r(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case o:i||(i=[]);i.length;var h=t.attributes,y=h.length,v=t.firstChild,g=t.tagName;n="http://www.w3.org/1999/xhtml"===t.namespaceURI||n,e.push("<",g);for(var x=0;x<y;x++){"xmlns"==(w=h.item(x)).prefix?i.push({prefix:w.localName,namespace:w.value}):"xmlns"==w.nodeName&&i.push({prefix:"",namespace:w.value})}for(x=0;x<y;x++){var w;if(K(w=h.item(x),0,i)){var _=w.prefix||"",b=w.namespaceURI,P=_?" xmlns:"+_:" xmlns";e.push(P,'="',b,'"'),i.push({prefix:_,namespace:b})}tt(w,e,n,r,i)}if(K(t,0,i)){_=t.prefix||"",b=t.namespaceURI,P=_?" xmlns:"+_:" xmlns";e.push(P,'="',b,'"'),i.push({prefix:_,namespace:b})}if(v||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(g)){if(e.push(">"),n&&/^script$/i.test(g))for(;v;)v.data?e.push(v.data):tt(v,e,n,r,i),v=v.nextSibling;else for(;v;)tt(v,e,n,r,i),v=v.nextSibling;e.push("</",g,">")}else e.push("/>");return;case p:case m:for(v=t.firstChild;v;)tt(v,e,n,r,i),v=v.nextSibling;return;case a:return e.push(" ",t.name,'="',t.value.replace(/[<&"]/g,L),'"');case s:return e.push(t.data.replace(/[<&]/g,L));case u:return e.push("<![CDATA[",t.data,"]]>");case f:return e.push("\x3c!--",t.data,"--\x3e");case d:var C=t.publicId,T=t.systemId;if(e.push("<!DOCTYPE ",t.name),C)e.push(' PUBLIC "',C),T&&"."!=T&&e.push('" "',T),e.push('">');else if(T&&"."!=T)e.push(' SYSTEM "',T,'">');else{var I=t.internalSubset;I&&e.push(" [",I,"]"),e.push(">")}return;case c:return e.push("<?",t.target," ",t.data,"?>");case l:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function et(t,e,n){t[e]=n}b.prototype=Error.prototype,n(v,b),P.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var n=[],r=0;r<this.length;r++)tt(this[r],n,t,e);return n.join("")}},C.prototype.item=function(t){return T(this),this[t]},r(C,P),I.prototype={length:0,item:P.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new b(_);var n=this.getNamedItem(t.nodeName);return M(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e,n=t.ownerElement;if(n&&n!=this._ownerElement)throw new b(_);return e=this.getNamedItemNS(t.namespaceURI,t.localName),M(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return A(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return A(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var r=this[n];if(r.localName==e&&r.namespaceURI==t)return r}return null}},N.prototype={hasFeature:function(t,e){var n=this._features[t.toLowerCase()];return!(!n||e&&!(e in n))},createDocument:function(t,e,n){var r=new D;if(r.implementation=this,r.childNodes=new P,r.doctype=n,n&&r.appendChild(n),e){var i=r.createElementNS(t,e);r.appendChild(i)}return r},createDocumentType:function(t,e,n){var r=new q;return r.name=t,r.nodeName=t,r.publicId=e,r.systemId=n,r}},S.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return R(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return Y(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return function t(e,n,r){var i=new n.constructor;for(var s in n){var u=n[s];"object"!=typeof u&&u!=i[s]&&(i[s]=u)}n.childNodes&&(i.childNodes=new P);switch(i.ownerDocument=e,i.nodeType){case o:var l=n.attributes,h=i.attributes=new I,c=l.length;h._ownerElement=i;for(var f=0;f<c;f++)i.setAttributeNode(t(e,l.item(f),!0));break;case a:r=!0}if(r)for(var p=n.firstChild;p;)i.appendChild(t(e,p,r)),p=p.nextSibling;return i}(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==s&&t.nodeType==s?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n)for(var r in n)if(n[r]==t)return r;e=e.nodeType==a?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&t in n)return n[t];e=e.nodeType==a?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},n(i,S),n(i,S.prototype),D.prototype={nodeName:"#document",nodeType:p,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==m){for(var n=t.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,e),n=r}return t}return null==this.documentElement&&t.nodeType==o&&(this.documentElement=t),R(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),Y(this,t)},importNode:function(t,e){return function t(e,n,r){var i;switch(n.nodeType){case o:(i=n.cloneNode(!1)).ownerDocument=e;case m:break;case a:r=!0}i||(i=n.cloneNode(!1));if(i.ownerDocument=e,i.parentNode=null,r)for(var s=n.firstChild;s;)i.appendChild(t(e,s,r)),s=s.nextSibling;return i}(this,t,e)},getElementById:function(t){var e=null;return O(this.documentElement,(function(n){if(n.nodeType==o&&n.getAttribute("id")==t)return e=n,!0})),e},createElement:function(t){var e=new B;return e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new P,(e.attributes=new I)._ownerElement=e,e},createDocumentFragment:function(){var t=new G;return t.ownerDocument=this,t.childNodes=new P,t},createTextNode:function(t){var e=new U;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new z;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new W;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new $;return n.ownerDocument=this,n.tagName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new F;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new V;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new B,r=e.split(":"),i=n.attributes=new I;return n.childNodes=new P,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=e,i._ownerElement=n,n},createAttributeNS:function(t,e){var n=new F,r=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=e,n}},r(D,S),B.prototype={nodeType:o,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===m?this.insertBefore(t,null):function(t,e){var n=e.parentNode;if(n){var r=t.lastChild;n.removeChild(e);r=t.lastChild}return r=t.lastChild,e.parentNode=t,e.previousSibling=r,e.nextSibling=null,r?r.nextSibling=e:t.firstChild=e,t.lastChild=e,X(t.ownerDocument,t,e),e}(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var r=this.ownerDocument.createAttributeNS(t,e);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new C(this,(function(e){var n=[];return O(e,(function(r){r===e||r.nodeType!=o||"*"!==t&&r.tagName!=t||n.push(r)})),n}))},getElementsByTagNameNS:function(t,e){return new C(this,(function(n){var r=[];return O(n,(function(i){i===n||i.nodeType!==o||"*"!==t&&i.namespaceURI!==t||"*"!==e&&i.localName!=e||r.push(i)})),r}))}},D.prototype.getElementsByTagName=B.prototype.getElementsByTagName,D.prototype.getElementsByTagNameNS=B.prototype.getElementsByTagNameNS,r(B,S),F.prototype.nodeType=a,r(F,S),j.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(g[x])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){n=this.data.substring(0,t)+n+this.data.substring(t+e),this.nodeValue=this.data=n,this.length=n.length}},r(j,S),U.prototype={nodeName:"#text",nodeType:s,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},r(U,j),z.prototype={nodeName:"#comment",nodeType:f},r(z,j),W.prototype={nodeName:"#cdata-section",nodeType:u},r(W,j),q.prototype.nodeType=d,r(q,S),H.prototype.nodeType=y,r(H,S),Z.prototype.nodeType=h,r(Z,S),V.prototype.nodeType=l,r(V,S),G.prototype.nodeName="#document-fragment",G.prototype.nodeType=m,r(G,S),$.prototype.nodeType=c,r($,S),J.prototype.serializeToString=function(t,e,n){return Q.call(t,e,n)},S.prototype.toString=Q;try{if(Object.defineProperty){Object.defineProperty(C.prototype,"length",{get:function(){return T(this),this.$$length}}),Object.defineProperty(S.prototype,"textContent",{get:function(){return function t(e){switch(e.nodeType){case o:case m:var n=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}}(this)},set:function(t){switch(this.nodeType){case o:case m:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),et=function(t,e,n){t["$$"+e]=n}}}catch(t){}e.DOMImplementation=N,e.XMLSerializer=J},function(t,e,n){"use strict";var r=function(t,e,n){this.x=void 0===t?0:t,this.y=void 0===e?0:e,this.z=void 0===n?0:n};r.ZERO=new r(0,0,0),r.up=function(){return new r(0,1,0)},r.dot=function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z},r.cross=function(t,e){return new r(t.y*e.z-t.z*e.y,t.z*e.x-t.x*e.z,t.x*e.y-t.y*e.x)},r.prototype.toString=function(){return"["+this.x+", "+this.y+", "+this.z+"]"},r.prototype.toArray=function(){var t=[];return t.push(this.x),t.push(this.y),t.push(this.z),t},r.prototype.getLength=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},r.prototype.normalize=function(){var t,e;return 0===(t=this.getLength())?this:(e=1/t,new r(this.x*e,this.y*e,this.z*e))},r.prototype.add=function(t){return new r(this.x+t.x,this.y+t.y,this.z+t.z)},r.prototype.subtract=function(t){return new r(this.x-t.x,this.y-t.y,this.z-t.z)},r.prototype.transform=function(t){var e,n,i,o,a;return a=t,e=this.x*a.m[0]+this.y*a.m[4]+this.z*a.m[8]+a.m[12],n=this.x*a.m[1]+this.y*a.m[5]+this.z*a.m[9]+a.m[13],i=this.x*a.m[2]+this.y*a.m[6]+this.z*a.m[10]+a.m[14],o=this.x*a.m[3]+this.y*a.m[7]+this.z*a.m[11]+a.m[15],new r(e/o,n/o,i/o)},t.exports=r},function(t,e,n){"use strict";var r=n(1),i=n(5),o=n(8),a=null,s=function(t){var e,n=Array.prototype.slice.call(arguments,1),r=arguments[1],i=arguments[2],a=arguments[arguments.length-1];this.text=String(t),"number"==typeof r?(this._x=r,this._y=i,n=n.slice(2)):Array.isArray(r)?(this._x=r[0],this._y=r[1],n=n.slice(1)):"object"==typeof r?(this._x=void 0!==r.x?r.x:0,this._y=void 0!==r.y?r.y:0,n=n.slice(1)):(this._x=0,this._y=0),"object"==typeof a?(e=a,r!==a&&(n=n.slice(0,n.length-1))):e={},n.length?this.fontFamily=n.shift():this.fontFamily=e.fontFamily||e.fontName||e.font||"sans-serif",n.length?this.fontSize=n.shift():this.fontSize=e.fontSize||24,n.length?this.textAlign=n.shift():this.textAlign=e.align||e.textAlign||"left",n.length?this.fill=n.shift():this.fill=e.fill||"black",this.transform=new o};s.prototype.clone=function(){var t=new s;return t.text=this.text,t._x=this._x,t._y=this._y,t.fontFamily=this.fontFamily,t.fontSize=this.fontSize,t.textAlign=this.textAlign,t.fill=r.clone(this.fill),t.transform=this.transform,t},s._getDummyContext=function(){return a||(a="undefined"!=typeof document?document.createElement("canvas").getContext("2d"):{font:"10px sans-serif",measureText:function(t){var e=parseFloat(this.font);return{width:t.length*e*.6}}}),a},s.prototype._getFont=function(){return this.fontSize+"px "+this.fontFamily},s.prototype.colorize=function(t){var e=this.clone();return e.fill=r.clone(t),e},s.prototype.draw=function(t){t.save(),t.font=this._getFont(),t.textAlign=this.textAlign;var e=this.transform.m;t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t.fillStyle=r.toCSS(this.fill),t.fillText(this.text,this._x,this._y),t.restore()},s.prototype.bounds=function(){var t,e=s._getDummyContext(),n=this._x;return e.font=this._getFont(),t=e.measureText(this.text),"center"===this.textAlign?n=this._x-t.width/2:"right"===this.textAlign&&(n=this._x-t.width),new i(n,this._y-this.fontSize,t.width,1.2*this.fontSize)},s.prototype.toSVG=function(){var t,e="<text";if(e+=' x="'+this._x+'"',e+=' y="'+this._y+'"',e+=' font-family="'+this.fontFamily+'"',e+=' font-size="'+this.fontSize+'"',"left"===this.textAlign?t="start":"center"===this.textAlign?t="middle":"right"===this.textAlign&&(t="end"),e+=' text-anchor="'+t+'"',"black"!==this.fill){var n=r.parse(this.fill);e+=' fill="'+n.toHex(!0)+'"',n.a<1&&(e+=' opacity="'+n.a+'"')}return this.transform.isIdentity()||(e+=' transform="matrix('+this.transform.m.join(",")+')"'),e+=">",e+=this.text,e+="</text>"},t.exports=s},function(t,e,n){"use strict";var r=n(0),i=n(8),o={translate:function(t){return t||(t=r.ZERO),(new i).translate(t.x,t.y).transformShape(this)},scale:function(t,e){var n,o;e||(e=r.ZERO),"number"==typeof t?(n=t,o=t):(n=t.x,o=t.y);var a=new i;return(a=(a=(a=a.translate(e.x,e.y)).scale(n,o)).translate(-e.x,-e.y)).transformShape(this)},rotate:function(t,e){e||(e=r.ZERO);var n=new i;return(n=(n=(n=n.translate(e.x,e.y)).rotate(t)).translate(-e.x,-e.y)).transformShape(this)},skew:function(t,e){e||(e=r.ZERO);var n=new i;return(n=(n=(n=n.translate(e.x,e.y)).skew(t.x,t.y)).translate(-e.x,-e.y)).transformShape(this)}};t.exports=o},function(t,e,n){"use strict";var r=n(106),i=n(47),o=n(34),a=r.getNativeModes();function s(t,e,n){return t.createImageData?t.createImageData(e,n):t.getImageData(0,0,e,n)}var u={};function l(t,e,n){var r=n.transform.matrix();t.translate(e.width/2,e.height/2),t.transform(r[0],r[1],r[3],r[4],r[6],r[7]),(n.flip_h||n.flip_v)&&t.scale(n.flip_h?-1:1,n.flip_v?-1:1),t.translate(-n.img.width/2,-n.img.height/2)}function h(t,e){var n,r,i,a,s,u,l,h,c=function(t,e){var n,r,i,a,s,u=e.img.width,l=e.img.height,h=[{x:0,y:0},{x:u,y:0},{x:0,y:l},{x:u,y:l}],c=o.transform();c=(c=(c=c.translate(t.width/2,t.height/2)).append(e.transform)).translate(-e.img.width/2,-e.img.height/2);for(var f=0;f<4;f+=1)n=c.transformPoint(h[f]),0===f?(r=a=n.x,i=s=n.y):(n.x<r&&(r=n.x),n.x>a&&(a=n.x),n.y<i&&(i=n.y),n.y>s&&(s=n.y));return{x:r,y:i,width:a-r,height:s-i}}(t,e);return n=c,r={x:0,y:0,width:t.width,height:t.height},i=n.x+n.width,a=n.y+n.height,s=r.x+r.width,u=r.y+r.height,l=Math.max(n.x,r.x),h=Math.max(n.y,r.y),c={x:l,y:h,width:Math.max(Math.min(i,s)-l,0),height:Math.max(Math.min(a,u)-h,0)},{x:Math.round(c.x),y:Math.round(c.y),width:Math.ceil(c.width),height:Math.ceil(c.height)}}function c(t,e,n){var r=document.createElement("canvas"),i=r.getContext("2d");return r.width=n.width,r.height=n.height,i.translate(-n.x,-n.y),l(i,t,e),i.drawImage(e.img,0,0),i.getImageData(0,0,n.width,n.height)}u.toImage=function(t){var e=new Image;return e.width=t.width,e.height=t.height,e.src=t.toDataURL(),e},u.load=function(t,e){return e.isFill()?u.generateColor(t,e):e.isGradient()?u.generateGradient(t,e):e.isHtmlCanvas()?u.loadHtmlCanvas(e.data):e.isImage()?u.loadImage(e.data):e.isImageCanvas()?u.loadImageCanvas(e.data):void 0},u.loadHtmlCanvas=function(t){return t},u.loadImageCanvas=function(t){return t.render()},u.loadImage=function(t){var e=document.createElement("canvas"),n=e.getContext("2d");return e.width=t.width,e.height=t.height,n.drawImage(t,0,0,e.width,e.height),e},u.generateColor=function(t,e){var n=void 0!==e.width?e.width:t.width,r=void 0!==e.height?e.height:t.height,i=document.createElement("canvas"),o=i.getContext("2d");return i.width=n,i.height=r,o.fillStyle=e.data,o.fillRect(0,0,n,r),i},u.generateGradient=function(t,e){var n,r,i,o,a,s=void 0!==e.width?e.width:t.width,u=void 0!==e.height?e.height:t.height,l=s/2,h=u/2,c=document.createElement("canvas"),f=c.getContext("2d"),p=e.data,d=p.type||"linear",m=p.rotation||0;return"radial"===d?n=f.createRadialGradient(l,h,0,l,h,Math.min(s,u)/2):(m<0&&(m+=360),0<=m&&m<45?(r=0,o=s,a=u-(i=u/2*(45-m)/45)):45<=m&&m<135?(i=0,o=s-(r=s*(m-45)/90),a=u):135<=m&&m<225?(r=s,o=0,a=u-(i=u*(m-135)/90)):225<=m&&m<315?(i=u,o=s-(r=s*(1-(m-225)/90)),a=0):315<=m&&(r=0,o=s,a=u-(i=u-u/2*(m-315)/45)),n=f.createLinearGradient(r,i,o,a)),n.addColorStop(p.spread||0,p.startColor),n.addColorStop(1,p.endColor),c.width=s,c.height=u,f.fillStyle=n,f.fillRect(0,0,s,u),c},u.processImage=function(t,e){if(0===e.length)return t;for(var n,r,o=t.getContext("2d"),a=t.width,u=t.height,l=o.getImageData(0,0,a,u),h=s(o,a,u),c=0;c<e.length;c+=1)c>0&&(r=l,l=h,h=r),n=e[c],i[n.name](l.data,h.data,a,u,n.options);return o.putImageData(h,0,0),t},u.processMask=function(t,e){if(0===e.layers.length)return t;e.width=t.width,e.height=t.height;var n=u.renderBW(e),r={name:"mask",options:{data:n.getContext("2d").getImageData(0,0,n.width,n.height).data,x:0,y:0,width:n.width,height:n.height}};return u.processImage(t,[r])},u.processLayer=function(t,e){var n=u.load(t,e),r=u.processMask(n,e.mask);return u.processImage(r,e.filters)},u.mergeManualBlend=function(t,e){return function(n){for(var i,o,a,u,l,f=n.getContext("2d"),p=t.width,d=t.height,m=f.getImageData(0,0,p,d),y=s(f,p,d),v=0;v<e.length;v+=1)if(i=e[v],(l=h(t,i)).width>0&&l.height>0){if(v>0&&(a=m,m=y,y=a),u={data:c(t,i,l).data,width:l.width,height:l.height,opacity:i.opacity,dx:l.x,dy:l.y},void 0===r[i.blendmode])throw new Error("No blend mode named '"+i.blendmode+"'");o=r.realBlendMode(i.blendmode),r[o](m.data,y.data,p,d,u)}return f.putImageData(y,0,0),n}},u.singleLayerWithOpacity=function(t,e){var n=document.createElement("canvas"),r=n.getContext("2d");return n.width=t.width,n.height=t.height,r.save(),l(r,t,e),1!==e.opacity&&(r.globalAlpha=e.opacity),r.drawImage(e.img,0,0),r.restore(),n},u.mergeNativeBlend=function(t,e){return function(n){for(var i,o=n.getContext("2d"),a=0;a<e.length;a+=1)i=e[a],o.save(),l(o,t,i),1!==i.opacity&&(o.globalAlpha=i.opacity),"source-over"!==i.blendmode&&(o.globalCompositeOperation=r.realBlendMode(i.blendmode)),o.drawImage(i.img,0,0),o.restore();return n}},u.createRenderPipe=function(t,e,n){var r,i,o,s,u=[];function l(){if(void 0!==i){var n=i?t.mergeNativeBlend:t.mergeManualBlend;u.push(n(e,o))}}for(var h=1;h<n.length;h+=1)r=(s=n[h]).blendmode,void 0!==i&&i===a[r]||(l(),o=[]),o.push(s),i=a[r],h===n.length-1&&l();return u},u.merge=function(t,e){for(var n=u.createRenderPipe(u,t,e),r=u.singleLayerWithOpacity(t,e[0]),i=0;i<n.length;i+=1)r=n[i](r);return r},u.composite=function(t,e){return e&&0!==e.length?1===e.length?u.singleLayerWithOpacity(t,e[0]):u.merge(t,e):null},u.getLayerData=function(t,e){for(var n,r,i=[],o=0;o<e.length;o+=1)r=t.layers[o],n={img:e[o],opacity:r.opacity,blendmode:r.blendmode,transform:r.transform,flip_h:r.flip_h,flip_v:r.flip_v},i.push(n);return i},u.render=function(t){for(var e=[],n=0;n<t.layers.length;n+=1)e.push(u.processLayer(t,t.layers[n]));return u.composite(t,u.getLayerData(t,e))},u.renderBW=function(t){var e=u.render(t);e.getContext("2d").getImageData(0,0,e.width,e.height).data;return u.processImage(e,[{name:"desaturate",options:{method:"ITU-R BT.709"}}])},t.exports=u},function(t,e,n){"use strict";
/*!
 * Image processing based on Pixastic library:
 *
 * Pixastic - JavaScript Image Processing
 * http://pixastic.com/
 * Copyright 2012, Jacob Seidelin
 *
 * Dual licensed under the MPL 1.1 or GPLv3 licenses.
 * http://pixastic.com/license-mpl.txt
 * http://pixastic.com/license-gpl-3.0.txt
 *
 */var r=n(107),i=n(34),o=i.clamp;function a(t,e){if(!t)return e;var n,r={};for(n in e)e.hasOwnProperty(n)&&(void 0===t[n]?r[n]=e[n]:r[n]=t[n]);return r}function s(t,e,n){return n<t?0:n>=e?1:(n=(n-t)/(e-t))*n*(3-2*n)}function u(t,e,n,r,i,o,a,s){var u,l,h,c,f,p,d,m,y,v,g,x,w,_,b,P,C,T,I,E,M,A,N=i[0][0],S=i[0][1],L=i[0][2],O=i[1][0],D=i[1][1],k=i[1][2],X=i[2][0],Y=i[2][1],R=i[2][2];for(l=0;l<r;l+=1)for(y=(m=l*n*4)-4*n,v=m+4*n,l<1&&(y=m),l>=n-1&&(v=m),u=0;u<n;u+=1)h=4*(l*n+u),x=(g=4*u)-4,w=g+4,u<1&&(x=g),u>=n-1&&(w=g),b=y+g,P=y+w,C=m+x,T=m+g,I=m+w,E=v+x,M=v+g,A=v+w,c=t[_=y+x]*N+t[b]*S+t[P]*L+t[C]*O+t[T]*D+t[I]*k+t[E]*X+t[M]*Y+t[A]*R,f=t[_+1]*N+t[b+1]*S+t[P+1]*L+t[C+1]*O+t[T+1]*D+t[I+1]*k+t[E+1]*X+t[M+1]*Y+t[A+1]*R,p=t[_+2]*N+t[b+2]*S+t[P+2]*L+t[C+2]*O+t[T+2]*D+t[I+2]*k+t[E+2]*X+t[M+2]*Y+t[A+2]*R,d=o?t[_+3]*N+t[b+3]*S+t[P+3]*L+t[C+3]*O+t[T+3]*D+t[I+3]*k+t[E+3]*X+t[M+3]*Y+t[A+3]*R:t[h+3],s&&(c=f=p=(c+f+p)/3),a&&(c=255-c,f=255-f,p=255-p),e[h]=c,e[h+1]=f,e[h+2]=p,e[h+3]=d}function l(t,e,n,r,i,o,a,s){var u,l,h,c,f,p,d,m,y,v,g,x,w,_,b,P,C,T,I,E,M,A,N,S,L,O,D,k,X,Y,R,B,F,j,U,z,W,q=i[0][0],H=i[0][1],Z=i[0][2],V=(i[0][3],i[0][4]),G=i[1][0],$=i[1][1],J=i[1][2],Q=(i[1][3],i[1][4]),K=i[2][0],tt=i[2][1],et=i[2][2],nt=(i[2][3],i[2][4]),rt=i[3][0],it=i[3][1],ot=i[3][2],at=(i[3][3],i[3][4]),st=i[4][0],ut=i[4][1],lt=i[4][2],ht=(i[4][3],i[4][4]);for(l=0;l<r;l+=1)for(y=(m=l*n*4)-4*n,g=m-4*n*2,v=m+4*n,x=m+4*n*2,l<1&&(y=m),l>=n-1&&(v=m),l<2&&(g=y),l>=n-2&&(x=v),u=0;u<n;u+=1)h=4*(l*n+u),_=(w=4*u)-4,b=w+4,P=w-8,C=w+8,u<1&&(_=w),u>=n-1&&(b=w),u<2&&(P=_),u>=n-2&&(C=b),I=g+_,E=g+w,M=g+b,g+C,A=y+P,N=y+_,S=y+w,L=y+b,y+C,O=m+P,D=m+_,k=m+w,X=m+b,m+C,Y=v+P,R=v+_,B=v+w,F=v+b,v+C,j=x+P,U=x+_,z=x+w,W=x+b,x+C,c=t[T=g+P]*q+t[I]*H+t[E]*Z+t[M]*V+t[E]*V+t[A]*G+t[N]*$+t[S]*J+t[L]*Q+t[S]*Q+t[O]*K+t[D]*tt+t[k]*et+t[X]*nt+t[k]*nt+t[Y]*rt+t[R]*it+t[B]*ot+t[F]*at+t[B]*at+t[j]*st+t[U]*ut+t[z]*lt+t[W]*ht+t[z]*ht,f=t[T+1]*q+t[I+1]*H+t[E+1]*Z+t[M+1]*V+t[E+1]*V+t[A+1]*G+t[N+1]*$+t[S+1]*J+t[L+1]*Q+t[S+1]*Q+t[O+1]*K+t[D+1]*tt+t[k+1]*et+t[X+1]*nt+t[k+1]*nt+t[Y+1]*rt+t[R+1]*it+t[B+1]*ot+t[F+1]*at+t[B+1]*at+t[j+1]*st+t[U+1]*ut+t[z+1]*lt+t[W+1]*ht+t[z+1]*ht,p=t[T+2]*q+t[I+2]*H+t[E+2]*Z+t[M+2]*V+t[E+2]*V+t[A+2]*G+t[N+2]*$+t[S+2]*J+t[L+2]*Q+t[S+2]*Q+t[O+2]*K+t[D+2]*tt+t[k+2]*et+t[X+2]*nt+t[k+2]*nt+t[Y+2]*rt+t[R+2]*it+t[B+2]*ot+t[F+2]*at+t[B+2]*at+t[j+2]*st+t[U+2]*ut+t[z+2]*lt+t[W+2]*ht+t[z+2]*ht,d=o?t[T+3]*q+t[I+3]*H+t[E+3]*Z+t[M+3]*V+t[E+3]*V+t[A+3]*G+t[N+3]*$+t[S+3]*J+t[L+3]*Q+t[S+3]*Q+t[O+3]*K+t[D+3]*tt+t[k+3]*et+t[X+3]*nt+t[k+3]*nt+t[Y+3]*rt+t[R+3]*it+t[B+3]*ot+t[F+3]*at+t[B+3]*at+t[j+3]*st+t[U+3]*ut+t[z+3]*lt+t[W+3]*ht+t[z+3]*ht:t[h+3],s&&(c=f=p=(c+f+p)/3),a&&(c=255-c,f=255-f,p=255-p),e[h]=c,e[h+1]=f,e[h+2]=p,e[h+3]=d}function h(t,e){return[t[(e*=4)+0],t[e+1],t[e+2],t[e+3]]}function c(t,e,n){t[(e*=4)+0]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3]}function f(t,e,n,r,i,o,a){var s,u,l,f,p,d,m;for(n=i/2+(n||0),r=o/2+(r||0),s=0;s<o;s+=1)for(u=0;u<i;u+=1)l=u-n,f=s-r,p=(m=a(p=Math.sqrt(Math.pow(l,2)+Math.pow(f,2)),d=Math.atan2(f,l)))[0],d=m[1],c(e,u+s*i,h(t,Math.round(n+Math.cos(d)*p)+Math.round(r+Math.sin(d)*p)*i))}var p={invert:function(t,e,n,r){var i,o=n*r*4;for(i=0;i<o;i+=4)e[i]=255-t[i],e[i+1]=255-t[i+1],e[i+2]=255-t[i+2],e[i+3]=t[i+3]},sepia:function(t,e,n,r){var i,o,a,s,u=n*r*4;for(i=0;i<u;i+=4)o=t[i],a=t[i+1],s=t[i+2],e[i]=.393*o+.769*a+.189*s,e[i+1]=.349*o+.686*a+.168*s,e[i+2]=.272*o+.534*a+.131*s,e[i+3]=t[i+3]},solarize:function(t,e,n,r){var i,o,a,s,u=n*r*4;for(i=0;i<u;i+=4)o=t[i],a=t[i+1],s=t[i+2],e[i]=o>127?255-o:o,e[i+1]=a>127?255-a:a,e[i+2]=s>127?255-s:s,e[i+3]=t[i+3]},brightness:function(t,e,n,r,i){i=a(i,{brightness:1,contrast:0});var s,u,l,h,c,f=n*r*4,p=o(i.contrast,-1,1)/2,d=1+o(i.brightness,-1,1),m=d<0?-d:d,y=d<0?0:d;for(c=255*-((p=.5*Math.tan((p+1)*Math.PI/4))-.5),s=0;s<f;s+=4)u=((u=t[s])+u*m+y)*p+c,l=((l=t[s+1])+l*m+y)*p+c,h=((h=t[s+2])+h*m+y)*p+c,e[s]=u,e[s+1]=l,e[s+2]=h,e[s+3]=t[s+3]},desaturate:function(t,e,n,r,i){var o,s,u,l,h,c=n*r*4;for("ITU-R BT.601"===(i=a(i,{method:"ITU-R BT.601"})).method?(u=.3,l=.59,h=.11):"ITU-R BT.709"===i.method&&(u=.2125,l=.7154,h=.0721),o=0;o<c;o+=4)s=t[o]*u+t[o+1]*l+t[o+2]*h,e[o]=s,e[o+1]=s,e[o+2]=s,e[o+3]=t[o+3]},lighten:function(t,e,n,r,i){i=a(i,{amount:.25});var s,u=n*r*4,l=1+o(i.amount,0,1);for(s=0;s<u;s+=4)e[s]=t[s]*l,e[s+1]=t[s+1]*l,e[s+2]=t[s+2]*l,e[s+3]=t[s+3]},noise:function(t,e,n,r,i){i=a(i,{amount:.5,strength:.5,mono:!1});var s,u,l,h,c,f=n*r*4,p=o(i.amount,0,1),d=o(i.strength,0,1),m=!!i.mono,y=Math.random;for(s=0;s<f;s+=4)l=t[s],h=t[s+1],c=t[s+2],(u=y())<p&&(m?(l+=u=d*(u/p*2-1)*255,h+=u,c+=u):(l+=d*y()*255,h+=d*y()*255,c+=d*y()*255)),e[s]=l,e[s+1]=h,e[s+2]=c,e[s+3]=t[s+3]},flipv:function(t,e,n,r){var i,o,a,s;for(o=0;o<r;o+=1)for(i=0;i<n;i+=1)a=4*(o*n+i),e[s=4*(o*n+(n-i-1))]=t[a],e[s+1]=t[a+1],e[s+2]=t[a+2],e[s+3]=t[a+3]},fliph:function(t,e,n,r){var i,o,a,s;for(o=0;o<r;o+=1)for(i=0;i<n;i+=1)a=4*(o*n+i),e[s=4*((r-o-1)*n+i)]=t[a],e[s+1]=t[a+1],e[s+2]=t[a+2],e[s+3]=t[a+3]},blur:function(t,e,n,i,o){o=a(o,{radius:10});for(var s=0;s<t.length;s+=1)e[s]=t[s];r(e,n,i,o.radius)},glow:function(t,e,n,r,i){var s,u,l,h,c=n*r*4,f=(i=a(i,{amount:.75,kernelSize:5})).amount,p=[];for(function(t,e,n,r,i){var a,s,u,l,h,c,f,p,d,m,y,v,g,x,w,_=[],b=[[1]];for(x=(i=o(i,3,13))+(g=-i/2+(i%2?.5:0)),u=1;u<13;u+=1)b[0][u]=0;for(u=1;u<13;u+=1)for(b[u]=[1],l=1;l<13;l+=1)b[u][l]=b[u-1][l]+b[u-1][l-1];for(w=b[i-1],u=0,v=0;u<i;u+=1)v+=w[u];for(u=0;u<i;u+=1)w[u]/=v;for(s=0;s<r;s+=1)for(a=0;a<n;a+=1){for(h=c=f=p=0,u=g;u<x;u+=1)m=a+u,y=s,v=w[u-g],m<0&&(m=0),m>=n&&(m=n-1),h+=t[d=4*(y*n+m)]*v,c+=t[d+1]*v,f+=t[d+2]*v,p+=t[d+3]*v;_[d=4*(s*n+a)]=h,_[d+1]=c,_[d+2]=f,_[d+3]=p}for(s=0;s<r;s+=1)for(a=0;a<n;a+=1){for(h=c=f=p=0,u=g;u<x;u+=1)m=a,y=s+u,v=w[u-g],y<0&&(y=0),y>=r&&(y=r-1),h+=_[d=4*(y*n+m)]*v,c+=_[d+1]*v,f+=_[d+2]*v,p+=_[d+3]*v;e[d=4*(s*n+a)]=h,e[d+1]=c,e[d+2]=f,e[d+3]=p}}(t,p,n,r,i.kernelSize),s=0;s<c;s+=4)(u=t[s]+p[s]*f)>255&&(u=255),(l=t[s+1]+p[s+1]*f)>255&&(l=255),(h=t[s+2]+p[s+2]*f)>255&&(h=255),e[s]=u,e[s+1]=l,e[s+2]=h,e[s+3]=t[s+3]},convolve3x3:function(t,e,n,r,i){u(t,e,n,r,i.kernel)},convolve5x5:function(t,e,n,r,i){l(t,e,n,r,i.kernel)},sharpen3x3:function(t,e,n,r,i){i=a(i,{strength:1});var s=-o(i.strength,0,1);u(t,e,n,r,[[s,s,s],[s,1-8*s,s],[s,s,s]])},sharpen5x5:function(t,e,n,r,i){i=a(i,{strength:1});var s=-o(i.strength,0,1);l(t,e,n,r,[[s,s,s,s,s],[s,s,s,s,s],[s,s,1-24*s,s,s],[s,s,s,s,s],[s,s,s,s,s]])},soften3x3:function(t,e,n,r){var i=1/9;u(t,e,n,r,[[i,i,i],[i,i,i],[i,i,i]])},soften5x5:function(t,e,n,r){var i=.04;l(t,e,n,r,[[i,i,i,i,i],[i,i,i,i,i],[i,i,i,i,i],[i,i,i,i,i],[i,i,i,i,i]])},crossedges:function(t,e,n,r,i){i=a(i,{strength:1});var s=5*o(i.strength,0,1);u(t,e,n,r,[[0,-s,0],[-s,0,s],[0,s,0]],!1,!0)},emboss:function(t,e,n,r,i){var o,s=n*r*4,l=(i=a(i,{amount:1,angle:0})).amount,h=i.angle,c=Math.cos(-h)*l,f=Math.sin(-h)*l,p=[];for(u(t,p,n,r,[[-c-f,-f,-f+c],[-c,0,c],[f-c,f,f+c]]),o=0;o<s;o+=4)e[o]=128+p[o],e[o+1]=128+p[o+1],e[o+2]=128+p[o+2],e[o+3]=t[o+3]},findedges:function(t,e,n,r){var i,o,a,s,l,h,c,f=n*r*4,p=[],d=[];for(u(t,p,n,r,[[-1,0,1],[-2,0,2],[-1,0,1]]),u(t,d,n,r,[[-1,-2,-1],[0,0,0],[1,2,1]]),i=0;i<f;i+=4)(o=p[i])<0&&(o=-o),(a=d[i])<0&&(a=-a),(s=p[i+1])<0&&(s=-s),(l=d[i+1])<0&&(l=-l),(h=p[i+2])<0&&(h=-h),(c=d[i+2])<0&&(c=-c),e[i]=255-.8*(o+a),e[i+1]=255-.8*(s+l),e[i+2]=255-.8*(h+c),e[i+3]=t[i+3]},edgeenhance3x3:function(t,e,n,r){var i=-1/9;u(t,e,n,r,[[i,i,i],[i,17/9,i],[i,i,i]])},edgeenhance5x5:function(t,e,n,r){var i=-.04;l(t,e,n,r,[[i,i,i,i,i],[i,i,i,i,i],[i,i,1.96,i,i],[i,i,i,i,i],[i,i,i,i,i]])},laplace3x3:function(t,e,n,r){u(t,e,n,r,[[-1,-1,-1],[-1,8,-1],[-1,-1,-1]],!1,!0,!0)},laplace5x5:function(t,e,n,r){l(t,e,n,r,[[-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1],[-1,-1,24,-1,-1],[-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1]],!1,!0,!0)},rgbAdjust:function(t,e,n,r,i){i=a(i,{r:0,g:0,b:0,a:0});var s,u,l,h,c,f=n*r*4,p=255*o(i.r,-1,1),d=255*o(i.g,-1,1),m=255*o(i.b,-1,1),y=255*o(i.a,-1,1);for(s=0;s<f;s+=4)(u=t[s]+p)<0&&(u=0),(l=t[s+1]+d)<0&&(l=0),(h=t[s+2]+m)<0&&(h=0),(c=t[s+3]+y)<0&&(c=0),u>255&&(u=255),l>255&&(l=255),h>255&&(h=255),c>255&&(c=255),e[s]=u,e[s+1]=l,e[s+2]=h,e[s+3]=c},colorfilter:function(t,e,n,r,i){var s,u,l,h,c,f,p,d,m,y,v,g=n*r*4,x=!!(i=a(i,{luminosity:!1,r:1,g:.5,b:0})).luminosity,w=o(i.r,0,1),_=o(i.g,0,1),b=o(i.b,0,1);for(s=0;s<g;s+=4)d=.3*(u=t[s]/255)+.59*(l=t[s+1]/255)+.11*(h=t[s+2]/255),u=(u+u*w)/2,l=(l+l*_)/2,h=(h+h*b)/2,x&&(c=f=u,l>f&&(f=l),h>f&&(f=h),l<c&&(c=l),h<c&&(c=h),v=(y=f-c)*((p=u===f?(l-h)/y%6:l===f?(h-u)/y+2:(u-l)/y+4)-(m=p>>0)),u=l=h=d-(.3*u+.59*l+.11*h),0===m?(u+=y,l+=v):1===m?(u+=y-v,l+=y):2===m?(l+=y,h+=v):3===m?(l+=y-v,h+=y):4===m?(u+=v,h+=y):5===m&&(u+=y,h+=y-v)),e[s]=255*u,e[s+1]=255*l,e[s+2]=255*h,e[s+3]=t[s+3]},hslAdjust:function(t,e,n,r,i){i=a(i,{h:.5,s:.3,l:.1,a:0});var s,u,l,h,c,f,p,d,m,y,v,g,x,w,_,b=n*r*4,P=o(i.h,-1,1),C=o(i.s,-1,1),T=o(i.l,-1,1),I=255*o(i.a,-1,1),E=1+C*(C<0?1:2),M=T<0?1+T:1-T,A=T<0?0:255*T;for(P=6*P%6,s=0;s<b;s+=4)u=t[s],l=t[s+1],h=t[s+2],0===P&&0===C||(l>(f=u)&&(f=l),h>f&&(f=h),l<(p=u)&&(p=l),h<p&&(p=h),d=f-p,(v=(p+f)/510)>0&&d>0&&(v<=.5?((y=d/(f+p)*E)>1&&(y=1),g=v*(1+y)):((y=d/(510-f-p)*E)>1&&(y=1),g=v+y-v*y),(m=u===f?l===p?5+(f-h)/d+P:1-(f-l)/d+P:l===f?h===p?1+(f-u)/d+P:3-(f-h)/d+P:u===p?3+(f-l)/d+P:5-(f-u)/d+P)<0&&(m+=6),m>=6&&(m-=6),w=(g-(x=v+v-g))*(m-(_=m>>0)),0===_?(u=g,l=x+w,h=x):1===_?(u=g-w,l=g,h=x):2===_?(u=x,l=g,h=x+w):3===_?(u=x,l=g-w,h=g):4===_?(u=x+w,l=x,h=g):5===_&&(u=g,l=x,h=g-w),u*=255,l*=255,h*=255)),(u=u*M+A)<0&&(u=0),(l=l*M+A)<0&&(l=0),(h=h*M+A)<0&&(h=0),(c=t[s+3]+I)<0&&(c=0),u>255&&(u=255),l>255&&(l=255),h>255&&(h=255),c>255&&(c=255),e[s]=u,e[s+1]=l,e[s+2]=h,e[s+3]=c},posterize:function(t,e,n,r,i){i=a(i,{levels:5});var s,u=n*r*4,l=o(i.levels,2,256),h=256/l,c=256/(l-1);for(s=0;s<u;s+=4)e[s]=c*(t[s]/h>>0),e[s+1]=c*(t[s+1]/h>>0),e[s+2]=c*(t[s+2]/h>>0),e[s+3]=t[s+3]},removenoise:function(t,e,n,r){var i,o,a,s,u,l,h,c,f,p,d,m,y,v,g,x,w;for(o=0;o<r;o+=1)for(f=(c=o*n*4)-4*n,p=c+4*n,o<1&&(f=c),o>=n-1&&(p=c),i=0;i<n;i+=1)h=4*(o*n+i),m=(d=4*i)-4,y=d+4,i<1&&(m=d),i>=n-1&&(y=d),v=w=t[c+m],(l=t[c+y])<v&&(v=l),l>w&&(w=l),(l=t[f+d])<v&&(v=l),l>w&&(w=l),(l=t[p+d])<v&&(v=l),l>w&&(w=l),g=t[c+m+1],(l=t[c+y+1])<g&&(g=l),(l=t[f+d+1])<g&&(g=l),(l=t[p+d+1])<g&&(g=l),x=t[c+m+2],(l=t[c+y+2])<x&&(x=l),(l=t[f+d+2])<x&&(x=l),(l=t[p+d+2])<x&&(x=l),(a=t[h])<v&&(a=v),a>w&&(a=w),(s=t[h+1])<g&&(s=g),s>void 0&&(s=void 0),(u=t[h+2])<x&&(u=x),u>void 0&&(u=void 0),e[h]=a,e[h+1]=s,e[h+2]=u,e[h+3]=t[h+3]},mosaic:function(t,e,n,r,i){i=a(i,{blockSize:8});var s,u,l,h,c,f,p,d,m,y,v,g,x,w=o(i.blockSize,1,Math.max(n,r)),_=Math.ceil(r/w),b=Math.ceil(n/w);for(s=0,0,p=0;p<_;p+=1){for(u=o(s+w,0,r),l=0,d=0;d<b;d+=1){for(h=o(l+w,0,n),m=t[c=s*n+l<<2],y=t[c+1],v=t[c+2],g=s;g<u;g+=1)for(x=l;x<h;x+=1)e[f=g*n+x<<2]=m,e[f+1]=y,e[f+2]=v,e[f+3]=t[f+3];l=h,1}s=u}},equalize:function(t,e,n,r,i){var a,s,u,l,h=n*r,c=Math.round,f=new Array(256);for(s=0;s<256;s+=1)f[s]=0;for(s=0;s<h;s+=1)u=o(c(.3*t[a=4*s]+.59*t[a+1]+.11*t[a+2]),0,255),e[a+3]=u,f[u]+=1;var p=new Array(256);for(p[0]=f[0],s=1;s<256;s+=1)p[s]=p[s-1]+f[s];for(s=0;s<256;s+=1)p[s]=p[s]/h*255;for(s=0;s<h;s+=1)l=p[u=e[(a=4*s)+3]]/(u||1),e[a]=o(c(t[a]*l),0,255),e[a+1]=o(c(t[a+1]*l),0,255),e[a+2]=o(c(t[a+2]*l),0,255),e[a+3]=t[a+3]},mask:function(t,e,n,r,i){var o,a=n*r*4,s=i.data;for(o=0;o<a;o+=4)e[o]=t[o],e[o+1]=t[o+1],e[o+2]=t[o+2],e[o+3]=t[o+3]*s[o]/255*s[o+3]/255},bump:function(t,e,n,r,i){var u=(i=a(i,{dx:0,dy:0,radius:0,zoom:0})).radius,l=o(i.zoom,0,1);return f(t,e,i.dx,i.dy,n,r,(function(t,e){return[t*s(0,l,t/u),e]}))},dent:function(t,e,n,r,i){var u=(i=a(i,{dx:0,dy:0,radius:0,zoom:0})).radius,l=o(i.zoom,0,1);return f(t,e,i.dx,i.dy,n,r,(function(t,e){return[2*t-t*s(0,l,t/u),e]}))},pinch:function(t,e,n,r,s){s=a(s,{dx:0,dy:0,zoom:0});var u=i.distance(0,0,n,r),l=o(.75*s.zoom,-.75,.75);return f(t,e,s.dx,s.dy,n,r,(function(t,e){return[t*Math.pow(u/t,l)*(1-l),e]}))},splash:function(t,e,n,r,i){var o=(i=a(i,{dx:0,dy:0,radius:0})).radius;return f(t,e,i.dx,i.dy,n,r,(function(t,e){return[t>o?o:t,e]}))},twirl:function(t,e,n,r,o){o=a(o,{dx:0,dy:0,radius:0,angle:0});var u=i.radians(o.angle),l=o.radius;return f(t,e,o.dx,o.dy,n,r,(function(t,e){return[t,e+(1-s(-l,l,t))*u]}))}};t.exports=p},function(t,e,n){(function(t,n,r,i){(function(e){"use strict";function o(t,e){e|=0;for(var n=Math.max(t.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=t[e+i];return r}var a=function(t){var e=o(arguments,1);return function(){var n=o(arguments);return t.apply(null,e.concat(n))}},s=function(t){return function(){var e=o(arguments),n=e.pop();t.call(this,e,n)}};function u(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var l="function"==typeof t&&t,h="object"==typeof n&&"function"==typeof n.nextTick;function c(t){setTimeout(t,0)}function f(t){return function(e){var n=o(arguments,1);t((function(){e.apply(null,n)}))}}var p=f(l?t:h?n.nextTick:c);function d(t){return s((function(e,n){var r;try{r=t.apply(this,e)}catch(t){return n(t)}u(r)&&"function"==typeof r.then?r.then((function(t){m(n,null,t)}),(function(t){m(n,t.message?t:new Error(t))})):n(null,r)}))}function m(t,e,n){try{t(e,n)}catch(t){p(y,t)}}function y(t){throw t}var v="function"==typeof Symbol;function g(t){return v&&"AsyncFunction"===t[Symbol.toStringTag]}function x(t){return g(t)?d(t):t}function w(t){return function(e){var n=o(arguments,1),r=s((function(n,r){var i=this;return t(e,(function(t,e){x(t).apply(i,n.concat(e))}),r)}));return n.length?r.apply(this,n):r}}var _="object"==typeof r&&r&&r.Object===Object&&r,b="object"==typeof self&&self&&self.Object===Object&&self,P=_||b||Function("return this")(),C=P.Symbol,T=Object.prototype,I=T.hasOwnProperty,E=T.toString,M=C?C.toStringTag:void 0,A=Object.prototype.toString,N=C?C.toStringTag:void 0;function S(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":N&&N in Object(t)?function(t){var e=I.call(t,M),n=t[M];try{t[M]=void 0;var r=!0}catch(t){}var i=E.call(t);return r&&(e?t[M]=n:delete t[M]),i}(t):function(t){return A.call(t)}(t)}function L(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function O(t){return null!=t&&L(t.length)&&!function(t){if(!u(t))return!1;var e=S(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}(t)}var D={};function k(){}function X(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}}var Y="function"==typeof Symbol&&Symbol.iterator;function R(t){return null!=t&&"object"==typeof t}function B(t){return R(t)&&"[object Arguments]"==S(t)}var F=Object.prototype,j=F.hasOwnProperty,U=F.propertyIsEnumerable,z=B(function(){return arguments}())?B:function(t){return R(t)&&j.call(t,"callee")&&!U.call(t,"callee")},W=Array.isArray,q="object"==typeof e&&e&&!e.nodeType&&e,H=q&&"object"==typeof i&&i&&!i.nodeType&&i,Z=H&&H.exports===q?P.Buffer:void 0,V=(Z?Z.isBuffer:void 0)||function(){return!1},G=/^(?:0|[1-9]\d*)$/;function $(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&G.test(t))&&t>-1&&t%1==0&&t<e}var J={};J["[object Float32Array]"]=J["[object Float64Array]"]=J["[object Int8Array]"]=J["[object Int16Array]"]=J["[object Int32Array]"]=J["[object Uint8Array]"]=J["[object Uint8ClampedArray]"]=J["[object Uint16Array]"]=J["[object Uint32Array]"]=!0,J["[object Arguments]"]=J["[object Array]"]=J["[object ArrayBuffer]"]=J["[object Boolean]"]=J["[object DataView]"]=J["[object Date]"]=J["[object Error]"]=J["[object Function]"]=J["[object Map]"]=J["[object Number]"]=J["[object Object]"]=J["[object RegExp]"]=J["[object Set]"]=J["[object String]"]=J["[object WeakMap]"]=!1;var Q,K="object"==typeof e&&e&&!e.nodeType&&e,tt=K&&"object"==typeof i&&i&&!i.nodeType&&i,et=tt&&tt.exports===K&&_.process,nt=function(){try{var t=tt&&tt.require&&tt.require("util").types;return t||et&&et.binding&&et.binding("util")}catch(t){}}(),rt=nt&&nt.isTypedArray,it=rt?(Q=rt,function(t){return Q(t)}):function(t){return R(t)&&L(t.length)&&!!J[S(t)]},ot=Object.prototype.hasOwnProperty;function at(t,e){var n=W(t),r=!n&&z(t),i=!n&&!r&&V(t),o=!n&&!r&&!i&&it(t),a=n||r||i||o,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=s.length;for(var l in t)!e&&!ot.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||$(l,u))||s.push(l);return s}var st=Object.prototype,ut=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),lt=Object.prototype.hasOwnProperty;function ht(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||st))return ut(t);var e,n,r=[];for(var i in Object(t))lt.call(t,i)&&"constructor"!=i&&r.push(i);return r}function ct(t){return O(t)?at(t):ht(t)}function ft(t){if(O(t))return function(t){var e=-1,n=t.length;return function(){return++e<n?{value:t[e],key:e}:null}}(t);var e,n,r,i,o=function(t){return Y&&t[Y]&&t[Y]()}(t);return o?function(t){var e=-1;return function(){var n=t.next();return n.done?null:(e++,{value:n.value,key:e})}}(o):(n=ct(e=t),r=-1,i=n.length,function(){var t=n[++r];return r<i?{value:e[t],key:t}:null})}function pt(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function dt(t){return function(e,n,r){if(r=X(r||k),t<=0||!e)return r(null);var i=ft(e),o=!1,a=0,s=!1;function u(t,e){if(a-=1,t)o=!0,r(t);else{if(e===D||o&&a<=0)return o=!0,r(null);s||l()}}function l(){for(s=!0;a<t&&!o;){var e=i();if(null===e)return o=!0,void(a<=0&&r(null));a+=1,n(e.value,e.key,pt(u))}s=!1}l()}}function mt(t,e,n,r){dt(e)(t,x(n),r)}function yt(t,e){return function(n,r,i){return t(n,e,r,i)}}function vt(t,e,n){n=X(n||k);var r=0,i=0,o=t.length;function a(t,e){t?n(t):++i!==o&&e!==D||n(null)}for(0===o&&n(null);r<o;r++)e(t[r],r,pt(a))}var gt=yt(mt,1/0),xt=function(t,e,n){(O(t)?vt:gt)(t,x(e),n)};function wt(t){return function(e,n,r){return t(xt,e,x(n),r)}}function _t(t,e,n,r){r=r||k,e=e||[];var i=[],o=0,a=x(n);t(e,(function(t,e,n){var r=o++;a(t,(function(t,e){i[r]=e,n(t)}))}),(function(t){r(t,i)}))}var bt=wt(_t),Pt=w(bt);function Ct(t){return function(e,n,r,i){return t(dt(n),e,x(r),i)}}var Tt=Ct(_t),It=yt(Tt,1),Et=w(It);function Mt(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}var At,Nt=function(t,e,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var s=o[At?a:++r];if(!1===e(i[s],s,i))break}return t};function St(t,e){return t&&Nt(t,e,ct)}function Lt(t){return t!=t}function Ot(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,Lt,n)}var Dt=function(t,e,n){"function"==typeof e&&(n=e,e=null),n=X(n||k);var r=ct(t).length;if(!r)return n(null);e||(e=r);var i={},a=0,s=!1,u=Object.create(null),l=[],h=[],c={};function f(t,e){l.push((function(){!function(t,e){if(!s){var r=pt((function(e,r){if(a--,arguments.length>2&&(r=o(arguments,1)),e){var l={};St(i,(function(t,e){l[e]=t})),l[t]=r,s=!0,u=Object.create(null),n(e,l)}else i[t]=r,d(t)}));a++;var l=x(e[e.length-1]);e.length>1?l(i,r):l(r)}}(t,e)}))}function p(){if(0===l.length&&0===a)return n(null,i);for(;l.length&&a<e;)l.shift()()}function d(t){Mt(u[t]||[],(function(t){t()})),p()}function m(e){var n=[];return St(t,(function(t,r){W(t)&&Ot(t,e,0)>=0&&n.push(r)})),n}St(t,(function(e,n){if(!W(e))return f(n,[e]),void h.push(n);var r=e.slice(0,e.length-1),i=r.length;if(0===i)return f(n,e),void h.push(n);c[n]=i,Mt(r,(function(o){if(!t[o])throw new Error("async.auto task `"+n+"` has a non-existent dependency `"+o+"` in "+r.join(", "));var a,s,l;s=function(){0==--i&&f(n,e)},(l=u[a=o])||(l=u[a]=[]),l.push(s)}))})),function(){for(var t,e=0;h.length;)t=h.pop(),e++,Mt(m(t),(function(t){0==--c[t]&&h.push(t)}));if(e!==r)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),p()};function kt(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Xt=C?C.prototype:void 0,Yt=Xt?Xt.toString:void 0;function Rt(t){if("string"==typeof t)return t;if(W(t))return kt(t,Rt)+"";if(function(t){return"symbol"==typeof t||R(t)&&"[object Symbol]"==S(t)}(t))return Yt?Yt.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Bt(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}(t,e,n)}var Ft=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),jt="[\\ud800-\\udfff]",Ut="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",zt="\\ud83c[\\udffb-\\udfff]",Wt="[^\\ud800-\\udfff]",qt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ht="[\\ud800-\\udbff][\\udc00-\\udfff]",Zt="(?:"+Ut+"|"+zt+")?",Vt="[\\ufe0e\\ufe0f]?"+Zt+"(?:\\u200d(?:"+[Wt,qt,Ht].join("|")+")[\\ufe0e\\ufe0f]?"+Zt+")*",Gt="(?:"+[Wt+Ut+"?",Ut,qt,Ht,jt].join("|")+")",$t=RegExp(zt+"(?="+zt+")|"+Gt+Vt,"g");function Jt(t){return function(t){return Ft.test(t)}(t)?function(t){return t.match($t)||[]}(t):function(t){return t.split("")}(t)}var Qt=/^\s+|\s+$/g;function Kt(t,e,n){var r;if((t=null==(r=t)?"":Rt(r))&&(n||void 0===e))return t.replace(Qt,"");if(!t||!(e=Rt(e)))return t;var i=Jt(t),o=Jt(e);return Bt(i,function(t,e){for(var n=-1,r=t.length;++n<r&&Ot(e,t[n],0)>-1;);return n}(i,o),function(t,e){for(var n=t.length;n--&&Ot(e,t[n],0)>-1;);return n}(i,o)+1).join("")}var te=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,ee=/,/,ne=/(=.+)?(\s*)$/,re=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function ie(t,e){var n={};St(t,(function(t,e){var r,i=g(t),o=!i&&1===t.length||i&&0===t.length;if(W(t))r=t.slice(0,-1),t=t[t.length-1],n[e]=r.concat(r.length>0?a:t);else if(o)n[e]=t;else{if(r=function(t){return t=(t=(t=(t=t.toString().replace(re,"")).match(te)[2].replace(" ",""))?t.split(ee):[]).map((function(t){return Kt(t.replace(ne,""))}))}(t),0===t.length&&!i&&0===r.length)throw new Error("autoInject task functions require explicit parameters.");i||r.pop(),n[e]=r.concat(a)}function a(e,n){var i=kt(r,(function(t){return e[t]}));i.push(n),x(t).apply(null,i)}})),Dt(n,e)}function oe(){this.head=this.tail=null,this.length=0}function ae(t,e){t.length=1,t.head=t.tail=e}function se(t,e,n){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=x(t),i=0,o=[],a=!1;function s(t,e,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(h.started=!0,W(t)||(t=[t]),0===t.length&&h.idle())return p((function(){h.drain()}));for(var r=0,i=t.length;r<i;r++){var o={data:t[r],callback:n||k};e?h._tasks.unshift(o):h._tasks.push(o)}a||(a=!0,p((function(){a=!1,h.process()})))}function u(t){return function(e){i-=1;for(var n=0,r=t.length;n<r;n++){var a=t[n],s=Ot(o,a,0);0===s?o.shift():s>0&&o.splice(s,1),a.callback.apply(a,arguments),null!=e&&h.error(e,a.data)}i<=h.concurrency-h.buffer&&h.unsaturated(),h.idle()&&h.drain(),h.process()}}var l=!1,h={_tasks:new oe,concurrency:e,payload:n,saturated:k,unsaturated:k,buffer:e/4,empty:k,drain:k,error:k,started:!1,paused:!1,push:function(t,e){s(t,!1,e)},kill:function(){h.drain=k,h._tasks.empty()},unshift:function(t,e){s(t,!0,e)},remove:function(t){h._tasks.remove(t)},process:function(){if(!l){for(l=!0;!h.paused&&i<h.concurrency&&h._tasks.length;){var t=[],e=[],n=h._tasks.length;h.payload&&(n=Math.min(n,h.payload));for(var a=0;a<n;a++){var s=h._tasks.shift();t.push(s),o.push(s),e.push(s.data)}i+=1,0===h._tasks.length&&h.empty(),i===h.concurrency&&h.saturated();var c=pt(u(t));r(e,c)}l=!1}},length:function(){return h._tasks.length},running:function(){return i},workersList:function(){return o},idle:function(){return h._tasks.length+i===0},pause:function(){h.paused=!0},resume:function(){!1!==h.paused&&(h.paused=!1,p(h.process))}};return h}function ue(t,e){return se(t,1,e)}oe.prototype.removeLink=function(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t},oe.prototype.empty=function(){for(;this.head;)this.shift();return this},oe.prototype.insertAfter=function(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1},oe.prototype.insertBefore=function(t,e){e.prev=t.prev,e.next=t,t.prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1},oe.prototype.unshift=function(t){this.head?this.insertBefore(this.head,t):ae(this,t)},oe.prototype.push=function(t){this.tail?this.insertAfter(this.tail,t):ae(this,t)},oe.prototype.shift=function(){return this.head&&this.removeLink(this.head)},oe.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},oe.prototype.toArray=function(){for(var t=Array(this.length),e=this.head,n=0;n<this.length;n++)t[n]=e.data,e=e.next;return t},oe.prototype.remove=function(t){for(var e=this.head;e;){var n=e.next;t(e)&&this.removeLink(e),e=n}return this};var le=yt(mt,1);function he(t,e,n,r){r=X(r||k);var i=x(n);le(t,(function(t,n,r){i(e,t,(function(t,n){e=n,r(t)}))}),(function(t){r(t,e)}))}function ce(){var t=kt(arguments,x);return function(){var e=o(arguments),n=this,r=e[e.length-1];"function"==typeof r?e.pop():r=k,he(t,e,(function(t,e,r){e.apply(n,t.concat((function(t){var e=o(arguments,1);r(t,e)})))}),(function(t,e){r.apply(n,[t].concat(e))}))}}var fe=function(){return ce.apply(null,o(arguments).reverse())},pe=Array.prototype.concat,de=function(t,e,n,r){r=r||k;var i=x(n);Tt(t,e,(function(t,e){i(t,(function(t){return t?e(t):e(null,o(arguments,1))}))}),(function(t,e){for(var n=[],i=0;i<e.length;i++)e[i]&&(n=pe.apply(n,e[i]));return r(t,n)}))},me=yt(de,1/0),ye=yt(de,1),ve=function(){var t=o(arguments),e=[null].concat(t);return function(){var t=arguments[arguments.length-1];return t.apply(this,e)}};function ge(t){return t}function xe(t,e){return function(n,r,i,o){o=o||k;var a,s=!1;n(r,(function(n,r,o){i(n,(function(r,i){r?o(r):t(i)&&!a?(s=!0,a=e(!0,n),o(null,D)):o()}))}),(function(t){t?o(t):o(null,s?a:e(!1))}))}}function we(t,e){return e}var _e=wt(xe(ge,we)),be=Ct(xe(ge,we)),Pe=yt(be,1);function Ce(t){return function(e){var n=o(arguments,1);n.push((function(e){var n=o(arguments,1);"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&Mt(n,(function(e){console[t](e)})))})),x(e).apply(null,n)}}var Te=Ce("dir");function Ie(t,e,n){n=pt(n||k);var r=x(t),i=x(e);function a(t){if(t)return n(t);var e=o(arguments,1);e.push(s),i.apply(this,e)}function s(t,e){return t?n(t):e?void r(a):n(null)}s(null,!0)}function Ee(t,e,n){n=pt(n||k);var r=x(t),i=function(t){if(t)return n(t);var a=o(arguments,1);if(e.apply(this,a))return r(i);n.apply(null,[null].concat(a))};r(i)}function Me(t,e,n){Ee(t,(function(){return!e.apply(this,arguments)}),n)}function Ae(t,e,n){n=pt(n||k);var r=x(e),i=x(t);function o(t){if(t)return n(t);i(a)}function a(t,e){return t?n(t):e?void r(o):n(null)}i(a)}function Ne(t){return function(e,n,r){return t(e,r)}}function Se(t,e,n){xt(t,Ne(x(e)),n)}function Le(t,e,n,r){dt(e)(t,Ne(x(n)),r)}var Oe=yt(Le,1);function De(t){return g(t)?t:s((function(e,n){var r=!0;e.push((function(){var t=arguments;r?p((function(){n.apply(null,t)})):n.apply(null,t)})),t.apply(this,e),r=!1}))}function ke(t){return!t}var Xe=wt(xe(ke,ke)),Ye=Ct(xe(ke,ke)),Re=yt(Ye,1);function Be(t){return function(e){return null==e?void 0:e[t]}}function Fe(t,e,n,r){var i=new Array(e.length);t(e,(function(t,e,r){n(t,(function(t,n){i[e]=!!n,r(t)}))}),(function(t){if(t)return r(t);for(var n=[],o=0;o<e.length;o++)i[o]&&n.push(e[o]);r(null,n)}))}function je(t,e,n,r){var i=[];t(e,(function(t,e,r){n(t,(function(n,o){n?r(n):(o&&i.push({index:e,value:t}),r())}))}),(function(t){t?r(t):r(null,kt(i.sort((function(t,e){return t.index-e.index})),Be("value")))}))}function Ue(t,e,n,r){(O(e)?Fe:je)(t,e,x(n),r||k)}var ze=wt(Ue),We=Ct(Ue),qe=yt(We,1);function He(t,e){var n=pt(e||k),r=x(De(t));!function t(e){if(e)return n(e);r(t)}()}var Ze=function(t,e,n,r){r=r||k;var i=x(n);Tt(t,e,(function(t,e){i(t,(function(n,r){return n?e(n):e(null,{key:r,val:t})}))}),(function(t,e){for(var n={},i=Object.prototype.hasOwnProperty,o=0;o<e.length;o++)if(e[o]){var a=e[o].key,s=e[o].val;i.call(n,a)?n[a].push(s):n[a]=[s]}return r(t,n)}))},Ve=yt(Ze,1/0),Ge=yt(Ze,1),$e=Ce("log");function Je(t,e,n,r){r=X(r||k);var i={},o=x(n);mt(t,e,(function(t,e,n){o(t,e,(function(t,r){if(t)return n(t);i[e]=r,n()}))}),(function(t){r(t,i)}))}var Qe=yt(Je,1/0),Ke=yt(Je,1);function tn(t,e){return e in t}function en(t,e){var n=Object.create(null),r=Object.create(null);e=e||ge;var i=x(t),a=s((function(t,a){var s=e.apply(null,t);tn(n,s)?p((function(){a.apply(null,n[s])})):tn(r,s)?r[s].push(a):(r[s]=[a],i.apply(null,t.concat((function(){var t=o(arguments);n[s]=t;var e=r[s];delete r[s];for(var i=0,a=e.length;i<a;i++)e[i].apply(null,t)}))))}));return a.memo=n,a.unmemoized=t,a}var nn=f(h?n.nextTick:l?t:c);function rn(t,e,n){n=n||k;var r=O(e)?[]:{};t(e,(function(t,e,n){x(t)((function(t,i){arguments.length>2&&(i=o(arguments,1)),r[e]=i,n(t)}))}),(function(t){n(t,r)}))}function on(t,e){rn(xt,t,e)}function an(t,e,n){rn(dt(e),t,n)}var sn=function(t,e){var n=x(t);return se((function(t,e){n(t[0],e)}),e,1)},un=function(t,e){var n=sn(t,e);return n.push=function(t,e,r){if(null==r&&(r=k),"function"!=typeof r)throw new Error("task callback must be a function");if(n.started=!0,W(t)||(t=[t]),0===t.length)return p((function(){n.drain()}));e=e||0;for(var i=n._tasks.head;i&&e>=i.priority;)i=i.next;for(var o=0,a=t.length;o<a;o++){var s={data:t[o],priority:e,callback:r};i?n._tasks.insertBefore(i,s):n._tasks.push(s)}p(n.process)},delete n.unshift,n};function ln(t,e){if(e=X(e||k),!W(t))return e(new TypeError("First argument to race must be an array of functions"));if(!t.length)return e();for(var n=0,r=t.length;n<r;n++)x(t[n])(e)}function hn(t,e,n,r){he(o(t).reverse(),e,n,r)}function cn(t){var e=x(t);return s((function(t,n){return t.push((function(t,e){var r;t?n(null,{error:t}):(r=arguments.length<=2?e:o(arguments,1),n(null,{value:r}))})),e.apply(this,t)}))}function fn(t){var e;return W(t)?e=kt(t,cn):(e={},St(t,(function(t,n){e[n]=cn.call(this,t)}))),e}function pn(t,e,n,r){Ue(t,e,(function(t,e){n(t,(function(t,n){e(t,!n)}))}),r)}var dn=wt(pn),mn=Ct(pn),yn=yt(mn,1);function vn(t){return function(){return t}}function gn(t,e,n){var r=5,i=0,o={times:r,intervalFunc:vn(i)};function a(t,e){if("object"==typeof e)t.times=+e.times||r,t.intervalFunc="function"==typeof e.interval?e.interval:vn(+e.interval||i),t.errorFilter=e.errorFilter;else{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Invalid arguments for async.retry");t.times=+e||r}}if(arguments.length<3&&"function"==typeof t?(n=e||k,e=t):(a(o,t),n=n||k),"function"!=typeof e)throw new Error("Invalid arguments for async.retry");var s=x(e),u=1;function l(){s((function(t){t&&u++<o.times&&("function"!=typeof o.errorFilter||o.errorFilter(t))?setTimeout(l,o.intervalFunc(u)):n.apply(null,arguments)}))}l()}var xn=function(t,e){e||(e=t,t=null);var n=x(e);return s((function(e,r){function i(t){n.apply(null,e.concat(t))}t?gn(t,i,r):gn(i,r)}))};function wn(t,e){rn(le,t,e)}var _n=wt(xe(Boolean,ge)),bn=Ct(xe(Boolean,ge)),Pn=yt(bn,1);function Cn(t,e,n){var r=x(e);function i(t,e){var n=t.criteria,r=e.criteria;return n<r?-1:n>r?1:0}bt(t,(function(t,e){r(t,(function(n,r){if(n)return e(n);e(null,{value:t,criteria:r})}))}),(function(t,e){if(t)return n(t);n(null,kt(e.sort(i),Be("value")))}))}function Tn(t,e,n){var r=x(t);return s((function(i,o){var a,s=!1;i.push((function(){s||(o.apply(null,arguments),clearTimeout(a))})),a=setTimeout((function(){var e=t.name||"anonymous",r=new Error('Callback function "'+e+'" timed out.');r.code="ETIMEDOUT",n&&(r.info=n),s=!0,o(r)}),e),r.apply(null,i)}))}var In=Math.ceil,En=Math.max;function Mn(t,e,n,r){var i=x(n);Tt(function(t,e,n,r){for(var i=-1,o=En(In((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}(0,t,1),e,i,r)}var An=yt(Mn,1/0),Nn=yt(Mn,1);function Sn(t,e,n,r){arguments.length<=3&&(r=n,n=e,e=W(t)?[]:{}),r=X(r||k);var i=x(n);xt(t,(function(t,n,r){i(e,t,n,r)}),(function(t){r(t,e)}))}function Ln(t,e){var n,r=null;e=e||k,Oe(t,(function(t,e){x(t)((function(t,i){n=arguments.length>2?o(arguments,1):i,r=t,e(!t)}))}),(function(){e(r,n)}))}function On(t){return function(){return(t.unmemoized||t).apply(null,arguments)}}function Dn(t,e,n){n=pt(n||k);var r=x(e);if(!t())return n(null);var i=function(e){if(e)return n(e);if(t())return r(i);var a=o(arguments,1);n.apply(null,[null].concat(a))};r(i)}function kn(t,e,n){Dn((function(){return!t.apply(this,arguments)}),e,n)}var Xn=function(t,e){if(e=X(e||k),!W(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var n=0;function r(e){var r=x(t[n++]);e.push(pt(i)),r.apply(null,e)}function i(i){if(i||n===t.length)return e.apply(null,arguments);r(o(arguments,1))}r([])},Yn={apply:a,applyEach:Pt,applyEachSeries:Et,asyncify:d,auto:Dt,autoInject:ie,cargo:ue,compose:fe,concat:me,concatLimit:de,concatSeries:ye,constant:ve,detect:_e,detectLimit:be,detectSeries:Pe,dir:Te,doDuring:Ie,doUntil:Me,doWhilst:Ee,during:Ae,each:Se,eachLimit:Le,eachOf:xt,eachOfLimit:mt,eachOfSeries:le,eachSeries:Oe,ensureAsync:De,every:Xe,everyLimit:Ye,everySeries:Re,filter:ze,filterLimit:We,filterSeries:qe,forever:He,groupBy:Ve,groupByLimit:Ze,groupBySeries:Ge,log:$e,map:bt,mapLimit:Tt,mapSeries:It,mapValues:Qe,mapValuesLimit:Je,mapValuesSeries:Ke,memoize:en,nextTick:nn,parallel:on,parallelLimit:an,priorityQueue:un,queue:sn,race:ln,reduce:he,reduceRight:hn,reflect:cn,reflectAll:fn,reject:dn,rejectLimit:mn,rejectSeries:yn,retry:gn,retryable:xn,seq:ce,series:wn,setImmediate:p,some:_n,someLimit:bn,someSeries:Pn,sortBy:Cn,timeout:Tn,times:An,timesLimit:Mn,timesSeries:Nn,transform:Sn,tryEach:Ln,unmemoize:On,until:kn,waterfall:Xn,whilst:Dn,all:Xe,allLimit:Ye,allSeries:Re,any:_n,anyLimit:bn,anySeries:Pn,find:_e,findLimit:be,findSeries:Pe,forEach:Se,forEachSeries:Oe,forEachLimit:Le,forEachOf:xt,forEachOfSeries:le,forEachOfLimit:mt,inject:he,foldl:he,foldr:hn,select:ze,selectLimit:We,selectSeries:qe,wrapSync:d};e.default=Yn,e.apply=a,e.applyEach=Pt,e.applyEachSeries=Et,e.asyncify=d,e.auto=Dt,e.autoInject=ie,e.cargo=ue,e.compose=fe,e.concat=me,e.concatLimit=de,e.concatSeries=ye,e.constant=ve,e.detect=_e,e.detectLimit=be,e.detectSeries=Pe,e.dir=Te,e.doDuring=Ie,e.doUntil=Me,e.doWhilst=Ee,e.during=Ae,e.each=Se,e.eachLimit=Le,e.eachOf=xt,e.eachOfLimit=mt,e.eachOfSeries=le,e.eachSeries=Oe,e.ensureAsync=De,e.every=Xe,e.everyLimit=Ye,e.everySeries=Re,e.filter=ze,e.filterLimit=We,e.filterSeries=qe,e.forever=He,e.groupBy=Ve,e.groupByLimit=Ze,e.groupBySeries=Ge,e.log=$e,e.map=bt,e.mapLimit=Tt,e.mapSeries=It,e.mapValues=Qe,e.mapValuesLimit=Je,e.mapValuesSeries=Ke,e.memoize=en,e.nextTick=nn,e.parallel=on,e.parallelLimit=an,e.priorityQueue=un,e.queue=sn,e.race=ln,e.reduce=he,e.reduceRight=hn,e.reflect=cn,e.reflectAll=fn,e.reject=dn,e.rejectLimit=mn,e.rejectSeries=yn,e.retry=gn,e.retryable=xn,e.seq=ce,e.series=wn,e.setImmediate=p,e.some=_n,e.someLimit=bn,e.someSeries=Pn,e.sortBy=Cn,e.timeout=Tn,e.times=An,e.timesLimit=Mn,e.timesSeries=Nn,e.transform=Sn,e.tryEach=Ln,e.unmemoize=On,e.until=kn,e.waterfall=Xn,e.whilst=Dn,e.all=Xe,e.allLimit=Ye,e.allSeries=Re,e.any=_n,e.anyLimit=bn,e.anySeries=Pn,e.find=_e,e.findLimit=be,e.findSeries=Pe,e.forEach=Se,e.forEachSeries=Oe,e.forEachLimit=Le,e.forEachOf=xt,e.forEachOfSeries=le,e.forEachOfLimit=mt,e.inject=he,e.foldl=he,e.foldr=hn,e.select=ze,e.selectLimit=We,e.selectSeries=qe,e.wrapSync=d,Object.defineProperty(e,"__esModule",{value:!0})})(e)}).call(this,n(109).setImmediate,n(49),n(3),n(20)(t))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],h=!1,c=-1;function f(){h&&u&&(h=!1,u.length?l=u.concat(l):c=-1,l.length&&p())}function p(){if(!h){var t=s(f);h=!0;for(var e=l.length;e;){for(u=l,l=[];++c<e;)u&&u[c].run();c=-1,e=l.length}u=null,h=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||h||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";var r=n(111),i=n(51),o=n(21),a={},s=2*Math.PI;a.abs=Math.abs,a.accumulate=function(t){if(arguments.length>1?t=arguments:1!==arguments.length||Array.isArray(t)||(t=[t]),!t||0===t.length)return[0];var e,n=[],r=0;for(e=0;e<t.length;e++)n.push(r),r+=t[e];return n},a.add=function(t,e){return 2===arguments.length?t+e:r(arguments,(function(t,e){return t+e}),0)},a.and=function(t,e){var n=arguments.length;if(2===n)return t&&e;if(1===n)return!!t;if(0===n)throw new Error("Wrong number of arguments");return r(arguments,(function(t,e){return t&&e}),!0)},a.average=function(t){if(arguments.length>1?t=arguments:1!==arguments.length||Array.isArray(t)||(t=[t]),!t||0===t.length)return 0;var e,n=0;for(e=0;e<t.length;e+=1)n+=t[e];return n/t.length},a.boolean=function(t){return!!t},a.ceil=Math.ceil,a.clamp=function(t,e,n){return n="number"==typeof n?n:1,t<(e="number"==typeof e?e:0)?e:t>n?n:t},a.compare=function(t,e,n){if("<"===n)return t<e;if(">"===n)return t>e;if("<="===n)return t<=e;if(">="===n)return t>=e;if("=="===n)return t===e;if("!="===n)return t!==e;throw new Error("Unknown comparison operation "+n)},a.cos=Math.cos,a.degrees=function(t){return 180*t/Math.PI},a.divide=function(t,e){var n=arguments.length;function i(t){if(0===t)throw new Error("Divide by zero")}if(2===n)return i(e),t/e;if(1===n)return i(t),1/t;if(0===n)throw new Error("Wrong number of arguments");return r([].slice.call(arguments,1),(function(t,e){return i(e),t/e}),arguments[0])},a.e=function(){return Math.E},a.even=function(t){return t%2==0},a.floor=Math.floor,a.integer=function(t){return 0|t},a.log=function(t){return t>0?Math.log(t):-Math.log(-t)},a.makeNumbers=function(t,e){if(!t)return[];e||(e="");var n,r,i=[],o=t.split(e);for(n=0;n<o.length;n+=1)(0===(r=parseFloat(o[n]))||r)&&i.push(r);return i},a.max=function(){var t=arguments;if(1===arguments.length&&Array.isArray(arguments[0])&&(t=arguments[0]),0===t.length)throw new Error("Wrong number of arguments");return Math.max.apply(null,t)},a.min=function(){var t=arguments;if(1===arguments.length&&Array.isArray(arguments[0])&&(t=arguments[0]),0===t.length)throw new Error("Wrong number of arguments");return Math.min.apply(null,t)},a.mod=function(t,e){return t%e},a.multiply=function(t,e){var n=arguments.length;return 2===n?t*e:1===n?t:r(arguments,(function(t,e){return t*e}),1)},a.negate=function(t){return-t},a.not=function(t){return!t},a.number=function(t){return t},a.odd=function(t){return t%2!=0},a.or=function(t,e){var n=arguments.length;if(2===n)return t||e;if(1===n)return!!t;if(0===n)throw new Error("Wrong number of arguments");return r(arguments,(function(t,e){return t||e}),!1)},a.perlinNoise=function(t,e,n){return o.math.noise(t,e,n)},a.pi=function(){return Math.PI},a.pow=Math.pow,a.radians=function(t){return t*Math.PI/180},a.randomNumbers=function(t,e,n,r){var o,a=arguments.length;if((a<4||!r&&0!==r)&&(r=Math.random()),3===a||4===a?(e=e||0,n=n||(0===n?0:1)):2===a?(n=e||(0===e?0:1),e=0):1===a&&(e=0,n=1),n<e){var s=n;n=e,e=s}for(var u=n-e,l=[],h=i.randomGenerator(r||0),c=0;c<t;c+=1)o=e+h(0,1)*u,l.push(o);return l},a.range=function(t,e,n,r){if(t===e)return[];if(0!==n&&(n=n||(t<e?1:-1)),n>0&&t>e)return[];if(n<0&&t<e)return[];if(0===n)return[];var i,o=[];if(t<e)if(r)for(i=t;i<=e;i+=n)o.push(i);else for(i=t;i<e;i+=n)o.push(i);else if(r)for(i=t;i>=e;i+=n)o.push(i);else for(i=t;i>e;i+=n)o.push(i);return o},a.round=function(t,e){return(e|=0)?Math.round(t/e)*e:Math.round(t)},a.sample=function(t,e,n,r){var i,o,a=[];for(a.length=t,i=r?(n-e)/t:(n-e)/(t-1),o=0;o<t;o+=1)a[o]=e+o*i;return a},a.sineWave=function(t,e,n,r,i){void 0===e&&(e=-1),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=0);var o=(n-e)/2;return e+o+Math.sin((i+t)*s/r)*o},a.squareWave=function(t,e,n,r,i){return void 0===e&&(e=-1),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=0),(t+i)%r<r/2?n:e},a.triangleWave=function(t,e,n,r,i){void 0===e&&(e=-1),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=0);var o=0,a=t+i+r/4;return a%r!=0&&(o=a*(s/r)%s),o<0&&(o+=s),2*((n-e)/2)*(1-Math.abs(o/s*2-1))+e},a.sawtoothWave=function(t,e,n,r,i){void 0===e&&(e=-1),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=0);var o=0,a=t+i;return a%r!=0&&(o=a*(s/r)%s),o<0&&(o+=s),o/s*2*((n-e)/2)+e},a.sign=function(t){return t>0?1:0===t?0:-1},a.sin=Math.sin,a.sqrt=Math.sqrt,a.subtract=function(t,e){var n=arguments.length;if(2===n)return t-e;if(1===n)return-t;if(0===n)throw new Error("Wrong number of arguments");return r([].slice.call(arguments,1),(function(t,e){return t-e}),arguments[0])},a.tan=Math.tan,a.total=function(t){if(arguments.length>1?t=arguments:1!==arguments.length||Array.isArray(t)?0===arguments.length&&(t=[]):t=[t],0===t.length)return 0;var e,n=0;for(e=0;e<t.length;e+=1)n+=t[e];return n},a.xor=function(t,e){var n=arguments.length;if(2===n)return!!(t^e);throw new Error("Wrong number of arguments")},t.exports=a},function(t,e,n){"use strict";var r=function(t){if(t<0){for(var e=r(Math.abs(t)),n=0;n<23;n+=1)e();return r(e(0,1e4))}return function(e,n){return(e=e||0)+(t=(9301*t+49297)%233280)/233280*((n=n||1)-e)}};e.randomGenerator=r},function(t,e,n){"use strict";var r=n(113),i=n(51),o={combine:function(){var t,e,n=[];for(t=0;t<arguments.length;t++)(e=arguments[t])&&(n=n.concat(e));return n},contains:function(t,e){if(!t)return!1;for(var n=0;n<t.length;n+=1)if(r.deepEqual(t[n],e))return!0;return!1},cycle:function(t,e){if(!t||e<=0)return[];for(var n=[],r=t.length,i=0;i<e;i+=1)n.push(t[i%r]);return n},equals:function(t,e){return r.deepEqual(t,e)},count:function(t){return t&&t.length?t.length:0},cull:function(t,e){if(!t)return[];if(!e)return t;var n,r=[];for(n=0;n<t.length;n++)e[n%e.length]&&r.push(t[n]);return r},distinct:function(t){if(!t)return[];var e,n,r,i=[],a=[];for(e=0,n=t.length;e<n;e+=1)r=t[e],o.contains(a,r)||(a.push(r),i.push(t[e]));return i},first:function(t){return t&&0!==t.length?t[0]:null},get:function(t,e){return t&&0!==t.length?t[e]:null},interleave:function(){const t=Array.from(arguments).filter(t=>!!t);if(0===t.length)return[];const e=[];let n=0;for(;;){for(let r=0;r<t.length;r++){let i=t[r];if(!(i.length>n))return e;e.push(i[n])}n+=1}},last:function(t){return t&&0!==t.length?t[t.length-1]:null},pick:function(t,e,n){if(!t||0===t.length||e<=0)return[];n||0===n||(n=Math.random());for(var r=i.randomGenerator(n||0),o=[],a=0;a<e;a+=1)o.push(t[Math.floor(r(0,t.length))]);return o},randomSample:function(t,e,n){if(!t||0===t.length||e<=0)return[];n||0===n||(n=Math.random());var r=o.shuffle(t,n);return e?o.slice(r,0,e):r},repeat:function(t,e,n){if(!t)return[];if(Array.isArray(t)||(t=[t]),e<=0)return[];var r,i,o,a=[];if(n)for(r=0;r<t.length;r+=1)for(o=t[r],i=0;i<e;i+=1)a.push(o);else for(r=0;r<e;r+=1)a.push.apply(a,t);return a},rest:function(t){return t?t.slice(1):[]},reverse:function(t){return t?t.slice().reverse():[]},second:function(t){return!t||t.length<2?null:t[1]},shift:function(t,e){if(!t)return[];e%=t.length;var n=t.slice(0,e),r=t.slice(e);return r.push.apply(r,n),r},shuffle:function(t,e){var n,r,o,a;for(e||0===e||(e=Math.random()),a=i.randomGenerator(e||0),n=(t=t.slice()).length-1;n>0;n--)r=Math.floor(a(0,n+1)),o=t[n],t[n]=t[r],t[r]=o;return t},slice:function(t,e,n,r){return t?r?(i=t.slice(0,e),o=t.slice(e+n),i.push.apply(i,o),i):t.slice(e,e+n):[];var i,o},sort:function(t,e){if(!t)return[];if(e){if("string"==typeof e)return t.slice().sort((function(t,n){return t[e]>n[e]?1:t[e]===n[e]?0:-1}));if("function"==typeof e)return t.slice().sort(e)}return t&&void 0!==t[0]&&null!==t[0]&&"number"==typeof t[0]?t.slice().sort((function(t,e){return t-e})):t.slice().sort()},switch:function(t){var e=arguments.length-1;return(t%=e)<0&&(t+=e),arguments[t+1]},takeEvery:function(t,e,n){if(!t)return[];var r,i=[];for(n=n||0,r=0;r<t.length;r+=1)r%e===n&&i.push(t[r]);return i},zipMap:function(t,e){var n,r,i,o={},a=Math.min(t.length,e.length);for(n=0;n<a;n+=1)r=t[n],i=e[n],o[r]=i;return o}};t.exports=o},function(t,e,n){"use strict";var r=n(95),i=n(32),o=n(21),a=n(33),s={};function u(t){for(var e in t)s[e]=t[e]}for(var l in o)s[l]=o[l];for(var l in delete s.delete,a)s[l]=a[l];function h(t,e){var n,r,i=[],o="",a=!1;for(t=t.trim(),r=0;r<t.length;r+=1)'"'===(n=t[r])?'"'===t[r+1]?(o+='"',r+=1):a=!a:n===e?a?o+=n:(i.push(o),o=""):o+=n;return i.push(o),i}u(n(50)),u(n(112)),u(n(52)),u(n(114)),u(n(117)),u(n(118)),u(n(119)),s.importSVG=function(t){return s.svg.parseString(t)},s.importImage=function(t){var e=s.Layer.fromImage(t);return new s.Img(e.toCanvas())},s.importText=function(t){return t?String(t):""},s.importCSV=function(t,e){var n,i;if(e=e||",",!t)return null;i=h((n=t.split(/\r\n|\r|\n/g))[0],e),n=n.slice(1);for(var o,a,s,u,l,c=[],f=0;f<n.length;f+=1)if(o=n[f],!r(o)){for(a={},s=h(o,e),l=0;l<s.length;l+=1)u=s[l],a[i[l]]=isNaN(u)?u:parseFloat(u);c.push(a)}return c},s.merge=function(){var t=i(arguments);if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n+=1)r(t[n])||e.push(t[n]);if(e.length>0){var s=e[0];if(s&&(s.commands||s.shapes||s.fontFamily))return o.merge(e);if(s instanceof a.Img)return a.merge(e)}}return null},s.mix=function(t,e,n){if(n=void 0!==n?n:.5,"number"==typeof t)return t*(1-n)+e*n;if(t instanceof s.Color&&e instanceof s.Color)return new s.Color(s.mix(t.r,e.r,n),s.mix(t.g,e.g,n),s.mix(t.b,e.b,n),s.mix(t.a,e.a,n));if("object"==typeof t){for(var r={},i=Object.keys(t),o=0,a=i.length;o<a;o+=1){var u=i[o],l=t[u],h=e[u];void 0!==l&&void 0!==h&&(r[u]=s.mix(l,h,n))}return r}return 0},t.exports=s},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){(function(t,n){var r="[object Map]",i="[object Set]",o=/^\[object .+?Constructor\]$/,a="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,u=a||s||Function("return this")(),l=e&&!e.nodeType&&e,h=l&&"object"==typeof n&&n&&!n.nodeType&&n,c=h&&h.exports===l;var f,p,d,m=Function.prototype,y=Object.prototype,v=u["__core-js_shared__"],g=(f=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",x=m.toString,w=y.hasOwnProperty,_=y.toString,b=RegExp("^"+x.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=c?u.Buffer:void 0,C=y.propertyIsEnumerable,T=P?P.isBuffer:void 0,I=(p=Object.keys,d=Object,function(t){return p(d(t))}),E=B(u,"DataView"),M=B(u,"Map"),A=B(u,"Promise"),N=B(u,"Set"),S=B(u,"WeakMap"),L=!C.call({valueOf:1},"valueOf"),O=j(E),D=j(M),k=j(A),X=j(N),Y=j(S);function R(t){return!(!Z(t)||function(t){return!!g&&g in t}(t))&&(H(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?b:o).test(j(t))}function B(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return R(n)?n:void 0}var F=function(t){return _.call(t)};function j(t){if(null!=t){try{return x.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function U(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&W(t)}(t)&&w.call(t,"callee")&&(!C.call(t,"callee")||"[object Arguments]"==_.call(t))}(E&&"[object DataView]"!=F(new E(new ArrayBuffer(1)))||M&&F(new M)!=r||A&&"[object Promise]"!=F(A.resolve())||N&&F(new N)!=i||S&&"[object WeakMap]"!=F(new S))&&(F=function(t){var e=_.call(t),n="[object Object]"==e?t.constructor:void 0,o=n?j(n):void 0;if(o)switch(o){case O:return"[object DataView]";case D:return r;case k:return"[object Promise]";case X:return i;case Y:return"[object WeakMap]"}return e});var z=Array.isArray;function W(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!H(t)}var q=T||function(){return!1};function H(t){var e=Z(t)?_.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}function Z(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}n.exports=function(t){if(W(t)&&(z(t)||"string"==typeof t||"function"==typeof t.splice||q(t)||U(t)))return!t.length;var e=F(t);if(e==r||e==i)return!t.size;if(L||function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||y)}(t))return!I(t).length;for(var n in t)if(w.call(t,n))return!1;return!0}}).call(this,n(3),n(20)(t))},function(t,e){var n=/^(?:0|[1-9]\d*)$/;function r(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=i.propertyIsEnumerable,u=Math.max;function l(t,e){var n=d(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&m(t)}(t)&&o.call(t,"callee")&&(!s.call(t,"callee")||"[object Arguments]"==a.call(t))}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,i=!!r;for(var u in t)!e&&!o.call(t,u)||i&&("length"==u||f(u,r))||n.push(u);return n}function h(t,e,n){var r=t[e];o.call(t,e)&&p(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function c(t){if(!y(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e,n,r,a=(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||i,e===r),s=[];for(var u in t)("constructor"!=u||!a&&o.call(t,u))&&s.push(u);return s}function f(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||n.test(t))&&t>-1&&t%1==0&&t<e}function p(t,e){return t===e||t!=t&&e!=e}var d=Array.isArray;function m(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!function(t){var e=y(t)?a.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)}function y(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var v,g,x,w=(v=function(t,e){!function(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],s=r?r(n[a],t[a],a,n,t):void 0;h(n,a,void 0===s?t[a]:s)}}(e,function(t){return m(t)?l(t,!0):c(t)}(e),t)},g=function(t,e){var n=-1,r=e.length,i=r>1?e[r-1]:void 0,o=r>2?e[2]:void 0;for(i=v.length>3&&"function"==typeof i?(r--,i):void 0,o&&function(t,e,n){if(!y(n))return!1;var r=typeof e;return!!("number"==r?m(n)&&f(e,n.length):"string"==r&&e in n)&&p(n[e],t)}(e[0],e[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var a=e[n];a&&v(t,a,n,i)}return t},x=u(void 0===x?g.length-1:x,0),function(){for(var t=arguments,e=-1,n=u(t.length-x,0),i=Array(n);++e<n;)i[e]=t[x+e];e=-1;for(var o=Array(x+1);++e<x;)o[e]=t[e];return o[x]=i,r(g,this,o)});t.exports=w},function(t,e,n){"use strict";var r=n(98),i=n(1),o=n(24),a=n(6),s=n(0),u=n(8),l=function(t){return t.replace(/^\s+|\s+$/g,"")},h=function(t){return t.replace(/[\s\r\t\n]+/gm," ")},c=function(t){var e,n=l(h((t||"").replace(/,/g," "))).split(" ");for(e=0;e<n.length;e+=1)n[e]=parseFloat(n[e]);return n},f=function(t,e){var n,r,i,o,a,s,f,p,d,m,y,v,g,x,w,_,b,P,C;v=e?Object.create(e):{},p=[],(d={}).translate=function(t){var e=c(t),n=e[0],r=e[1]||0;return(new u).translate(n,r)},d.scale=function(t){var e=c(t),n=e[0],r=e[1]||n;return(new u).scale(n,r)},d.rotate=function(t){var e=c(t),n=e[0],r=e[1]||0,i=e[2]||0;return(new u).translate(r,i).rotate(n).translate(-r,-i)},d.matrix=function(t){var e=c(t);return new u([e[0],e[1],0,e[2],e[3],0,e[4],e[5],1])};for(var T=0;T<t.attributes.length;T+=1)switch((g=t.attributes[T]).nodeName){case"transform":for(x=l(h(g.nodeValue)).replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),y=0;y<x.length;y+=1)w=l(x[y].split("(")[0]),_=x[y].split("(")[1].replace(")",""),m=d[w](_),p.push(m);break;case"visibility":case"stroke-linecap":case"stroke-linejoin":case"stroke-miterlimit":break;case"stroke-width":a=parseFloat(g.nodeValue);break;case"stroke-opacity":o=parseFloat(g.nodeValue);break;case"fill-opacity":r=parseFloat(g.nodeValue);break;case"fill":n=g.nodeValue;break;case"stroke":i=g.nodeValue;break;case"opacity":s=parseFloat(g.nodeValue);break;case"color":f=g.nodeValue;break;case"style":for(b={},P=g.nodeValue.split(";"),y=0;y<P.length;y+=1)b[(C=P[y].split(":"))[0].trim()]=C[1];b.fill&&(n=b.fill),b.stroke&&(i=b.stroke),void 0!==b["stroke-width"]&&(a=parseFloat(b["stroke-width"])),void 0!==b["stroke-opacity"]&&(o=parseFloat(b["stroke-opacity"])),void 0!==b["fill-opacity"]&&(r=parseFloat(b["fill-opacity"])),void 0!==b.opacity&&(s=parseFloat(b.opacity)),b.color&&(f=b.color)}if(void 0!==n&&(v.fill=n),void 0!==i&&(v.stroke=i),void 0!==r&&(v.fillOpacity=r),void 0!==o&&(v.strokeOpacity=o),void 0!==a&&(v.strokeWidth=a),void 0!==s&&(v.opacity=s),void 0!==f&&"currentColor"!==f&&(v.color=f),p.length>0){for(m=new u,y=0;y<p.length;y+=1)m=m.append(p[y]);m.isIdentity()||(v.transform?v.transform=v.transform.append(m):v.transform=m)}return v},p=function(t,e){var n=e.fill;t.commands&&t.commands.length>0&&void 0===n&&(n="black");var r,o=e.fillOpacity,s=e.stroke,u=e.strokeOpacity,l=e.opacity,h=e.strokeWidth,c=e.transform,f=e.color;"currentColor"===n&&(n=void 0===f?"black":f),void 0!==n&&(n=i.parse(n),void 0!==o&&(n.a*=o),void 0!==l&&(n.a*=l)),"currentColor"===s&&(s=void 0===f?"black":f),void 0!==s&&(s=i.parse(s),void 0!==u&&(s.a*=u),void 0!==l&&(s.a*=l)),r=c?c.transformShape(t).commands:t.commands;var p=void 0===n?t.fill:n,d=void 0===s?t.stroke:s,m=void 0===h?t.strokeWidth:h;return void 0!==m&&void 0!==c&&(m*=c.m[0]),new a(r,p,d,m)},d=function(t,e,n,r,i,o,a,s,u){var l,h,c,f,p,d,m,y,v,g,x,w,_,b,P,C,T,I,E,M,A,N,S,L,O;for(l=a*(Math.PI/180),h=Math.sin(l),(d=(f=(c=Math.cos(l))*(s-t)*.5+h*(u-e)*.5)*f/((n=Math.abs(n))*n)+(p=c*(u-e)*.5-h*(s-t)*.5)*p/((r=Math.abs(r))*r))>1&&(n*=d=Math.sqrt(d),r*=d),(P=1/(((_=(m=c/n)*t+(y=h/n)*e)-(x=m*s+y*u))*(_-x)+((b=(v=-h/r)*t+(g=c/r)*e)-(w=v*s+g*u))*(b-w))-.25)<0&&(P=0),C=Math.sqrt(P),o===i&&(C=-C),T=.5*(x+_)-C*(b-w),I=.5*(w+b)+C*(_-x),E=Math.atan2(w-I,x-T),(M=Math.atan2(b-I,_-T)-E)<0&&1===o?M+=2*Math.PI:M>0&&0===o&&(M-=2*Math.PI),A=Math.ceil(Math.abs(M/(.5*Math.PI+.001))),N=[],O=0;O<A;O+=1)S=E+O*M/A,L=E+(O+1)*M/A,N[O]=[T,I,S,L,n,r,h,c];return N},m=function(t,e,n,r,i,o,a,s){var u=s*i,l=-a*o,h=a*i,c=s*o,f=.5*(r-n),p=8/3*Math.sin(.5*f)*Math.sin(.5*f)/Math.sin(f),d=t+Math.cos(n)-p*Math.sin(n),m=e+Math.sin(n)+p*Math.cos(n),y=t+Math.cos(r),v=e+Math.sin(r),g=y+p*Math.sin(r),x=v-p*Math.cos(r);return[u*d+l*m,h*d+c*m,u*g+l*x,h*g+c*x,u*y+l*v,h*y+c*v]},y={svg:function(){return y.g.apply(this,arguments)},g:function(t,e){for(var n,r,i,a,s=[],u=f(t,e),l=0;l<t.childNodes.length;l+=1){if(!(r=(n=t.childNodes[l]).nodeName))return;i=r.replace(/svg\:/gi,"").toLowerCase(),void 0!==y[i]&&(a=y[i].call(this,n,u),s.push(a))}return new o(s)},_polyline:function(t){var e=t.getAttribute("points"),n=new a;return e.replace(/([\d\.?]+),([\d\.?]+)/g,(function(t,e,r){var i=parseFloat(e),o=parseFloat(r);0===n.commands.length?n.moveTo(i,o):n.lineTo(i,o)})),n},polygon:function(t,e){var n=f(t,e),r=y._polyline(t);return r.close(),p(r,n)},polyline:function(t,e){var n=f(t,e),r=y._polyline(t);return p(r,n)},rect:function(t,e){var n=f(t,e),r=parseFloat(t.getAttribute("x")),i=parseFloat(t.getAttribute("y"));r||(r=0),i||(i=0);var o=parseFloat(t.getAttribute("width")),s=parseFloat(t.getAttribute("height"));o||(o=0),s||(s=0),o<0&&(console.error('Error: invalid negative value for <rect> attribute width="'+o+'"'),o=0),s<0&&(console.error('Error: invalid negative value for <rect> attribute height="'+s+'"'),s=0);var u=parseFloat(t.getAttribute("rx")),l=parseFloat(t.getAttribute("ry"));u||(u=0),l||(l=0),u<0&&(console.error('Error: invalid negative value for <rect> attribute rx="'+u+'"'),u=0),l<0&&(console.error('Error: invalid negative value for <rect> attribute ry="'+l+'"'),l=0),u&&l||(u=l=Math.max(u,l)),u>o/2&&(u=o/2),l>s/2&&(l=s/2);var h=new a;return u&&l?h.addRoundedRect(r,i,o,s,u,l):h.addRect(r,i,o,s),p(h,n)},ellipse:function(t,e){var n=f(t,e),r=parseFloat(t.getAttribute("cx")),i=parseFloat(t.getAttribute("cy"));r||(r=0),i||(i=0);var o=parseFloat(t.getAttribute("rx")),s=parseFloat(t.getAttribute("ry"));o||(o=0),s||(s=0),o<0&&(console.error('Error: invalid negative value for <ellipse> attribute rx="'+o+'"'),o=0),s<0&&(console.error('Error: invalid negative value for <ellipse> attribute ry="'+s+'"'),s=0);var u=new a;return u.addEllipse(r-o,i-s,2*o,2*s),p(u,n)},circle:function(t,e){var n=f(t,e),r=parseFloat(t.getAttribute("cx")),i=parseFloat(t.getAttribute("cy"));r||(r=0),i||(i=0);var o=parseFloat(t.getAttribute("r"));o||(o=0),o<0&&(console.error('Error: invalid negative value for <circle> attribute r="'+o+'"'),o=0);var s=new a;return s.addEllipse(r-o,i-o,2*o,2*o),p(s,n)},line:function(t,e){var n=f(t,e),r=parseFloat(t.getAttribute("x1")),i=parseFloat(t.getAttribute("y1")),o=parseFloat(t.getAttribute("x2")),s=parseFloat(t.getAttribute("y2"));r||(r=0),i||(i=0),o||(o=0),s||(s=0);var u=new a;return u.addLine(r,i,o,s),p(u,n)},path:function(t,e){var n,r,i,o,u,c,y,v,g,x,w,_,b,P,C,T,I,E,M,A,N,S,L,O=f(t,e);n=(n=(n=(n=(n=(n=(n=(n=(n=t.getAttribute("d")).replace(/,/gm," ")).replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2")).replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2")).replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2")).replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2")).replace(/([0-9])([+\-])/gm,"$1 $2")).replace(/(\.[0-9]*)(\.)/gm,"$1 $2")).replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),n=h(n),n=l(n),r=function(t){this.tokens=t.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new s(0,0),this.control=new s(0,0),this.current=new s(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return!!this.isEnd()||null!==this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i+=1,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var t=new s(this.getScalar(),this.getScalar());return this.makeAbsolute(t)},this.getAsControlPoint=function(){var t=this.getPoint();return this.control=t,t},this.getAsCurrentPoint=function(){var t=this.getPoint();return this.current=t,t},this.getReflectedControlPoint=function(){return"c"!==this.previousCommand.toLowerCase()&&"s"!==this.previousCommand.toLowerCase()&&"q"!==this.previousCommand.toLowerCase()&&"t"!==this.previousCommand.toLowerCase()?this.current:new s(2*this.current.x-this.control.x,2*this.current.y-this.control.y)},this.makeAbsolute=function(t){return this.isRelativeCommand()?new s(t.x+this.current.x,t.y+this.current.y):t}};var D=new a;for((i=new r(n)).reset();!i.isEnd();)switch(i.nextCommand(),i.command){case"M":case"m":for(o=i.getAsCurrentPoint(),D.moveTo(o.x,o.y),i.start=i.current;!i.isCommandOrEnd();)o=i.getAsCurrentPoint(),D.lineTo(o.x,o.y);break;case"L":case"l":for(;!i.isCommandOrEnd();)o=i.getAsCurrentPoint(),D.lineTo(o.x,o.y);break;case"H":case"h":for(;!i.isCommandOrEnd();)u=new s((i.isRelativeCommand()?i.current.x:0)+i.getScalar(),i.current.y),i.current=u,D.lineTo(i.current.x,i.current.y);break;case"V":case"v":for(;!i.isCommandOrEnd();)u=new s(i.current.x,(i.isRelativeCommand()?i.current.y:0)+i.getScalar()),i.current=u,D.lineTo(i.current.x,i.current.y);break;case"C":case"c":for(;!i.isCommandOrEnd();)c=i.current,y=i.getPoint(),v=i.getAsControlPoint(),g=i.getAsCurrentPoint(),D.curveTo(y.x,y.y,v.x,v.y,g.x,g.y);break;case"S":case"s":for(;!i.isCommandOrEnd();)c=i.current,y=i.getReflectedControlPoint(),v=i.getAsControlPoint(),g=i.getAsCurrentPoint(),D.curveTo(y.x,y.y,v.x,v.y,g.x,g.y);break;case"Q":case"q":for(;!i.isCommandOrEnd();)c=i.current,v=i.getAsControlPoint(),g=i.getAsCurrentPoint(),x=c.x+2/3*(v.x-c.x),w=c.y+2/3*(v.y-c.y),_=x+1/3*(g.x-c.x),b=w+1/3*(g.y-c.y),D.curveTo(x,w,_,b,g.x,g.y);break;case"T":case"t":for(;!i.isCommandOrEnd();)c=i.current,v=i.getReflectedControlPoint(),i.control=v,g=i.getAsCurrentPoint(),x=c.x+2/3*(v.x-c.x),w=c.y+2/3*(v.y-c.y),_=x+1/3*(g.x-c.x),b=w+1/3*(g.y-c.y),D.curveTo(x,w,_,b,g.x,g.y);break;case"A":case"a":for(;!i.isCommandOrEnd();)for(c=i.current,P=i.getScalar(),C=i.getScalar(),T=i.getScalar(),I=i.getScalar(),E=i.getScalar(),M=(g=i.getAsCurrentPoint()).x,A=g.y,N=d(M,A,P,C,I,E,T,c.x,c.y),S=0;S<N.length;S+=1)L=m.apply(this,N[S]),D.curveTo.apply(D,L);break;case"Z":case"z":D.close(),i.current=i.start}return p(D,O)}};e.interpret=function(t){var e=t.tagName.toLowerCase();return void 0===y[e]?null:y[e].call(this,t)},e.parseString=function(t){var n=new r.DOMParser({errorHandler:function(e,n){throw new Error('Could not parse string "'+String(t)+'": '+n)}}).parseFromString(t);return n?e.interpret(n.documentElement):null}},function(t,e,n){function r(t){this.options=t||{locator:{}}}function i(){this.cdata=!1}function o(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function a(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function s(t,e,n){return"string"==typeof t?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}function u(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}r.prototype.parseFromString=function(t,e){var n=this.options,r=new l,o=n.domBuilder||new i,s=n.errorHandler,u=n.locator,h=n.xmlns||{},c={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return u&&o.setDocumentLocator(u),r.errorHandler=function(t,e,n){if(!t){if(e instanceof i)return e;t=e}var r={},o=t instanceof Function;function s(e){var i=t[e];!i&&o&&(i=2==t.length?function(n){t(e,n)}:t),r[e]=i&&function(t){i("[xmldom "+e+"]\t"+t+a(n))}||function(){}}return n=n||{},s("warning"),s("error"),s("fatalError"),r}(s,o,u),r.domBuilder=n.domBuilder||o,/\/x?html?$/.test(e)&&(c.nbsp=" ",c.copy="©",h[""]="http://www.w3.org/1999/xhtml"),h.xml=h.xml||"http://www.w3.org/XML/1998/namespace",t?r.parse(t,h,c):r.errorHandler.error("invalid doc source"),o.doc},i.prototype={startDocument:function(){this.doc=(new h).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,r){var i=this.doc,a=i.createElementNS(t,n||e),s=r.length;u(this,a),this.currentElement=a,this.locator&&o(this.locator,a);for(var l=0;l<s;l++){t=r.getURI(l);var h=r.getValue(l),c=(n=r.getQName(l),i.createAttributeNS(t,n));this.locator&&o(r.getLocator(l),c),c.value=c.nodeValue=h,a.setAttributeNode(c)}},endElement:function(t,e,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&o(this.locator,n),u(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=s.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(t);else r=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(t)&&this.doc.appendChild(r),this.locator&&o(this.locator,r)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=s.apply(this,arguments);var r=this.doc.createComment(t);this.locator&&o(this.locator,r),u(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(t,e,n);this.locator&&o(this.locator,i),u(this,i)}},warning:function(t){console.warn("[xmldom warning]\t"+t,a(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,a(this.locator))},fatalError:function(t){throw console.error("[xmldom fatalError]\t"+t,a(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(t){i.prototype[t]=function(){return null}}));var l=n(99).XMLReader,h=e.DOMImplementation=n(42).DOMImplementation;e.XMLSerializer=n(42).XMLSerializer,e.DOMParser=r},function(t,e){var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+n.source+r.source+"*(?::"+n.source+r.source+"*)?$");function o(){}function a(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function s(t,e,n,r,i,o){for(var a,s=++e,u=0;;){var l=t.charAt(s);switch(l){case"=":if(1===u)a=t.slice(e,s),u=3;else{if(2!==u)throw new Error("attribute equal must after attrName");u=3}break;case"'":case'"':if(3===u||1===u){if(1===u&&(o.warning('attribute value must after "="'),a=t.slice(e,s)),e=s+1,!((s=t.indexOf(l,e))>0))throw new Error("attribute value no end '"+l+"' match");h=t.slice(e,s).replace(/&#?\w+;/g,i),n.add(a,h,e-1),u=5}else{if(4!=u)throw new Error('attribute value must after "="');h=t.slice(e,s).replace(/&#?\w+;/g,i),n.add(a,h,e),o.warning('attribute "'+a+'" missed start quot('+l+")!!"),e=s+1,u=5}break;case"/":switch(u){case 0:n.setTagName(t.slice(e,s));case 5:case 6:case 7:u=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),0==u&&n.setTagName(t.slice(e,s)),s;case">":switch(u){case 0:n.setTagName(t.slice(e,s));case 5:case 6:case 7:break;case 4:case 1:"/"===(h=t.slice(e,s)).slice(-1)&&(n.closed=!0,h=h.slice(0,-1));case 2:2===u&&(h=a),4==u?(o.warning('attribute "'+h+'" missed quot(")!!'),n.add(a,h.replace(/&#?\w+;/g,i),e)):("http://www.w3.org/1999/xhtml"===r[""]&&h.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+h+'" missed value!! "'+h+'" instead!!'),n.add(h,h,e));break;case 3:throw new Error("attribute value missed!!")}return s;case"":l=" ";default:if(l<=" ")switch(u){case 0:n.setTagName(t.slice(e,s)),u=6;break;case 1:a=t.slice(e,s),u=2;break;case 4:var h=t.slice(e,s).replace(/&#?\w+;/g,i);o.warning('attribute "'+h+'" missed quot(")!!'),n.add(a,h,e);case 5:u=6}else switch(u){case 2:n.tagName;"http://www.w3.org/1999/xhtml"===r[""]&&a.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),n.add(a,a,e),e=s,u=1;break;case 5:o.warning('attribute space is required"'+a+'"!!');case 6:u=1,e=s;break;case 3:u=4,e=s;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}function u(t,e,n){for(var r=t.tagName,i=null,o=t.length;o--;){var a=t[o],s=a.qName,u=a.value;if((p=s.indexOf(":"))>0)var l=a.prefix=s.slice(0,p),h=s.slice(p+1),f="xmlns"===l&&h;else h=s,l=null,f="xmlns"===s&&"";a.localName=h,!1!==f&&(null==i&&(i={},c(n,n={})),n[f]=i[f]=u,a.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(f,u))}for(o=t.length;o--;){(l=(a=t[o]).prefix)&&("xml"===l&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==l&&(a.uri=n[l||""]))}var p;(p=r.indexOf(":"))>0?(l=t.prefix=r.slice(0,p),h=t.localName=r.slice(p+1)):(l=null,h=t.localName=r);var d=t.uri=n[l||""];if(e.startElement(d,h,r,t),!t.closed)return t.currentNSMap=n,t.localNSMap=i,!0;if(e.endElement(d,h,r),i)for(l in i)e.endPrefixMapping(l)}function l(t,e,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var o=t.indexOf("</"+n+">",e),a=t.substring(e+1,o);if(/[&<]/.test(a))return/^script$/i.test(n)?(i.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,r),i.characters(a,0,a.length),o)}return e+1}function h(t,e,n,r){var i=r[n];return null==i&&((i=t.lastIndexOf("</"+n+">"))<e&&(i=t.lastIndexOf("</"+n)),r[n]=i),i<e}function c(t,e){for(var n in t)e[n]=t[n]}function f(t,e,n,r){switch(t.charAt(e+2)){case"-":return"-"===t.charAt(e+3)?(i=t.indexOf("--\x3e",e+4))>e?(n.comment(t,e+4,i-e-4),i+3):(r.error("Unclosed comment"),-1):-1;default:if("CDATA["==t.substr(e+3,6)){var i=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,i-e-9),n.endCDATA(),i+3}var o=function(t,e){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=e,i.exec(t);for(;n=i.exec(t);)if(r.push(n),n[1])return r}(t,e),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],u=a>3&&/^public$/i.test(o[2][0])&&o[3][0],l=a>4&&o[4][0],h=o[a-1];return n.startDTD(s,u&&u.replace(/^(['"])(.*?)\1$/,"$2"),l&&l.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),h.index+h[0].length}}return-1}function p(t,e,n){var r=t.indexOf("?>",e);if(r){var i=t.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){i[0].length;return n.processingInstruction(i[1],i[2]),r+2}return-1}return-1}function d(t){}function m(t,e){return t.__proto__=e,t}o.prototype={parse:function(t,e,n){var r=this.domBuilder;r.startDocument(),c(e,e={}),function(t,e,n,r,i){function o(t){var e=t.slice(1,-1);return e in n?n[e]:"#"===e.charAt(0)?function(t){if(t>65535){var e=55296+((t-=65536)>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}(parseInt(e.substr(1).replace("x","0x"))):(i.error("entity not found:"+t),t)}function c(e){if(e>b){var n=t.substring(b,e).replace(/&#?\w+;/g,o);x&&m(b),r.characters(n,0,e-b),b=e}}function m(e,n){for(;e>=v&&(n=g.exec(t));)y=n.index,v=y+n[0].length,x.lineNumber++;x.columnNumber=e-y+1}var y=0,v=0,g=/.*(?:\r\n?|\n)|.*$/g,x=r.locator,w=[{currentNSMap:e}],_={},b=0;for(;;){try{var P=t.indexOf("<",b);if(P<0){if(!t.substr(b).match(/^\s*$/)){var C=r.doc,T=C.createTextNode(t.substr(b));C.appendChild(T),r.currentElement=T}return}switch(P>b&&c(P),t.charAt(P+1)){case"/":var I=t.indexOf(">",P+3),E=t.substring(P+2,I),M=w.pop();I<0?(E=t.substring(P+2).replace(/[\s<].*/,""),i.error("end tag name: "+E+" is not complete:"+M.tagName),I=P+1+E.length):E.match(/\s</)&&(E=E.replace(/[\s<].*/,""),i.error("end tag name: "+E+" maybe not complete"),I=P+1+E.length);var A=M.localNSMap,N=M.tagName==E;if(N||M.tagName&&M.tagName.toLowerCase()==E.toLowerCase()){if(r.endElement(M.uri,M.localName,E),A)for(var S in A)r.endPrefixMapping(S);N||i.fatalError("end tag name: "+E+" is not match the current start tagName:"+M.tagName)}else w.push(M);I++;break;case"?":x&&m(P),I=p(t,P,r);break;case"!":x&&m(P),I=f(t,P,r,i);break;default:x&&m(P);var L=new d,O=w[w.length-1].currentNSMap,D=(I=s(t,P,L,O,o,i),L.length);if(!L.closed&&h(t,I,L.tagName,_)&&(L.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),x&&D){for(var k=a(x,{}),X=0;X<D;X++){var Y=L[X];m(Y.offset),Y.locator=a(x,{})}r.locator=k,u(L,r,O)&&w.push(L),r.locator=x}else u(L,r,O)&&w.push(L);"http://www.w3.org/1999/xhtml"!==L.uri||L.closed?I++:I=l(t,I,L.tagName,o,r)}}catch(t){i.error("element parse error: "+t),I=-1}I>b?b=I:c(Math.max(P,b)+1)}}(t,e,n,r,this.errorHandler),r.endDocument()}},d.prototype={setTagName:function(t){if(!i.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},add:function(t,e,n){if(!i.test(t))throw new Error("invalid attribute:"+t);this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},m({},m.prototype)instanceof m||(m=function(t,e){function n(){}for(e in n.prototype=e,n=new n,t)n[e]=t[e];return n}),e.XMLReader=o},function(t,e,n){"use strict";e.defineAlias=function(t,e,n){Object.defineProperty(t.prototype,n,{get:function(){return this[e]},set:function(t){this[e]=t}})},e.defineGetter=function(t,e,n){Object.defineProperty(t.prototype,e,{get:n})}},function(t,e,n){"use strict";var r=n(43),i=function(t){void 0!==t||((t=new Float32Array(16))[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1),this.m=t};i.IDENTITY=new i,i.perspective=function(t,e,n,r){var o=new Float32Array(i.IDENTITY.m),a=1/Math.tan(.5*t);return o[0]=a/e,o[1]=o[2]=o[3]=0,o[5]=a,o[4]=o[6]=o[7]=0,o[8]=o[9]=0,o[10]=-r/(n-r),o[11]=1,o[12]=o[13]=o[15]=0,o[14]=n*r/(n-r),new i(o)},i.lookAt=function(t,e,n){var o,a,s,u,l,h,c;return o=new Float32Array(16),a=e.subtract(t).normalize(),s=r.cross(n,a).normalize(),u=r.cross(a,s).normalize(),l=-r.dot(s,t),h=-r.dot(u,t),c=-r.dot(a,t),o[0]=s.x,o[1]=u.x,o[2]=a.x,o[3]=0,o[4]=s.y,o[5]=u.y,o[6]=a.y,o[7]=0,o[8]=s.z,o[9]=u.z,o[10]=a.z,o[11]=0,o[12]=l,o[13]=h,o[14]=c,o[15]=1,new i(o)},i.prototype.invert=function(){var t,e,n,r,o,a,s,u,l,h,c,f,p,d,m,y,v,g,x,w,_,b,P,C,T,I,E,M,A,N,S,L,O,D,k,X,Y,R,B,F;return t=this.m[0],e=this.m[1],n=this.m[2],r=this.m[3],o=this.m[4],a=this.m[5],s=this.m[6],u=this.m[7],l=this.m[8],h=this.m[9],c=this.m[10],f=this.m[11],p=this.m[12],d=this.m[13],m=this.m[14],E=1/(t*(P=a*(v=c*(y=this.m[15])-f*m)-s*(g=h*y-f*d)+u*(x=h*m-c*d))+e*(C=-(o*v-s*(w=l*y-f*p)+u*(_=l*m-c*p)))+n*(T=o*g-a*w+u*(b=l*d-h*p))+r*(I=-(o*x-a*_+s*b))),M=s*y-u*m,A=a*y-u*d,N=a*m-s*d,S=o*y-u*p,L=o*m-s*p,O=o*d-a*p,D=s*f-u*c,k=a*f-u*h,X=a*c-s*h,Y=o*f-u*l,R=o*c-s*l,B=o*h-a*l,(F=new Float32Array(16))[0]=P*E,F[4]=C*E,F[8]=T*E,F[12]=I*E,F[1]=-(e*v-n*g+r*x)*E,F[5]=(t*v-n*w+r*_)*E,F[9]=-(t*g-e*w+r*b)*E,F[13]=(t*x-e*_+n*b)*E,F[2]=(e*M-n*A+r*N)*E,F[6]=-(t*M-n*S+r*L)*E,F[10]=(t*A-e*S+r*O)*E,F[14]=-(t*N-e*L+n*O)*E,F[3]=-(e*D-n*k+r*X)*E,F[7]=(t*D-n*Y+r*R)*E,F[11]=-(t*k-e*Y+r*B)*E,F[15]=(t*X-e*R+n*B)*E,new i(F)},i.prototype.multiply=function(t){var e=new Float32Array(16);return e[0]=this.m[0]*t.m[0]+this.m[1]*t.m[4]+this.m[2]*t.m[8]+this.m[3]*t.m[12],e[1]=this.m[0]*t.m[1]+this.m[1]*t.m[5]+this.m[2]*t.m[9]+this.m[3]*t.m[13],e[2]=this.m[0]*t.m[2]+this.m[1]*t.m[6]+this.m[2]*t.m[10]+this.m[3]*t.m[14],e[3]=this.m[0]*t.m[3]+this.m[1]*t.m[7]+this.m[2]*t.m[11]+this.m[3]*t.m[15],e[4]=this.m[4]*t.m[0]+this.m[5]*t.m[4]+this.m[6]*t.m[8]+this.m[7]*t.m[12],e[5]=this.m[4]*t.m[1]+this.m[5]*t.m[5]+this.m[6]*t.m[9]+this.m[7]*t.m[13],e[6]=this.m[4]*t.m[2]+this.m[5]*t.m[6]+this.m[6]*t.m[10]+this.m[7]*t.m[14],e[7]=this.m[4]*t.m[3]+this.m[5]*t.m[7]+this.m[6]*t.m[11]+this.m[7]*t.m[15],e[8]=this.m[8]*t.m[0]+this.m[9]*t.m[4]+this.m[10]*t.m[8]+this.m[11]*t.m[12],e[9]=this.m[8]*t.m[1]+this.m[9]*t.m[5]+this.m[10]*t.m[9]+this.m[11]*t.m[13],e[10]=this.m[8]*t.m[2]+this.m[9]*t.m[6]+this.m[10]*t.m[10]+this.m[11]*t.m[14],e[11]=this.m[8]*t.m[3]+this.m[9]*t.m[7]+this.m[10]*t.m[11]+this.m[11]*t.m[15],e[12]=this.m[12]*t.m[0]+this.m[13]*t.m[4]+this.m[14]*t.m[8]+this.m[15]*t.m[12],e[13]=this.m[12]*t.m[1]+this.m[13]*t.m[5]+this.m[14]*t.m[9]+this.m[15]*t.m[13],e[14]=this.m[12]*t.m[2]+this.m[13]*t.m[6]+this.m[14]*t.m[10]+this.m[15]*t.m[14],e[15]=this.m[12]*t.m[3]+this.m[13]*t.m[7]+this.m[14]*t.m[11]+this.m[15]*t.m[15],new i(e)},i.prototype.translate=function(t,e,n){var r=new Float32Array(this.m);return r[12]+=t,r[13]+=e,r[14]+=n,new i(r)},t.exports=i},function(t,e,n){"use strict";var r=n(1),i={isDrawable:function(t){return Array.isArray(t)&&(t=t[0]),!!t&&("function"==typeof t.draw||("number"==typeof t.x&&"number"==typeof t.y||"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b))},drawPoints:function(t,e){var n;t.fillStyle="blue",t.beginPath();for(var r=0;r<e.length;r+=1)n=e[r],t.moveTo(n.x,n.y),t.arc(n.x,n.y,2,0,2*Math.PI,!1);t.fill()},drawColoredPoints:function(t,e){for(var n,i=0,o=e.length;i<o;i+=1)n=e[i],t.fillStyle=r.toCSS(n),t.fillRect(n.x-2,n.y-2,4,4)},drawRectangles:function(t,e){var n;t.save();for(var r=0;r<e.length;r+=1)n=e[r],t.strokeStyle="black",t.strokeWidth=1,t.rect(n.x,n.y,n.width,n.height),t.stroke();t.restore()},drawColors:function(t,e){var n;t.save();for(var i=0;i<e.length;i+=1)n=e[i],t.fillStyle=r.toCSS(n),t.fillRect(0,0,30,30),t.translate(30,0);t.restore()},draw:function(t,e){var n=e,r=!1;if(Array.isArray(e)&&(n=e[0],r=!0),n)if("function"==typeof n.draw)if(r)for(var o=0,a=e.length;o<a;o+=1)i.draw(t,e[o]);else e.draw(t);else"number"==typeof n.x&&"number"==typeof n.y?"number"==typeof n.r&&"number"==typeof n.g&&"number"==typeof n.b?i.drawColoredPoints(t,r?e:[e]):"number"==typeof n.width&&"number"==typeof n.height?i.drawRectangles(t,r?e:[e]):i.drawPoints(t,r?e:[e]):"number"==typeof n.r&&"number"==typeof n.g&&"number"==typeof n.b&&i.drawColors(t,r?e:[e])},toSVG:function(t,e){var n=!0===(e=e||{}).header,r=void 0!==e.x?e.x:0,o=void 0!==e.y?e.y:0,a=void 0!==e.width?e.width:500,s=void 0!==e.height?e.height:500,u="";if(t)if("function"==typeof t.toSVG)u=t.toSVG();else if(Array.isArray(t)){u="<g>\n";for(var l=0,h=t.length;l<h;l+=1)u+=i.toSVG(t[l])+"\n";u+="</g>\n"}return n&&(u='<?xml version="1.0" encoding="utf-8"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="'+r+'" y="'+o+'" width="'+a+'px" height="'+s+'px" viewBox="'+r+" "+o+" "+a+" "+s+'">\n'+u+"</svg>\n"),u}};t.exports=i},function(t,e,n){"use strict";var r=n(32),i=n(104),o=n(22),a=n(23),s=n(4),u=n(41),l=n(1),h=n(24),c=n(6),f=n(0),p=n(5),d=n(8),m=n(45);function y(t){var e={type:t.type};return e.type!==o.CLOSE&&(e.x=t.x,e.y=t.y),e.type===o.QUADTO?(e.x1=t.x1,e.y1=t.y1):e.type===o.CURVETO&&(e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2),e}var v={HORIZONTAL:"horizontal",VERTICAL:"vertical",EAST:"e",WEST:"w",NORTH:"n",SOUTH:"s",bounds:function(t){var e,n,r;if(t){if("function"==typeof t.bounds)return t.bounds();if(void 0!==t.x&&void 0!==t.y)return void 0!==t.width&&void 0!==t.height?new p(t.x,t.y,t.width,t.height):new p(t.x,t.y,0,0);if(void 0!==t.r&&void 0!==t.g&&void 0!==t.b)return new v.Rect(0,0,30,30);if(Array.isArray(t)){if(e=null,(r=t.length)>0&&void 0!==t[0].r&&void 0!==t[0].g&&void 0!==t[0].b)return new p(0,0,30*t.length,30);for(n=0;n<r;n+=1)e=e?e.unite(v.bounds(t[n])):v.bounds(t[n]);return e||new p}return new p}return new p},makeCenteredRect:function(t,e,n,r){return new p(t-n/2,e-r/2,n,r)},makePoint:function(t,e){return new f(t,e)},makeRect:function(t,e,n,r){return new p(t,e,n,r)},merge:function(){for(var t=r(arguments),e=[],n=0;n<t.length;n+=1)t[n]&&0!==t[n].length&&e.push(t[n]);return new h(e)},combinePaths:function(t){return c.combine(t)}};v.shapePoints=v.toPoints=function(t){if(!t)return[];var e;if(t.commands){var n,r=[];for(e=0;e<t.commands.length;e+=1)void 0!==(n=t.commands[e]).x&&r.push(new f(n.x,n.y));return r}var i=[];for(e=0;e<t.shapes.length;e+=1)i=i.concat(v.shapePoints(t.shapes[e]));return i},v.colorize=function(t,e,n,r){return t?t.colorize(e,n,r):null},v.translate=function(t,e){return t?t.translate?t.translate(e):m.translate.apply(t,[e]):null},v.scale=function(t,e,n){return t?t.scale?t.scale(e,n):m.scale.apply(t,[e,n]):null},v.rotate=function(t,e,n){return t?t.rotate?t.rotate(e,n):m.rotate.apply(t,[e,n]):null},v.skew=function(t,e,n){return t?t.skew?t.skew(e,n):m.skew.apply(t,[e,n]):null},v.copy=function(t,e,n,r,i,o){var a,s,u,l,h=[],c=0,f=0,p=0,m=1,y=1;for(a=0;a<e;a+=1){for(s=new d,u=0;u<n.length;u+=1)"t"===(l=n[u])?s=s.translate(c,f):"r"===l?s=s.rotate(p):"s"===l&&(s=s.scale(m,y));Array.isArray(t)&&t.length>0&&void 0!==t[0].x&&void 0!==t[0].y?h=h.concat(s.transformShape(t)):h.push(s.transformShape(t)),c+=r.x,f+=r.y,p+=i,m+=o.x,y+=o.y}return h},v.fit=function(t,e,n,r,i){if(!t)return null;i=void 0!==i&&i;var o,a,s,u=v.bounds(t),l=u.x,h=u.y,c=u.width,f=u.height;return c=c>1e-12?c:0,f=f>1e-12?f:0,o=(o=new d).translate(e.x,e.y),i?(a=c>0?n/c:1,s=f>0?r/f:1):(a=c>0?n/c:Number.MAX_VALUE,s=f>0?r/f:Number.MAX_VALUE,a=s=Math.min(a,s)),(o=(o=o.scale(a,s)).translate(-c/2-l,-f/2-h)).transformShape(t)},v.fitTo=function(t,e,n){if(!t)return null;if(!e)return t;var r=v.bounds(e),i=r.x,o=r.y,a=r.width,s=r.height;return v.fit(t,{x:i+a/2,y:o+s/2},a,s,n)},v.mirror=function(t,e,n,r){if(!t)return null;var i=new d,o=(i=(i=(i=(i=i.translate(n.x,n.y)).rotate(2*e-180)).scale(-1,1)).translate(-n.x,-n.y)).transformShape(t);return r?Array.isArray(t)&&t.length>0?t.concat(o):new h([t,o]):o},v.pathLength=function(t,e){if(!t)return 0;var n=20;return e&&e.precision&&(n=e.precision),t.length(n)},v.resampleByLength=function(t,e){return t?t.resampleByLength(e):null},v.resampleByAmount=function(t,e,n){return t?t.resampleByAmount(e,n):null},v._wigglePoints=function(t,e,n){var r,i,a;if(t.commands){var s=new c([],t.fill,t.stroke,t.strokeWidth);for(r=0;r<t.commands.length;r+=1){i=(n(0,1)-.5)*e.x*2,a=(n(0,1)-.5)*e.y*2;var u=t.commands[r];u.type===o.MOVETO?s.moveTo(u.x+i,u.y+a):u.type===o.LINETO?s.lineTo(u.x+i,u.y+a):u.type===o.CURVETO?s.curveTo(u.x1,u.y1,u.x2,u.y2,u.x+i,u.y+a):u.type===o.CLOSE&&s.close()}return s}if(t.shapes){var l=[];for(l.length=t.shapes.length,r=0;r<t.shapes.length;r+=1)l[r]=v._wigglePoints(t.shapes[r],e,n);return new h(l)}if(Array.isArray(t)&&t.length>0&&void 0!==t[0].x&&void 0!==t[0].y){var p=[];for(p.length=t.length,r=0;r<t.length;r+=1)i=(n(0,1)-.5)*e.x*2,a=(n(0,1)-.5)*e.y*2,p[r]=new f(t[r].x+i,t[r].y+a);return p}var d=[];for(d.length=t.length,r=0;r<t.length;r+=1)d[r]=v._wigglePoints(t[r],e,n);return d},v.wigglePoints=function(t,e,n){if(!t)return null;n=void 0!==n?n:Math.random();var r=u.generator(n);return void 0===e?e={x:10,y:10}:"number"==typeof e&&(e={x:e,y:e}),v._wigglePoints(t,e,r)},v._wiggleContours=function(t,e,n){var r;if(t.commands){var i,o,a,s=t.contours(),u=[];for(r=0;r<s.length;r+=1)i=(n(0,1)-.5)*e.x*2,o=(n(0,1)-.5)*e.y*2,a=(new d).translate(i,o),u=u.concat(a.transformShape(new c(s[r])).commands);return new c(u,t.fill,t.stroke,t.strokeWidth)}if(t.shapes){var l=[];for(l.length=t.shapes.length,r=0;r<t.shapes.length;r+=1)l[r]=v._wiggleContours(t.shapes[r],e,n);return new h(l)}var f=[];for(f.length=t.length,r=0;r<t.length;r+=1)f[r]=v._wiggleContours(t[r],e,n);return f},v.wiggleContours=function(t,e,n){if(!t)return null;n=void 0!==n?n:Math.random();var r=u.generator(n);return void 0===e?e={x:10,y:10}:"number"==typeof e&&(e={x:e,y:e}),v._wiggleContours(t,e,r)},v._wigglePaths=function(t,e,n){if(t.commands)return t;if(t.shapes)return new h(v._wigglePaths(t.shapes,e,n));if(Array.isArray(t)){for(var r,i,o,a,s=[],u=0;u<t.length;u+=1)(r=t[u]).commands?(i=(n(0,1)-.5)*e.x*2,o=(n(0,1)-.5)*e.y*2,a=(new d).translate(i,o),s.push(a.transformShape(r))):r.shapes&&s.push(v._wigglePaths(r,e,n));return s}},v.wigglePaths=function(t,e,n){if(!t)return null;n=void 0!==n?n:Math.random();var r=u.generator(n);return void 0===e?e={x:10,y:10}:"number"==typeof e&&(e={x:e,y:e}),v._wigglePaths(t,e,r)},v.scatterPoints=function(t,e,n){if(!t)return[];n=void 0!==n?n:Math.random();var r,i,o,s,l,h,p,d,m=u.generator(n),y=t.bounds(),v=y.x,g=y.y,x=y.width,w=y.height,_=t.contours(),b=[],P=[];for(r=0;r<_.length;r++)s=(o=new c(_[r])).commands.length,b.push(o.points(5*s,{closed:!0}));for(r=0;r<e;r+=1)for(l=100;l>0;){for(h=0,p=v+m(0,1)*x,d=g+m(0,1)*w,i=0;i<b.length;i++)a.pointInPolygon(b[i],p,d)&&(h+=1);if(h%2){P.push(new f(p,d));break}l-=1}return P},v.connectPoints=function(t,e){if(!t)return null;for(var n,r=new c,i=0;i<t.length;i+=1)n=t[i],0===i?r.moveTo(n.x,n.y):r.lineTo(n.x,n.y);return e&&r.close(),r.fill=null,r.stroke=l.BLACK,r},v.align=function(t,e,n,r){if(!t)return null;var i,o,a=e.x,s=e.y,u=v.bounds(t);return i="left"===n?a-u.x:"right"===n?a-u.x-u.width:"center"===n?a-u.x-u.width/2:0,o="top"===r?s-u.y:"bottom"===r?s-u.y-u.height:"middle"===r?s-u.y-u.height/2:0,(new d).translate(i,o).transformShape(t)},v.snap=function(t,e,n,r){if(!t)return null;var i,a,u;if(n=void 0!==n?n:1,r=r||f.ZERO,t.commands){var l,p,d,m,y,g=new c([],t.fill,t.stroke,t.strokeWidth);for(i=0;i<t.commands.length;i+=1)if((l=t.commands[i]).type===o.MOVETO||l.type===o.LINETO||l.type===o.CURVETO)a=s.snap(l.x+r.x,e,n)-r.x,u=s.snap(l.y+r.y,e,n)-r.y,l.type===o.MOVETO?g.moveTo(a,u):l.type===o.LINETO?g.lineTo(a,u):l.type===o.CURVETO&&(p=s.snap(l.x1+r.x,e,n)-r.x,d=s.snap(l.y1+r.y,e,n)-r.y,m=s.snap(l.x2+r.x,e,n)-r.x,y=s.snap(l.y2+r.y,e,n)-r.y,g.curveTo(p,d,m,y,a,u));else{if(l.type!==o.CLOSE)throw new Error("Invalid path command "+l);g.close()}return g}if(t.shapes){var x=[];for(x.length=t.shapes.length,i=0;i<t.shapes.length;i+=1)x[i]=v.snap(t.shapes[i],e,n,r);return new h(x)}if(Array.isArray(t)&&t.length>0&&void 0!==t[0].x&&void 0!==t[0].y){var w,_=[];for(_.length=t.length,i=0;i<t.length;i+=1)w=t[i],a=s.snap(w.x+r.x,e,n)-r.x,u=s.snap(w.y+r.y,e,n)-r.y,_[i]=new f(a,u);return _}var b=[];for(b.length=t.length,i=0;i<t.length;i+=1)b[i]=v.snap(t[i],e,n,r);return b},v.deletePoints=function(t,e,n){if(!t)return null;if(!e)return t;var r,i,a,s=[],u=[];if(t.commands){var l=!0;for(r=0;r<t.commands.length;r+=1)(void 0===(i=y(t.commands[r])).x||n&&e.contains(i.x,i.y)||!n&&!e.contains(i.x,i.y))&&(l&&i.type!==o.MOVETO&&(i.type=o.MOVETO),s.push(i),i.type===o.MOVETO?l=!1:i.type===o.CLOSE&&(l=!0));return new c(s,t.fill,t.stroke,t.strokeWidth)}if(t.shapes){var f=[];for(f.length=t.shapes.length,r=0;r<t.shapes.length;r+=1)f[r]=v.deletePoints(t.shapes[r],e,n);return new h(f)}if(Array.isArray(t)&&t.length>0&&void 0!==t[0].x&&void 0!==t[0].y){for(r=0;r<t.length;r+=1)a=t[r],(n&&e.contains(a.x,a.y)||!n&&!e.contains(a.x,a.y))&&u.push(y(a));return u}var p=[];for(p.length=t.length,r=0;r<t.length;r+=1)p[r]=v.deletePoints(t[r],e,n);return p},v.deletePaths=function(t,e,n){if(!t||t.commands)return null;if(t.shapes)return new h(v.deletePaths(t.shapes,e,n));if(Array.isArray(t)){if(!e)return t;for(var r,i,o,a,s,u=[],l=t,c=0;c<l.length;c+=1)if((i=l[c]).commands){for(o=!1,r=0;r<i.commands.length;r+=1)if(void 0!==(a=i.commands[r]).x&&e.contains(a.x,a.y)){o=!0;break}n&&!o||o&&!n||u.push(i)}else i.shapes&&0!==(s=v.deletePaths(i,e,n)).length&&u.push(s);return u}},v.delete=function(t,e,n,r){if(null===t||null===e)return null;if("points"===n)return v.deletePoints(t,e,r);if("paths"===n)return v.deletePaths(t,e,r);throw new Error("Invalid scope.")},v.pointOnPath=function(t,e){if(!t)return f.ZERO;t.shapes&&(t=new c(v.combinePaths(t))),(e%=1)<0&&(e=1+e);var n=t.point(e);return new f(n.x,n.y)},v._x=function(t){return void 0!==t.x?t.x:t.bounds().x},v._y=function(t){return void 0!==t.y?t.y:t.bounds().y},v._angleToPoint=function(t){return function(e){if(void 0!==e.x&&void 0!==e.y)return a.angle(e.x,e.y,t.x,t.y);var n=e.bounds().centerPoint();return a.angle(n.x,n.y,t.x,t.y)}},v._distanceToPoint=function(t){return function(e){if(void 0!==e.x&&void 0!==e.y)return a.distance(e.x,e.y,t.x,t.y);var n=e.bounds().centerPoint();return a.distance(n.x,n.y,t.x,t.y)}},v.shapeSort=function(t,e,n){if(!t)return null;n=n||f.ZERO;var r={x:v._x,y:v._y,angle:v._angleToPoint(n),distance:v._distanceToPoint(n)};if(void 0===(e=r[e]))return t;var i=t.slice(0);return i.sort((function(t,n){var r=e(t),i=e(n);return r<i?-1:r>i?1:0})),i},v.group=function(){return new h(r(arguments))},v.ungroup=function(t){if(t){if(t.shapes){var e,n,r=[];for(e=0;e<t.shapes.length;e+=1)(n=t.shapes[e]).commands?r.push(n):n.shapes&&(r=r.concat(v.ungroup(n)));return r}return t.commands?[t]:[]}return[]},v.centerPoint=function(t){if(!t)return f.ZERO;var e=v.bounds(t);return new f(e.x+e.width/2,e.y+e.height/2)},v.link=function(t,e,n){if(!t||!e)return null;var r=new c,i=t.bounds(),o=e.bounds();if(n===v.HORIZONTAL){var a=(o.x-(i.x+i.width))/2;r.moveTo(i.x+i.width,i.y),r.curveTo(i.x+i.width+a,i.y,o.x-a,o.y,o.x,o.y),r.lineTo(o.x,o.y+o.height),r.curveTo(o.x-a,o.y+o.height,i.x+i.width+a,i.y+i.height,i.x+i.width,i.y+i.height),r.close()}else{var s=(o.y-(i.y+i.height))/2;r.moveTo(i.x,i.y+i.height),r.curveTo(i.x,i.y+i.height+s,o.x,o.y-s,o.x,o.y),r.lineTo(o.x+o.width,o.y),r.curveTo(o.x+o.width,o.y-s,i.x+i.width,i.y+i.height+s,i.x+i.width,i.y+i.height),r.close()}return r};var g={union:i.ClipType.ctUnion,difference:i.ClipType.ctDifference,intersection:i.ClipType.ctIntersection,xor:i.ClipType.ctXor};v._compoundToPoints=function(t){var e,n,r,i,a,s=[];for(e=0;e<t.length;e+=1){for(n=[],r=t[e],i=0;i<r.length;i+=1)(a=r[i]).type!==o.CLOSE&&n.push({X:a.x,Y:a.y});s.push(n)}return s},v.compound=function(t,e,n){t.commands||(t=c.combine(t)),e.commands||(e=c.combine(e));var r=t.resampleByLength(1).contours(),o=e.resampleByLength(1).contours(),a=v._compoundToPoints(r),s=v._compoundToPoints(o);i.JS.ScaleUpPaths(a,100),i.JS.ScaleUpPaths(s,100);var u=new i.Clipper;u.AddPaths(a,i.PolyType.ptSubject,t.isClosed()),u.AddPaths(s,i.PolyType.ptClip,e.isClosed());var l=new i.Paths;u.Execute(g[n],l,i.PolyFillType.pftNonZero,i.PolyFillType.pftNonZero),l=i.JS.Clean(l,10),i.JS.ScaleDownPaths(l,100);var h,f,p,d=new c;for(h=0;h<l.length;h+=1){for(p=l[h],f=0;f<p.length;f+=1)0===f?d.moveTo(p[f].X,p[f].Y):d.lineTo(p[f].X,p[f].Y);p[0].X===p[p.length-1].X&&p[0].Y===p[p.length-1].Y||d.closePath()}return d},v.roundedSegments=function(t,e){if(!e||0===e.length)return t;const n=v.toPoints(t),r=[];for(let t=0;t<n.length;t+=1){let i,o=n[t];i=0===t?n[n.length-1]:n[t-1];let u=n[(t+1)%n.length],l=s.degrees(Math.atan2(u.y-i.y,u.x-i.x)),h=a.coordinates(o.x,o.y,l,-e[t%e.length]),c=a.coordinates(o.x,o.y,l,e[t%e.length]);r.push(h),r.push(o),r.push(c)}let i=function(t,e){const n=[];let r={},i=0;t.forEach(t=>{0===i?r._in=t:1===i?r._pt=t:2===i&&(r._out=t),i+=1,3===i&&(n.push(r),i=0,r={})});const o=[];let a=n.length;for(e&&(a+=1),i=0;i<a;i+=1){let t=n[i%n.length];0===i?o.push({cmd:"moveto",pt:t._pt}):(r={cmd:"curveto",pt:t._pt,ctrl1:n[i-1]._out,ctrl2:t._in},o.push(r))}const s=new c;return o.forEach(t=>{"moveto"===t.cmd?s.moveTo(t.pt.x,t.pt.y):"curveto"===t.cmd&&s.curveTo(t.ctrl1.x,t.ctrl1.y,t.ctrl2.x,t.ctrl2.y,t.pt.x,t.pt.y)}),s}(r,t.isClosed());return i.fill=t.fill,i.stroke=t.stroke,i.strokeWidth=t.strokeWidth,i},t.exports=v},function(t,e,n){!function(){"use strict";var e,n={use_lines:!0,use_xyz:!1},r=!1;if(t.exports?(t.exports=n,r=!0):"undefined"!=typeof document?window.ClipperLib=n:self.ClipperLib=n,r){i="chrome";e="Netscape"}else{var i=navigator.userAgent.toString().toLowerCase();e=navigator.appName}var o,a={};-1!=i.indexOf("chrome")&&-1==i.indexOf("chromium")?a.chrome=1:a.chrome=0,-1!=i.indexOf("chromium")?a.chromium=1:a.chromium=0,-1!=i.indexOf("safari")&&-1==i.indexOf("chrome")&&-1==i.indexOf("chromium")?a.safari=1:a.safari=0,-1!=i.indexOf("firefox")?a.firefox=1:a.firefox=0,-1!=i.indexOf("firefox/17")?a.firefox17=1:a.firefox17=0,-1!=i.indexOf("firefox/15")?a.firefox15=1:a.firefox15=0,-1!=i.indexOf("firefox/3")?a.firefox3=1:a.firefox3=0,-1!=i.indexOf("opera")?a.opera=1:a.opera=0,-1!=i.indexOf("msie 10")?a.msie10=1:a.msie10=0,-1!=i.indexOf("msie 9")?a.msie9=1:a.msie9=0,-1!=i.indexOf("msie 8")?a.msie8=1:a.msie8=0,-1!=i.indexOf("msie 7")?a.msie7=1:a.msie7=0,-1!=i.indexOf("msie ")?a.msie=1:a.msie=0,n.biginteger_used=null;function s(t,e,r){n.biginteger_used=1,null!=t&&("number"==typeof t&&void 0===e?this.fromInt(t):"number"==typeof t?this.fromNumber(t,e,r):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function u(){return new s(null,void 0,void 0)}"Microsoft Internet Explorer"==e?(s.prototype.am=function(t,e,n,r,i,o){for(var a=32767&e,s=e>>15;--o>=0;){var u=32767&this[t],l=this[t++]>>15,h=s*u+l*a;i=((u=a*u+((32767&h)<<15)+n[r]+(1073741823&i))>>>30)+(h>>>15)+s*l+(i>>>30),n[r++]=1073741823&u}return i},o=30):"Netscape"!=e?(s.prototype.am=function(t,e,n,r,i,o){for(;--o>=0;){var a=e*this[t++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i},o=26):(s.prototype.am=function(t,e,n,r,i,o){for(var a=16383&e,s=e>>14;--o>=0;){var u=16383&this[t],l=this[t++]>>14,h=s*u+l*a;i=((u=a*u+((16383&h)<<14)+n[r]+i)>>28)+(h>>14)+s*l,n[r++]=268435455&u}return i},o=28),s.prototype.DB=o,s.prototype.DM=(1<<o)-1,s.prototype.DV=1<<o;s.prototype.FV=Math.pow(2,52),s.prototype.F1=52-o,s.prototype.F2=2*o-52;var l,h,c=new Array;for(l="0".charCodeAt(0),h=0;h<=9;++h)c[l++]=h;for(l="a".charCodeAt(0),h=10;h<36;++h)c[l++]=h;for(l="A".charCodeAt(0),h=10;h<36;++h)c[l++]=h;function f(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}function p(t,e){var n=c[t.charCodeAt(e)];return null==n?-1:n}function d(t){var e=u();return e.fromInt(t),e}function m(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function y(t){this.m=t}function v(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function g(t,e){return t&e}function x(t,e){return t|e}function w(t,e){return t^e}function _(t,e){return t&~e}function b(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function P(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function C(){}function T(t){return t}function I(t){this.r2=u(),this.q3=u(),s.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}y.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},y.prototype.revert=function(t){return t},y.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},y.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},y.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},v.prototype.convert=function(t){var e=u();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(s.ZERO)>0&&this.m.subTo(e,e),e},v.prototype.revert=function(t){var e=u();return t.copyTo(e),this.reduce(e),e},v.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],r=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[n=e+this.m.t]+=this.m.am(0,r,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},v.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},v.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},s.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},s.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},s.prototype.fromString=function(t,e){var n;if(16==e)n=4;else if(8==e)n=3;else if(256==e)n=8;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)return void this.fromRadix(t,e);n=2}this.t=0,this.s=0;for(var r=t.length,i=!1,o=0;--r>=0;){var a=8==n?255&t[r]:p(t,r);a<0?"-"==t.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=a:o+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,(o+=n)>=this.DB&&(o-=this.DB))}8==n&&0!=(128&t[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&s.ZERO.subTo(this,this)},s.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},s.prototype.dlShiftTo=function(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s},s.prototype.drShiftTo=function(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s},s.prototype.lShiftTo=function(t,e){var n,r=t%this.DB,i=this.DB-r,o=(1<<i)-1,a=Math.floor(t/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)e[n+a+1]=this[n]>>i|s,s=(this[n]&o)<<r;for(n=a-1;n>=0;--n)e[n]=0;e[a]=s,e.t=this.t+a+1,e.s=this.s,e.clamp()},s.prototype.rShiftTo=function(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{var r=t%this.DB,i=this.DB-r,o=(1<<r)-1;e[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)e[a-n-1]|=(this[a]&o)<<i,e[a-n]=this[a]>>r;r>0&&(e[this.t-n-1]|=(this.s&o)<<i),e.t=this.t-n,e.clamp()}},s.prototype.subTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]-t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r-=t[n],e[n++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=r<0?-1:0,r<-1?e[n++]=this.DV+r:r>0&&(e[n++]=r),e.t=n,e.clamp()},s.prototype.multiplyTo=function(t,e){var n=this.abs(),r=t.abs(),i=n.t;for(e.t=i+r.t;--i>=0;)e[i]=0;for(i=0;i<r.t;++i)e[i+n.t]=n.am(0,r[i],e,i,0,n.t);e.s=0,e.clamp(),this.s!=t.s&&s.ZERO.subTo(e,e)},s.prototype.squareTo=function(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var r=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,r,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()},s.prototype.divRemTo=function(t,e,n){var r=t.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=e&&e.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=u());var o=u(),a=this.s,l=t.s,h=this.DB-m(r[r.t-1]);h>0?(r.lShiftTo(h,o),i.lShiftTo(h,n)):(r.copyTo(o),i.copyTo(n));var c=o.t,f=o[c-1];if(0!=f){var p=f*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),d=this.FV/p,y=(1<<this.F1)/p,v=1<<this.F2,g=n.t,x=g-c,w=null==e?u():e;for(o.dlShiftTo(x,w),n.compareTo(w)>=0&&(n[n.t++]=1,n.subTo(w,n)),s.ONE.dlShiftTo(c,w),w.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--x>=0;){var _=n[--g]==f?this.DM:Math.floor(n[g]*d+(n[g-1]+v)*y);if((n[g]+=o.am(0,_,n,x,0,c))<_)for(o.dlShiftTo(x,w),n.subTo(w,n);n[g]<--_;)n.subTo(w,n)}null!=e&&(n.drShiftTo(c,e),a!=l&&s.ZERO.subTo(e,e)),n.t=c,n.clamp(),h>0&&n.rShiftTo(h,n),a<0&&s.ZERO.subTo(n,n)}}},s.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},s.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},s.prototype.exp=function(t,e){if(t>4294967295||t<1)return s.ONE;var n=u(),r=u(),i=e.convert(this),o=m(t)-1;for(i.copyTo(n);--o>=0;)if(e.sqrTo(n,r),(t&1<<o)>0)e.mulTo(r,i,n);else{var a=n;n=r,r=a}return e.revert(n)},s.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,r=(1<<e)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%e;if(a-- >0)for(s<this.DB&&(n=this[a]>>s)>0&&(i=!0,o=f(n));a>=0;)s<e?(n=(this[a]&(1<<s)-1)<<e-s,n|=this[--a]>>(s+=this.DB-e)):(n=this[a]>>(s-=e)&r,s<=0&&(s+=this.DB,--a)),n>0&&(i=!0),i&&(o+=f(n));return i?o:"0"},s.prototype.negate=function(){var t=u();return s.ZERO.subTo(this,t),t},s.prototype.abs=function(){return this.s<0?this.negate():this},s.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(0!=(e=n-t.t))return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0},s.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+m(this[this.t-1]^this.s&this.DM)},s.prototype.mod=function(t){var e=u();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(s.ZERO)>0&&t.subTo(e,e),e},s.prototype.modPowInt=function(t,e){var n;return n=t<256||e.isEven()?new y(e):new v(e),this.exp(t,n)},s.ZERO=d(0),s.ONE=d(1),C.prototype.convert=T,C.prototype.revert=T,C.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n)},C.prototype.sqrTo=function(t,e){t.squareTo(e)},I.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=u();return t.copyTo(e),this.reduce(e),e},I.prototype.revert=function(t){return t},I.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},I.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},I.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var E=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],M=(1<<26)/E[E.length-1];s.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},s.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),r=d(n),i=u(),o=u(),a="";for(this.divRemTo(r,i,o);i.signum()>0;)a=(n+o.intValue()).toString(t).substr(1)+a,i.divRemTo(r,i,o);return o.intValue().toString(t)+a},s.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var n=this.chunkSize(e),r=Math.pow(e,n),i=!1,o=0,a=0,u=0;u<t.length;++u){var l=p(t,u);l<0?"-"==t.charAt(u)&&0==this.signum()&&(i=!0):(a=e*a+l,++o>=n&&(this.dMultiply(r),this.dAddOffset(a,0),o=0,a=0))}o>0&&(this.dMultiply(Math.pow(e,o)),this.dAddOffset(a,0)),i&&s.ZERO.subTo(this,this)},s.prototype.fromNumber=function(t,e,n){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,n),this.testBit(t-1)||this.bitwiseTo(s.ONE.shiftLeft(t-1),x,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(s.ONE.shiftLeft(t-1),this);else{var r=new Array,i=7&t;r.length=1+(t>>3),e.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}},s.prototype.bitwiseTo=function(t,e,n){var r,i,o=Math.min(t.t,this.t);for(r=0;r<o;++r)n[r]=e(this[r],t[r]);if(t.t<this.t){for(i=t.s&this.DM,r=o;r<this.t;++r)n[r]=e(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<t.t;++r)n[r]=e(i,t[r]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()},s.prototype.changeBit=function(t,e){var n=s.ONE.shiftLeft(t);return this.bitwiseTo(n,e,n),n},s.prototype.addTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]+t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r+=t[n],e[n++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=r<0?-1:0,r>0?e[n++]=r:r<-1&&(e[n++]=this.DV+r),e.t=n,e.clamp()},s.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},s.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},s.prototype.multiplyLowerTo=function(t,e,n){var r,i=Math.min(this.t+t.t,e);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,t[i],n,i,0,this.t);for(r=Math.min(t.t,e);i<r;++i)this.am(0,t[i],n,i,0,e-i);n.clamp()},s.prototype.multiplyUpperTo=function(t,e,n){--e;var r=n.t=this.t+t.t-e;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(e-this.t,0);r<t.t;++r)n[this.t+r-e]=this.am(e-r,t[r],n,0,0,this.t+r-e);n.clamp(),n.drShiftTo(1,n)},s.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var r=this.t-1;r>=0;--r)n=(e*n+this[r])%t;return n},s.prototype.millerRabin=function(t){var e=this.subtract(s.ONE),n=e.getLowestSetBit();if(n<=0)return!1;var r=e.shiftRight(n);(t=t+1>>1)>E.length&&(t=E.length);for(var i=u(),o=0;o<t;++o){i.fromInt(E[Math.floor(Math.random()*E.length)]);var a=i.modPow(r,this);if(0!=a.compareTo(s.ONE)&&0!=a.compareTo(e)){for(var l=1;l++<n&&0!=a.compareTo(e);)if(0==(a=a.modPowInt(2,this)).compareTo(s.ONE))return!1;if(0!=a.compareTo(e))return!1}}return!0},s.prototype.clone=function(){var t=u();return this.copyTo(t),t},s.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},s.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},s.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},s.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},s.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var n,r=this.DB-t*this.DB%8,i=0;if(t-- >0)for(r<this.DB&&(n=this[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this[t]&(1<<r)-1)<<8-r,n|=this[--t]>>(r+=this.DB-8)):(n=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e},s.prototype.equals=function(t){return 0==this.compareTo(t)},s.prototype.min=function(t){return this.compareTo(t)<0?this:t},s.prototype.max=function(t){return this.compareTo(t)>0?this:t},s.prototype.and=function(t){var e=u();return this.bitwiseTo(t,g,e),e},s.prototype.or=function(t){var e=u();return this.bitwiseTo(t,x,e),e},s.prototype.xor=function(t){var e=u();return this.bitwiseTo(t,w,e),e},s.prototype.andNot=function(t){var e=u();return this.bitwiseTo(t,_,e),e},s.prototype.not=function(){for(var t=u(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},s.prototype.shiftLeft=function(t){var e=u();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},s.prototype.shiftRight=function(t){var e=u();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},s.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+b(this[t]);return this.s<0?this.t*this.DB:-1},s.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=P(this[n]^e);return t},s.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},s.prototype.setBit=function(t){return this.changeBit(t,x)},s.prototype.clearBit=function(t){return this.changeBit(t,_)},s.prototype.flipBit=function(t){return this.changeBit(t,w)},s.prototype.add=function(t){var e=u();return this.addTo(t,e),e},s.prototype.subtract=function(t){var e=u();return this.subTo(t,e),e},s.prototype.multiply=function(t){var e=u();return this.multiplyTo(t,e),e},s.prototype.divide=function(t){var e=u();return this.divRemTo(t,e,null),e},s.prototype.remainder=function(t){var e=u();return this.divRemTo(t,null,e),e},s.prototype.divideAndRemainder=function(t){var e=u(),n=u();return this.divRemTo(t,e,n),new Array(e,n)},s.prototype.modPow=function(t,e){var n,r,i=t.bitLength(),o=d(1);if(i<=0)return o;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new y(e):e.isEven()?new I(e):new v(e);var a=new Array,s=3,l=n-1,h=(1<<n)-1;if(a[1]=r.convert(this),n>1){var c=u();for(r.sqrTo(a[1],c);s<=h;)a[s]=u(),r.mulTo(c,a[s-2],a[s]),s+=2}var f,p,g=t.t-1,x=!0,w=u();for(i=m(t[g])-1;g>=0;){for(i>=l?f=t[g]>>i-l&h:(f=(t[g]&(1<<i+1)-1)<<l-i,g>0&&(f|=t[g-1]>>this.DB+i-l)),s=n;0==(1&f);)f>>=1,--s;if((i-=s)<0&&(i+=this.DB,--g),x)a[f].copyTo(o),x=!1;else{for(;s>1;)r.sqrTo(o,w),r.sqrTo(w,o),s-=2;s>0?r.sqrTo(o,w):(p=o,o=w,w=p),r.mulTo(w,a[f],o)}for(;g>=0&&0==(t[g]&1<<i);)r.sqrTo(o,w),p=o,o=w,w=p,--i<0&&(i=this.DB-1,--g)}return r.revert(o)},s.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return s.ZERO;for(var n=t.clone(),r=this.clone(),i=d(1),o=d(0),a=d(0),u=d(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),e?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(t,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;r.isEven();)r.rShiftTo(1,r),e?(a.isEven()&&u.isEven()||(a.addTo(this,a),u.subTo(t,u)),a.rShiftTo(1,a)):u.isEven()||u.subTo(t,u),u.rShiftTo(1,u);n.compareTo(r)>=0?(n.subTo(r,n),e&&i.subTo(a,i),o.subTo(u,o)):(r.subTo(n,r),e&&a.subTo(i,a),u.subTo(o,u))}return 0!=r.compareTo(s.ONE)?s.ZERO:u.compareTo(t)>=0?u.subtract(t):u.signum()<0?(u.addTo(t,u),u.signum()<0?u.add(t):u):u},s.prototype.pow=function(t){return this.exp(t,new C)},s.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var r=e;e=n,n=r}var i=e.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),n.rShiftTo(o,n));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},s.prototype.isProbablePrime=function(t){var e,n=this.abs();if(1==n.t&&n[0]<=E[E.length-1]){for(e=0;e<E.length;++e)if(n[0]==E[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<E.length;){for(var r=E[e],i=e+1;i<E.length&&r<M;)r*=E[i++];for(r=n.modInt(r);e<i;)if(r%E[e++]==0)return!1}return n.millerRabin(t)},s.prototype.square=function(){var t=u();return this.squareTo(t),t};var A=s;A.prototype.IsNegative=function(){return-1==this.compareTo(A.ZERO)},A.op_Equality=function(t,e){return 0==t.compareTo(e)},A.op_Inequality=function(t,e){return 0!=t.compareTo(e)},A.op_GreaterThan=function(t,e){return t.compareTo(e)>0},A.op_LessThan=function(t,e){return t.compareTo(e)<0},A.op_Addition=function(t,e){return new A(t).add(new A(e))},A.op_Subtraction=function(t,e){return new A(t).subtract(new A(e))},A.Int128Mul=function(t,e){return new A(t).multiply(new A(e))},A.op_Division=function(t,e){return t.divide(e)},A.prototype.ToDouble=function(){return parseFloat(this.toString())};var N=function(t,e){var n;if(void 0===Object.getOwnPropertyNames){for(n in e.prototype)void 0!==t.prototype[n]&&t.prototype[n]!=Object.prototype[n]||(t.prototype[n]=e.prototype[n]);for(n in e)void 0===t[n]&&(t[n]=e[n]);t.$baseCtor=e}else{for(var r=Object.getOwnPropertyNames(e.prototype),i=0;i<r.length;i++)void 0===Object.getOwnPropertyDescriptor(t.prototype,r[i])&&Object.defineProperty(t.prototype,r[i],Object.getOwnPropertyDescriptor(e.prototype,r[i]));for(n in e)void 0===t[n]&&(t[n]=e[n]);t.$baseCtor=e}};n.Path=function(){return[]},n.Paths=function(){return[]},n.DoublePoint=function(){var t=arguments;this.X=0,this.Y=0,1==t.length?(this.X=t[0].X,this.Y=t[0].Y):2==t.length&&(this.X=t[0],this.Y=t[1])},n.DoublePoint0=function(){this.X=0,this.Y=0},n.DoublePoint1=function(t){this.X=t.X,this.Y=t.Y},n.DoublePoint2=function(t,e){this.X=t,this.Y=e},n.PolyNode=function(){this.m_Parent=null,this.m_polygon=new n.Path,this.m_Index=0,this.m_jointype=0,this.m_endtype=0,this.m_Childs=[],this.IsOpen=!1},n.PolyNode.prototype.IsHoleNode=function(){for(var t=!0,e=this.m_Parent;null!==e;)t=!t,e=e.m_Parent;return t},n.PolyNode.prototype.ChildCount=function(){return this.m_Childs.length},n.PolyNode.prototype.Contour=function(){return this.m_polygon},n.PolyNode.prototype.AddChild=function(t){var e=this.m_Childs.length;this.m_Childs.push(t),t.m_Parent=this,t.m_Index=e},n.PolyNode.prototype.GetNext=function(){return this.m_Childs.length>0?this.m_Childs[0]:this.GetNextSiblingUp()},n.PolyNode.prototype.GetNextSiblingUp=function(){return null===this.m_Parent?null:this.m_Index==this.m_Parent.m_Childs.length-1?this.m_Parent.GetNextSiblingUp():this.m_Parent.m_Childs[this.m_Index+1]},n.PolyNode.prototype.Childs=function(){return this.m_Childs},n.PolyNode.prototype.Parent=function(){return this.m_Parent},n.PolyNode.prototype.IsHole=function(){return this.IsHoleNode()},n.PolyTree=function(){this.m_AllPolys=[],n.PolyNode.call(this)},n.PolyTree.prototype.Clear=function(){for(var t=0,e=this.m_AllPolys.length;t<e;t++)this.m_AllPolys[t]=null;this.m_AllPolys.length=0,this.m_Childs.length=0},n.PolyTree.prototype.GetFirst=function(){return this.m_Childs.length>0?this.m_Childs[0]:null},n.PolyTree.prototype.Total=function(){var t=this.m_AllPolys.length;return t>0&&this.m_Childs[0]!=this.m_AllPolys[0]&&t--,t},N(n.PolyTree,n.PolyNode),n.Math_Abs_Int64=n.Math_Abs_Int32=n.Math_Abs_Double=function(t){return Math.abs(t)},n.Math_Max_Int32_Int32=function(t,e){return Math.max(t,e)},a.msie||a.opera||a.safari?n.Cast_Int32=function(t){return 0|t}:n.Cast_Int32=function(t){return~~t},a.chrome?n.Cast_Int64=function(t){return t<-2147483648||t>2147483647?t<0?Math.ceil(t):Math.floor(t):~~t}:a.firefox&&"function"==typeof Number.toInteger?n.Cast_Int64=function(t){return Number.toInteger(t)}:a.msie7||a.msie8?n.Cast_Int64=function(t){return parseInt(t,10)}:a.msie?n.Cast_Int64=function(t){return t<-2147483648||t>2147483647?t<0?Math.ceil(t):Math.floor(t):0|t}:n.Cast_Int64=function(t){return t<0?Math.ceil(t):Math.floor(t)},n.Clear=function(t){t.length=0},n.PI=3.141592653589793,n.PI2=6.283185307179586,n.IntPoint=function(){var t=arguments,e=t.length;if(this.X=0,this.Y=0,n.use_xyz)if(this.Z=0,3==e)this.X=t[0],this.Y=t[1],this.Z=t[2];else if(2==e)this.X=t[0],this.Y=t[1],this.Z=0;else if(1==e)if(t[0]instanceof n.DoublePoint){var r=t[0];this.X=n.Clipper.Round(r.X),this.Y=n.Clipper.Round(r.Y),this.Z=0}else{void 0===(i=t[0]).Z&&(i.Z=0),this.X=i.X,this.Y=i.Y,this.Z=i.Z}else this.X=0,this.Y=0,this.Z=0;else if(2==e)this.X=t[0],this.Y=t[1];else if(1==e)if(t[0]instanceof n.DoublePoint){r=t[0];this.X=n.Clipper.Round(r.X),this.Y=n.Clipper.Round(r.Y)}else{var i=t[0];this.X=i.X,this.Y=i.Y}else this.X=0,this.Y=0},n.IntPoint.op_Equality=function(t,e){return t.X==e.X&&t.Y==e.Y},n.IntPoint.op_Inequality=function(t,e){return t.X!=e.X||t.Y!=e.Y},n.use_xyz?(n.IntPoint0=function(){this.X=0,this.Y=0,this.Z=0},n.IntPoint1=function(t){this.X=t.X,this.Y=t.Y,this.Z=t.Z},n.IntPoint1dp=function(t){this.X=n.Clipper.Round(t.X),this.Y=n.Clipper.Round(t.Y),this.Z=0},n.IntPoint2=function(t,e){this.X=t,this.Y=e,this.Z=0},n.IntPoint3=function(t,e,n){this.X=t,this.Y=e,this.Z=n}):(n.IntPoint0=function(){this.X=0,this.Y=0},n.IntPoint1=function(t){this.X=t.X,this.Y=t.Y},n.IntPoint1dp=function(t){this.X=n.Clipper.Round(t.X),this.Y=n.Clipper.Round(t.Y)},n.IntPoint2=function(t,e){this.X=t,this.Y=e}),n.IntRect=function(){var t=arguments,e=t.length;4==e?(this.left=t[0],this.top=t[1],this.right=t[2],this.bottom=t[3]):1==e?(this.left=ir.left,this.top=ir.top,this.right=ir.right,this.bottom=ir.bottom):(this.left=0,this.top=0,this.right=0,this.bottom=0)},n.IntRect0=function(){this.left=0,this.top=0,this.right=0,this.bottom=0},n.IntRect1=function(t){this.left=t.left,this.top=t.top,this.right=t.right,this.bottom=t.bottom},n.IntRect4=function(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r},n.ClipType={ctIntersection:0,ctUnion:1,ctDifference:2,ctXor:3},n.PolyType={ptSubject:0,ptClip:1},n.PolyFillType={pftEvenOdd:0,pftNonZero:1,pftPositive:2,pftNegative:3},n.JoinType={jtSquare:0,jtRound:1,jtMiter:2},n.EndType={etOpenSquare:0,etOpenRound:1,etOpenButt:2,etClosedLine:3,etClosedPolygon:4},n.EdgeSide={esLeft:0,esRight:1},n.Direction={dRightToLeft:0,dLeftToRight:1},n.TEdge=function(){this.Bot=new n.IntPoint,this.Curr=new n.IntPoint,this.Top=new n.IntPoint,this.Delta=new n.IntPoint,this.Dx=0,this.PolyTyp=n.PolyType.ptSubject,this.Side=n.EdgeSide.esLeft,this.WindDelta=0,this.WindCnt=0,this.WindCnt2=0,this.OutIdx=0,this.Next=null,this.Prev=null,this.NextInLML=null,this.NextInAEL=null,this.PrevInAEL=null,this.NextInSEL=null,this.PrevInSEL=null},n.IntersectNode=function(){this.Edge1=null,this.Edge2=null,this.Pt=new n.IntPoint},n.MyIntersectNodeSort=function(){},n.MyIntersectNodeSort.Compare=function(t,e){var n=e.Pt.Y-t.Pt.Y;return n>0?1:n<0?-1:0},n.LocalMinima=function(){this.Y=0,this.LeftBound=null,this.RightBound=null,this.Next=null},n.Scanbeam=function(){this.Y=0,this.Next=null},n.OutRec=function(){this.Idx=0,this.IsHole=!1,this.IsOpen=!1,this.FirstLeft=null,this.Pts=null,this.BottomPt=null,this.PolyNode=null},n.OutPt=function(){this.Idx=0,this.Pt=new n.IntPoint,this.Next=null,this.Prev=null},n.Join=function(){this.OutPt1=null,this.OutPt2=null,this.OffPt=new n.IntPoint},n.ClipperBase=function(){this.m_MinimaList=null,this.m_CurrentLM=null,this.m_edges=new Array,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1,this.PreserveCollinear=!1,this.m_MinimaList=null,this.m_CurrentLM=null,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},n.ClipperBase.horizontal=-9007199254740992,n.ClipperBase.Skip=-2,n.ClipperBase.Unassigned=-1,n.ClipperBase.tolerance=1e-20,n.ClipperBase.loRange=47453132,n.ClipperBase.hiRange=0xfffffffffffff,n.ClipperBase.near_zero=function(t){return t>-n.ClipperBase.tolerance&&t<n.ClipperBase.tolerance},n.ClipperBase.IsHorizontal=function(t){return 0===t.Delta.Y},n.ClipperBase.prototype.PointIsVertex=function(t,e){var r=e;do{if(n.IntPoint.op_Equality(r.Pt,t))return!0;r=r.Next}while(r!=e);return!1},n.ClipperBase.prototype.PointOnLineSegment=function(t,e,n,r){return r?t.X==e.X&&t.Y==e.Y||t.X==n.X&&t.Y==n.Y||t.X>e.X==t.X<n.X&&t.Y>e.Y==t.Y<n.Y&&A.op_Equality(A.Int128Mul(t.X-e.X,n.Y-e.Y),A.Int128Mul(n.X-e.X,t.Y-e.Y)):t.X==e.X&&t.Y==e.Y||t.X==n.X&&t.Y==n.Y||t.X>e.X==t.X<n.X&&t.Y>e.Y==t.Y<n.Y&&(t.X-e.X)*(n.Y-e.Y)==(n.X-e.X)*(t.Y-e.Y)},n.ClipperBase.prototype.PointOnPolygon=function(t,e,n){for(var r=e;;){if(this.PointOnLineSegment(t,r.Pt,r.Next.Pt,n))return!0;if((r=r.Next)==e)break}return!1},n.ClipperBase.prototype.SlopesEqual=n.ClipperBase.SlopesEqual=function(){var t,e,r,i,o,a,s=arguments,u=s.length;return 3==u?(t=s[0],e=s[1],s[2]?A.op_Equality(A.Int128Mul(t.Delta.Y,e.Delta.X),A.Int128Mul(t.Delta.X,e.Delta.Y)):n.Cast_Int64(t.Delta.Y*e.Delta.X)==n.Cast_Int64(t.Delta.X*e.Delta.Y)):4==u?(r=s[0],i=s[1],o=s[2],s[3]?A.op_Equality(A.Int128Mul(r.Y-i.Y,i.X-o.X),A.Int128Mul(r.X-i.X,i.Y-o.Y)):n.Cast_Int64((r.Y-i.Y)*(i.X-o.X))-n.Cast_Int64((r.X-i.X)*(i.Y-o.Y))==0):(r=s[0],i=s[1],o=s[2],a=s[3],s[4]?A.op_Equality(A.Int128Mul(r.Y-i.Y,o.X-a.X),A.Int128Mul(r.X-i.X,o.Y-a.Y)):n.Cast_Int64((r.Y-i.Y)*(o.X-a.X))-n.Cast_Int64((r.X-i.X)*(o.Y-a.Y))==0)},n.ClipperBase.SlopesEqual3=function(t,e,r){return r?A.op_Equality(A.Int128Mul(t.Delta.Y,e.Delta.X),A.Int128Mul(t.Delta.X,e.Delta.Y)):n.Cast_Int64(t.Delta.Y*e.Delta.X)==n.Cast_Int64(t.Delta.X*e.Delta.Y)},n.ClipperBase.SlopesEqual4=function(t,e,r,i){return i?A.op_Equality(A.Int128Mul(t.Y-e.Y,e.X-r.X),A.Int128Mul(t.X-e.X,e.Y-r.Y)):n.Cast_Int64((t.Y-e.Y)*(e.X-r.X))-n.Cast_Int64((t.X-e.X)*(e.Y-r.Y))==0},n.ClipperBase.SlopesEqual5=function(t,e,r,i,o){return o?A.op_Equality(A.Int128Mul(t.Y-e.Y,r.X-i.X),A.Int128Mul(t.X-e.X,r.Y-i.Y)):n.Cast_Int64((t.Y-e.Y)*(r.X-i.X))-n.Cast_Int64((t.X-e.X)*(r.Y-i.Y))==0},n.ClipperBase.prototype.Clear=function(){this.DisposeLocalMinimaList();for(var t=0,e=this.m_edges.length;t<e;++t){for(var r=0,i=this.m_edges[t].length;r<i;++r)this.m_edges[t][r]=null;n.Clear(this.m_edges[t])}n.Clear(this.m_edges),this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},n.ClipperBase.prototype.DisposeLocalMinimaList=function(){for(;null!==this.m_MinimaList;){var t=this.m_MinimaList.Next;this.m_MinimaList=null,this.m_MinimaList=t}this.m_CurrentLM=null},n.ClipperBase.prototype.RangeTest=function(t,e){e.Value?(t.X>n.ClipperBase.hiRange||t.Y>n.ClipperBase.hiRange||-t.X>n.ClipperBase.hiRange||-t.Y>n.ClipperBase.hiRange)&&n.Error("Coordinate outside allowed range in RangeTest()."):(t.X>n.ClipperBase.loRange||t.Y>n.ClipperBase.loRange||-t.X>n.ClipperBase.loRange||-t.Y>n.ClipperBase.loRange)&&(e.Value=!0,this.RangeTest(t,e))},n.ClipperBase.prototype.InitEdge=function(t,e,r,i){t.Next=e,t.Prev=r,t.Curr.X=i.X,t.Curr.Y=i.Y,n.use_xyz&&(t.Curr.Z=i.Z),t.OutIdx=-1},n.ClipperBase.prototype.InitEdge2=function(t,e){t.Curr.Y>=t.Next.Curr.Y?(t.Bot.X=t.Curr.X,t.Bot.Y=t.Curr.Y,n.use_xyz&&(t.Bot.Z=t.Curr.Z),t.Top.X=t.Next.Curr.X,t.Top.Y=t.Next.Curr.Y,n.use_xyz&&(t.Top.Z=t.Next.Curr.Z)):(t.Top.X=t.Curr.X,t.Top.Y=t.Curr.Y,n.use_xyz&&(t.Top.Z=t.Curr.Z),t.Bot.X=t.Next.Curr.X,t.Bot.Y=t.Next.Curr.Y,n.use_xyz&&(t.Bot.Z=t.Next.Curr.Z)),this.SetDx(t),t.PolyTyp=e},n.ClipperBase.prototype.FindNextLocMin=function(t){for(var e;;){for(;n.IntPoint.op_Inequality(t.Bot,t.Prev.Bot)||n.IntPoint.op_Equality(t.Curr,t.Top);)t=t.Next;if(t.Dx!=n.ClipperBase.horizontal&&t.Prev.Dx!=n.ClipperBase.horizontal)break;for(;t.Prev.Dx==n.ClipperBase.horizontal;)t=t.Prev;for(e=t;t.Dx==n.ClipperBase.horizontal;)t=t.Next;if(t.Top.Y!=t.Prev.Bot.Y){e.Prev.Bot.X<t.Bot.X&&(t=e);break}}return t},n.ClipperBase.prototype.ProcessBound=function(t,e){var r,i,o=t;if(o.OutIdx==n.ClipperBase.Skip){if(t=o,e){for(;t.Top.Y==t.Next.Bot.Y;)t=t.Next;for(;t!=o&&t.Dx==n.ClipperBase.horizontal;)t=t.Prev}else{for(;t.Top.Y==t.Prev.Bot.Y;)t=t.Prev;for(;t!=o&&t.Dx==n.ClipperBase.horizontal;)t=t.Next}if(t==o)o=e?t.Next:t.Prev;else{t=e?o.Next:o.Prev;var a=new n.LocalMinima;a.Next=null,a.Y=t.Bot.Y,a.LeftBound=null,a.RightBound=t,t.WindDelta=0,o=this.ProcessBound(t,e),this.InsertLocalMinima(a)}return o}if(t.Dx==n.ClipperBase.horizontal&&(r=e?t.Prev:t.Next).OutIdx!=n.ClipperBase.Skip&&(r.Dx==n.ClipperBase.horizontal?r.Bot.X!=t.Bot.X&&r.Top.X!=t.Bot.X&&this.ReverseHorizontal(t):r.Bot.X!=t.Bot.X&&this.ReverseHorizontal(t)),r=t,e){for(;o.Top.Y==o.Next.Bot.Y&&o.Next.OutIdx!=n.ClipperBase.Skip;)o=o.Next;if(o.Dx==n.ClipperBase.horizontal&&o.Next.OutIdx!=n.ClipperBase.Skip){for(i=o;i.Prev.Dx==n.ClipperBase.horizontal;)i=i.Prev;i.Prev.Top.X==o.Next.Top.X?e||(o=i.Prev):i.Prev.Top.X>o.Next.Top.X&&(o=i.Prev)}for(;t!=o;)t.NextInLML=t.Next,t.Dx==n.ClipperBase.horizontal&&t!=r&&t.Bot.X!=t.Prev.Top.X&&this.ReverseHorizontal(t),t=t.Next;t.Dx==n.ClipperBase.horizontal&&t!=r&&t.Bot.X!=t.Prev.Top.X&&this.ReverseHorizontal(t),o=o.Next}else{for(;o.Top.Y==o.Prev.Bot.Y&&o.Prev.OutIdx!=n.ClipperBase.Skip;)o=o.Prev;if(o.Dx==n.ClipperBase.horizontal&&o.Prev.OutIdx!=n.ClipperBase.Skip){for(i=o;i.Next.Dx==n.ClipperBase.horizontal;)i=i.Next;i.Next.Top.X==o.Prev.Top.X?e||(o=i.Next):i.Next.Top.X>o.Prev.Top.X&&(o=i.Next)}for(;t!=o;)t.NextInLML=t.Prev,t.Dx==n.ClipperBase.horizontal&&t!=r&&t.Bot.X!=t.Next.Top.X&&this.ReverseHorizontal(t),t=t.Prev;t.Dx==n.ClipperBase.horizontal&&t!=r&&t.Bot.X!=t.Next.Top.X&&this.ReverseHorizontal(t),o=o.Prev}return o},n.ClipperBase.prototype.AddPath=function(t,e,r){n.use_lines?r||e!=n.PolyType.ptClip||n.Error("AddPath: Open paths must be subject."):r||n.Error("AddPath: Open paths have been disabled.");var i=t.length-1;if(r)for(;i>0&&n.IntPoint.op_Equality(t[i],t[0]);)--i;for(;i>0&&n.IntPoint.op_Equality(t[i],t[i-1]);)--i;if(r&&i<2||!r&&i<1)return!1;for(var o=new Array,a=0;a<=i;a++)o.push(new n.TEdge);var s=!0;o[1].Curr.X=t[1].X,o[1].Curr.Y=t[1].Y,n.use_xyz&&(o[1].Curr.Z=t[1].Z);var u={Value:this.m_UseFullRange};this.RangeTest(t[0],u),this.m_UseFullRange=u.Value,u.Value=this.m_UseFullRange,this.RangeTest(t[i],u),this.m_UseFullRange=u.Value,this.InitEdge(o[0],o[1],o[i],t[0]),this.InitEdge(o[i],o[0],o[i-1],t[i]);for(a=i-1;a>=1;--a)u.Value=this.m_UseFullRange,this.RangeTest(t[a],u),this.m_UseFullRange=u.Value,this.InitEdge(o[a],o[a+1],o[a-1],t[a]);for(var l,h=o[0],c=h,f=h;;)if(c.Curr!=c.Next.Curr||!r&&c.Next==h){if(c.Prev==c.Next)break;if(!r||!n.ClipperBase.SlopesEqual(c.Prev.Curr,c.Curr,c.Next.Curr,this.m_UseFullRange)||this.PreserveCollinear&&this.Pt2IsBetweenPt1AndPt3(c.Prev.Curr,c.Curr,c.Next.Curr)){if((c=c.Next)==f||!r&&c.Next==h)break}else c==h&&(h=c.Next),f=c=(c=this.RemoveEdge(c)).Prev}else{if(c==c.Next)break;c==h&&(h=c.Next),f=c=this.RemoveEdge(c)}if(!r&&c==c.Next||r&&c.Prev==c.Next)return!1;r||(this.m_HasOpenPaths=!0,h.Prev.OutIdx=n.ClipperBase.Skip),c=h;do{this.InitEdge2(c,e),c=c.Next,s&&c.Curr.Y!=h.Curr.Y&&(s=!1)}while(c!=h);if(s){if(r)return!1;for(c.Prev.OutIdx=n.ClipperBase.Skip,c.Prev.Bot.X<c.Prev.Top.X&&this.ReverseHorizontal(c.Prev),(d=new n.LocalMinima).Next=null,d.Y=c.Bot.Y,d.LeftBound=null,d.RightBound=c,d.RightBound.Side=n.EdgeSide.esRight,d.RightBound.WindDelta=0;c.Next.OutIdx!=n.ClipperBase.Skip;)c.NextInLML=c.Next,c.Bot.X!=c.Prev.Top.X&&this.ReverseHorizontal(c),c=c.Next;return this.InsertLocalMinima(d),this.m_edges.push(o),!0}this.m_edges.push(o);var p=null;for(n.IntPoint.op_Equality(c.Prev.Bot,c.Prev.Top)&&(c=c.Next);(c=this.FindNextLocMin(c))!=p;){var d;null==p&&(p=c),(d=new n.LocalMinima).Next=null,d.Y=c.Bot.Y,c.Dx<c.Prev.Dx?(d.LeftBound=c.Prev,d.RightBound=c,l=!1):(d.LeftBound=c,d.RightBound=c.Prev,l=!0),d.LeftBound.Side=n.EdgeSide.esLeft,d.RightBound.Side=n.EdgeSide.esRight,r?d.LeftBound.Next==d.RightBound?d.LeftBound.WindDelta=-1:d.LeftBound.WindDelta=1:d.LeftBound.WindDelta=0,d.RightBound.WindDelta=-d.LeftBound.WindDelta,(c=this.ProcessBound(d.LeftBound,l)).OutIdx==n.ClipperBase.Skip&&(c=this.ProcessBound(c,l));var m=this.ProcessBound(d.RightBound,!l);m.OutIdx==n.ClipperBase.Skip&&(m=this.ProcessBound(m,!l)),d.LeftBound.OutIdx==n.ClipperBase.Skip?d.LeftBound=null:d.RightBound.OutIdx==n.ClipperBase.Skip&&(d.RightBound=null),this.InsertLocalMinima(d),l||(c=m)}return!0},n.ClipperBase.prototype.AddPaths=function(t,e,n){for(var r=!1,i=0,o=t.length;i<o;++i)this.AddPath(t[i],e,n)&&(r=!0);return r},n.ClipperBase.prototype.Pt2IsBetweenPt1AndPt3=function(t,e,r){return!(n.IntPoint.op_Equality(t,r)||n.IntPoint.op_Equality(t,e)||n.IntPoint.op_Equality(r,e))&&(t.X!=r.X?e.X>t.X==e.X<r.X:e.Y>t.Y==e.Y<r.Y)},n.ClipperBase.prototype.RemoveEdge=function(t){t.Prev.Next=t.Next,t.Next.Prev=t.Prev;var e=t.Next;return t.Prev=null,e},n.ClipperBase.prototype.SetDx=function(t){t.Delta.X=t.Top.X-t.Bot.X,t.Delta.Y=t.Top.Y-t.Bot.Y,0===t.Delta.Y?t.Dx=n.ClipperBase.horizontal:t.Dx=t.Delta.X/t.Delta.Y},n.ClipperBase.prototype.InsertLocalMinima=function(t){if(null===this.m_MinimaList)this.m_MinimaList=t;else if(t.Y>=this.m_MinimaList.Y)t.Next=this.m_MinimaList,this.m_MinimaList=t;else{for(var e=this.m_MinimaList;null!==e.Next&&t.Y<e.Next.Y;)e=e.Next;t.Next=e.Next,e.Next=t}},n.ClipperBase.prototype.PopLocalMinima=function(){null!==this.m_CurrentLM&&(this.m_CurrentLM=this.m_CurrentLM.Next)},n.ClipperBase.prototype.ReverseHorizontal=function(t){var e=t.Top.X;t.Top.X=t.Bot.X,t.Bot.X=e,n.use_xyz&&(e=t.Top.Z,t.Top.Z=t.Bot.Z,t.Bot.Z=e)},n.ClipperBase.prototype.Reset=function(){if(this.m_CurrentLM=this.m_MinimaList,null!=this.m_CurrentLM)for(var t=this.m_MinimaList;null!=t;){var e=t.LeftBound;null!=e&&(e.Curr.X=e.Bot.X,e.Curr.Y=e.Bot.Y,n.use_xyz&&(e.Curr.Z=e.Bot.Z),e.Side=n.EdgeSide.esLeft,e.OutIdx=n.ClipperBase.Unassigned),null!=(e=t.RightBound)&&(e.Curr.X=e.Bot.X,e.Curr.Y=e.Bot.Y,n.use_xyz&&(e.Curr.Z=e.Bot.Z),e.Side=n.EdgeSide.esRight,e.OutIdx=n.ClipperBase.Unassigned),t=t.Next}},n.Clipper=function(t){void 0===t&&(t=0),this.m_PolyOuts=null,this.m_ClipType=n.ClipType.ctIntersection,this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=null,this.m_IntersectNodeComparer=null,this.m_ExecuteLocked=!1,this.m_ClipFillType=n.PolyFillType.pftEvenOdd,this.m_SubjFillType=n.PolyFillType.pftEvenOdd,this.m_Joins=null,this.m_GhostJoins=null,this.m_UsingPolyTree=!1,this.ReverseSolution=!1,this.StrictlySimple=!1,n.ClipperBase.call(this),this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=new Array,this.m_IntersectNodeComparer=n.MyIntersectNodeSort.Compare,this.m_ExecuteLocked=!1,this.m_UsingPolyTree=!1,this.m_PolyOuts=new Array,this.m_Joins=new Array,this.m_GhostJoins=new Array,this.ReverseSolution=0!=(1&t),this.StrictlySimple=0!=(2&t),this.PreserveCollinear=0!=(4&t),n.use_xyz&&(this.ZFillFunction=null)},n.Clipper.ioReverseSolution=1,n.Clipper.ioStrictlySimple=2,n.Clipper.ioPreserveCollinear=4,n.Clipper.prototype.Clear=function(){0!==this.m_edges.length&&(this.DisposeAllPolyPts(),n.ClipperBase.prototype.Clear.call(this))},n.Clipper.prototype.DisposeScanbeamList=function(){for(;null!==this.m_Scanbeam;){var t=this.m_Scanbeam.Next;this.m_Scanbeam=null,this.m_Scanbeam=t}},n.Clipper.prototype.Reset=function(){n.ClipperBase.prototype.Reset.call(this),this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null;for(var t=this.m_MinimaList;null!==t;)this.InsertScanbeam(t.Y),t=t.Next},n.Clipper.prototype.InsertScanbeam=function(t){if(null===this.m_Scanbeam)this.m_Scanbeam=new n.Scanbeam,this.m_Scanbeam.Next=null,this.m_Scanbeam.Y=t;else if(t>this.m_Scanbeam.Y){(r=new n.Scanbeam).Y=t,r.Next=this.m_Scanbeam,this.m_Scanbeam=r}else{for(var e=this.m_Scanbeam;null!==e.Next&&t<=e.Next.Y;)e=e.Next;if(t==e.Y)return;var r;(r=new n.Scanbeam).Y=t,r.Next=e.Next,e.Next=r}},n.Clipper.prototype.Execute=function(){var t=arguments,e=t.length,r=t[1]instanceof n.PolyTree;if(4==e&&!r){var i=t[0],o=t[1],a=t[2],s=t[3];if(this.m_ExecuteLocked)return!1;this.m_HasOpenPaths&&n.Error("Error: PolyTree struct is need for open path clipping."),this.m_ExecuteLocked=!0,n.Clear(o),this.m_SubjFillType=a,this.m_ClipFillType=s,this.m_ClipType=i,this.m_UsingPolyTree=!1;try{(l=this.ExecuteInternal())&&this.BuildResult(o)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return l}if(4==e&&r){i=t[0];var u=t[1];a=t[2],s=t[3];if(this.m_ExecuteLocked)return!1;this.m_ExecuteLocked=!0,this.m_SubjFillType=a,this.m_ClipFillType=s,this.m_ClipType=i,this.m_UsingPolyTree=!0;try{var l;(l=this.ExecuteInternal())&&this.BuildResult2(u)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return l}if(2==e&&!r){i=t[0],o=t[1];return this.Execute(i,o,n.PolyFillType.pftEvenOdd,n.PolyFillType.pftEvenOdd)}if(2==e&&r){i=t[0],u=t[1];return this.Execute(i,u,n.PolyFillType.pftEvenOdd,n.PolyFillType.pftEvenOdd)}},n.Clipper.prototype.FixHoleLinkage=function(t){if(null!==t.FirstLeft&&(t.IsHole==t.FirstLeft.IsHole||null===t.FirstLeft.Pts)){for(var e=t.FirstLeft;null!==e&&(e.IsHole==t.IsHole||null===e.Pts);)e=e.FirstLeft;t.FirstLeft=e}},n.Clipper.prototype.ExecuteInternal=function(){try{if(this.Reset(),null===this.m_CurrentLM)return!1;var t=this.PopScanbeam();do{if(this.InsertLocalMinimaIntoAEL(t),n.Clear(this.m_GhostJoins),this.ProcessHorizontals(!1),null===this.m_Scanbeam)break;var e=this.PopScanbeam();if(!this.ProcessIntersections(e))return!1;this.ProcessEdgesAtTopOfScanbeam(e),t=e}while(null!==this.m_Scanbeam||null!==this.m_CurrentLM);for(var r=0,i=this.m_PolyOuts.length;r<i;r++){null===(o=this.m_PolyOuts[r]).Pts||o.IsOpen||(o.IsHole^this.ReverseSolution)==this.Area(o)>0&&this.ReversePolyPtLinks(o.Pts)}this.JoinCommonEdges();for(r=0,i=this.m_PolyOuts.length;r<i;r++){var o;null===(o=this.m_PolyOuts[r]).Pts||o.IsOpen||this.FixupOutPolygon(o)}return this.StrictlySimple&&this.DoSimplePolygons(),!0}finally{n.Clear(this.m_Joins),n.Clear(this.m_GhostJoins)}},n.Clipper.prototype.PopScanbeam=function(){var t=this.m_Scanbeam.Y;return this.m_Scanbeam=this.m_Scanbeam.Next,t},n.Clipper.prototype.DisposeAllPolyPts=function(){for(var t=0,e=this.m_PolyOuts.length;t<e;++t)this.DisposeOutRec(t);n.Clear(this.m_PolyOuts)},n.Clipper.prototype.DisposeOutRec=function(t){var e=this.m_PolyOuts[t];e.Pts=null,e=null,this.m_PolyOuts[t]=null},n.Clipper.prototype.AddJoin=function(t,e,r){var i=new n.Join;i.OutPt1=t,i.OutPt2=e,i.OffPt.X=r.X,i.OffPt.Y=r.Y,n.use_xyz&&(i.OffPt.Z=r.Z),this.m_Joins.push(i)},n.Clipper.prototype.AddGhostJoin=function(t,e){var r=new n.Join;r.OutPt1=t,r.OffPt.X=e.X,r.OffPt.Y=e.Y,n.use_xyz&&(r.OffPt.Z=e.Z),this.m_GhostJoins.push(r)},n.Clipper.prototype.SetZ=function(t,e,r){if(null!==this.ZFillFunction){if(0!=t.Z||null===this.ZFillFunction)return;n.IntPoint.op_Equality(t,e.Bot)?t.Z=e.Bot.Z:n.IntPoint.op_Equality(t,e.Top)?t.Z=e.Top.Z:n.IntPoint.op_Equality(t,r.Bot)?t.Z=r.Bot.Z:n.IntPoint.op_Equality(t,r.Top)?t.Z=r.Top.Z:this.ZFillFunction(e.Bot,e.Top,r.Bot,r.Top,t)}},n.Clipper.prototype.InsertLocalMinimaIntoAEL=function(t){for(;null!==this.m_CurrentLM&&this.m_CurrentLM.Y==t;){var e=this.m_CurrentLM.LeftBound,r=this.m_CurrentLM.RightBound;this.PopLocalMinima();var i=null;if(null===e?(this.InsertEdgeIntoAEL(r,null),this.SetWindingCount(r),this.IsContributing(r)&&(i=this.AddOutPt(r,r.Bot))):null==r?(this.InsertEdgeIntoAEL(e,null),this.SetWindingCount(e),this.IsContributing(e)&&(i=this.AddOutPt(e,e.Bot)),this.InsertScanbeam(e.Top.Y)):(this.InsertEdgeIntoAEL(e,null),this.InsertEdgeIntoAEL(r,e),this.SetWindingCount(e),r.WindCnt=e.WindCnt,r.WindCnt2=e.WindCnt2,this.IsContributing(e)&&(i=this.AddLocalMinPoly(e,r,e.Bot)),this.InsertScanbeam(e.Top.Y)),null!=r&&(n.ClipperBase.IsHorizontal(r)?this.AddEdgeToSEL(r):this.InsertScanbeam(r.Top.Y)),null!=e&&null!=r){if(null!==i&&n.ClipperBase.IsHorizontal(r)&&this.m_GhostJoins.length>0&&0!==r.WindDelta)for(var o=0,a=this.m_GhostJoins.length;o<a;o++){var s=this.m_GhostJoins[o];this.HorzSegmentsOverlap(s.OutPt1.Pt.X,s.OffPt.X,r.Bot.X,r.Top.X)&&this.AddJoin(s.OutPt1,i,s.OffPt)}if(e.OutIdx>=0&&null!==e.PrevInAEL&&e.PrevInAEL.Curr.X==e.Bot.X&&e.PrevInAEL.OutIdx>=0&&n.ClipperBase.SlopesEqual(e.PrevInAEL,e,this.m_UseFullRange)&&0!==e.WindDelta&&0!==e.PrevInAEL.WindDelta){var u=this.AddOutPt(e.PrevInAEL,e.Bot);this.AddJoin(i,u,e.Top)}if(e.NextInAEL!=r){if(r.OutIdx>=0&&r.PrevInAEL.OutIdx>=0&&n.ClipperBase.SlopesEqual(r.PrevInAEL,r,this.m_UseFullRange)&&0!==r.WindDelta&&0!==r.PrevInAEL.WindDelta){u=this.AddOutPt(r.PrevInAEL,r.Bot);this.AddJoin(i,u,r.Top)}var l=e.NextInAEL;if(null!==l)for(;l!=r;)this.IntersectEdges(r,l,e.Curr,!1),l=l.NextInAEL}}}},n.Clipper.prototype.InsertEdgeIntoAEL=function(t,e){if(null===this.m_ActiveEdges)t.PrevInAEL=null,t.NextInAEL=null,this.m_ActiveEdges=t;else if(null===e&&this.E2InsertsBeforeE1(this.m_ActiveEdges,t))t.PrevInAEL=null,t.NextInAEL=this.m_ActiveEdges,this.m_ActiveEdges.PrevInAEL=t,this.m_ActiveEdges=t;else{for(null===e&&(e=this.m_ActiveEdges);null!==e.NextInAEL&&!this.E2InsertsBeforeE1(e.NextInAEL,t);)e=e.NextInAEL;t.NextInAEL=e.NextInAEL,null!==e.NextInAEL&&(e.NextInAEL.PrevInAEL=t),t.PrevInAEL=e,e.NextInAEL=t}},n.Clipper.prototype.E2InsertsBeforeE1=function(t,e){return e.Curr.X==t.Curr.X?e.Top.Y>t.Top.Y?e.Top.X<n.Clipper.TopX(t,e.Top.Y):t.Top.X>n.Clipper.TopX(e,t.Top.Y):e.Curr.X<t.Curr.X},n.Clipper.prototype.IsEvenOddFillType=function(t){return t.PolyTyp==n.PolyType.ptSubject?this.m_SubjFillType==n.PolyFillType.pftEvenOdd:this.m_ClipFillType==n.PolyFillType.pftEvenOdd},n.Clipper.prototype.IsEvenOddAltFillType=function(t){return t.PolyTyp==n.PolyType.ptSubject?this.m_ClipFillType==n.PolyFillType.pftEvenOdd:this.m_SubjFillType==n.PolyFillType.pftEvenOdd},n.Clipper.prototype.IsContributing=function(t){var e,r;switch(t.PolyTyp==n.PolyType.ptSubject?(e=this.m_SubjFillType,r=this.m_ClipFillType):(e=this.m_ClipFillType,r=this.m_SubjFillType),e){case n.PolyFillType.pftEvenOdd:if(0===t.WindDelta&&1!=t.WindCnt)return!1;break;case n.PolyFillType.pftNonZero:if(1!=Math.abs(t.WindCnt))return!1;break;case n.PolyFillType.pftPositive:if(1!=t.WindCnt)return!1;break;default:if(-1!=t.WindCnt)return!1}switch(this.m_ClipType){case n.ClipType.ctIntersection:switch(r){case n.PolyFillType.pftEvenOdd:case n.PolyFillType.pftNonZero:return 0!==t.WindCnt2;case n.PolyFillType.pftPositive:return t.WindCnt2>0;default:return t.WindCnt2<0}case n.ClipType.ctUnion:switch(r){case n.PolyFillType.pftEvenOdd:case n.PolyFillType.pftNonZero:return 0===t.WindCnt2;case n.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}case n.ClipType.ctDifference:if(t.PolyTyp==n.PolyType.ptSubject)switch(r){case n.PolyFillType.pftEvenOdd:case n.PolyFillType.pftNonZero:return 0===t.WindCnt2;case n.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}else switch(r){case n.PolyFillType.pftEvenOdd:case n.PolyFillType.pftNonZero:return 0!==t.WindCnt2;case n.PolyFillType.pftPositive:return t.WindCnt2>0;default:return t.WindCnt2<0}case n.ClipType.ctXor:if(0!==t.WindDelta)return!0;switch(r){case n.PolyFillType.pftEvenOdd:case n.PolyFillType.pftNonZero:return 0===t.WindCnt2;case n.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}}return!0},n.Clipper.prototype.SetWindingCount=function(t){for(var e=t.PrevInAEL;null!==e&&(e.PolyTyp!=t.PolyTyp||0===e.WindDelta);)e=e.PrevInAEL;if(null===e)t.WindCnt=0===t.WindDelta?1:t.WindDelta,t.WindCnt2=0,e=this.m_ActiveEdges;else if(0===t.WindDelta&&this.m_ClipType!=n.ClipType.ctUnion)t.WindCnt=1,t.WindCnt2=e.WindCnt2,e=e.NextInAEL;else if(this.IsEvenOddFillType(t)){if(0===t.WindDelta){for(var r=!0,i=e.PrevInAEL;null!==i;)i.PolyTyp==e.PolyTyp&&0!==i.WindDelta&&(r=!r),i=i.PrevInAEL;t.WindCnt=r?0:1}else t.WindCnt=t.WindDelta;t.WindCnt2=e.WindCnt2,e=e.NextInAEL}else e.WindCnt*e.WindDelta<0?Math.abs(e.WindCnt)>1?e.WindDelta*t.WindDelta<0?t.WindCnt=e.WindCnt:t.WindCnt=e.WindCnt+t.WindDelta:t.WindCnt=0===t.WindDelta?1:t.WindDelta:0===t.WindDelta?t.WindCnt=e.WindCnt<0?e.WindCnt-1:e.WindCnt+1:e.WindDelta*t.WindDelta<0?t.WindCnt=e.WindCnt:t.WindCnt=e.WindCnt+t.WindDelta,t.WindCnt2=e.WindCnt2,e=e.NextInAEL;if(this.IsEvenOddAltFillType(t))for(;e!=t;)0!==e.WindDelta&&(t.WindCnt2=0===t.WindCnt2?1:0),e=e.NextInAEL;else for(;e!=t;)t.WindCnt2+=e.WindDelta,e=e.NextInAEL},n.Clipper.prototype.AddEdgeToSEL=function(t){null===this.m_SortedEdges?(this.m_SortedEdges=t,t.PrevInSEL=null,t.NextInSEL=null):(t.NextInSEL=this.m_SortedEdges,t.PrevInSEL=null,this.m_SortedEdges.PrevInSEL=t,this.m_SortedEdges=t)},n.Clipper.prototype.CopyAELToSEL=function(){var t=this.m_ActiveEdges;for(this.m_SortedEdges=t;null!==t;)t.PrevInSEL=t.PrevInAEL,t.NextInSEL=t.NextInAEL,t=t.NextInAEL},n.Clipper.prototype.SwapPositionsInAEL=function(t,e){if(t.NextInAEL!=t.PrevInAEL&&e.NextInAEL!=e.PrevInAEL){if(t.NextInAEL==e)null!==(n=e.NextInAEL)&&(n.PrevInAEL=t),null!==(r=t.PrevInAEL)&&(r.NextInAEL=e),e.PrevInAEL=r,e.NextInAEL=t,t.PrevInAEL=e,t.NextInAEL=n;else if(e.NextInAEL==t){null!==(n=t.NextInAEL)&&(n.PrevInAEL=e),null!==(r=e.PrevInAEL)&&(r.NextInAEL=t),t.PrevInAEL=r,t.NextInAEL=e,e.PrevInAEL=t,e.NextInAEL=n}else{var n=t.NextInAEL,r=t.PrevInAEL;t.NextInAEL=e.NextInAEL,null!==t.NextInAEL&&(t.NextInAEL.PrevInAEL=t),t.PrevInAEL=e.PrevInAEL,null!==t.PrevInAEL&&(t.PrevInAEL.NextInAEL=t),e.NextInAEL=n,null!==e.NextInAEL&&(e.NextInAEL.PrevInAEL=e),e.PrevInAEL=r,null!==e.PrevInAEL&&(e.PrevInAEL.NextInAEL=e)}null===t.PrevInAEL?this.m_ActiveEdges=t:null===e.PrevInAEL&&(this.m_ActiveEdges=e)}},n.Clipper.prototype.SwapPositionsInSEL=function(t,e){if(!(null===t.NextInSEL&&null===t.PrevInSEL||null===e.NextInSEL&&null===e.PrevInSEL)){if(t.NextInSEL==e)null!==(n=e.NextInSEL)&&(n.PrevInSEL=t),null!==(r=t.PrevInSEL)&&(r.NextInSEL=e),e.PrevInSEL=r,e.NextInSEL=t,t.PrevInSEL=e,t.NextInSEL=n;else if(e.NextInSEL==t){null!==(n=t.NextInSEL)&&(n.PrevInSEL=e),null!==(r=e.PrevInSEL)&&(r.NextInSEL=t),t.PrevInSEL=r,t.NextInSEL=e,e.PrevInSEL=t,e.NextInSEL=n}else{var n=t.NextInSEL,r=t.PrevInSEL;t.NextInSEL=e.NextInSEL,null!==t.NextInSEL&&(t.NextInSEL.PrevInSEL=t),t.PrevInSEL=e.PrevInSEL,null!==t.PrevInSEL&&(t.PrevInSEL.NextInSEL=t),e.NextInSEL=n,null!==e.NextInSEL&&(e.NextInSEL.PrevInSEL=e),e.PrevInSEL=r,null!==e.PrevInSEL&&(e.PrevInSEL.NextInSEL=e)}null===t.PrevInSEL?this.m_SortedEdges=t:null===e.PrevInSEL&&(this.m_SortedEdges=e)}},n.Clipper.prototype.AddLocalMaxPoly=function(t,e,n){this.AddOutPt(t,n),0==e.WindDelta&&this.AddOutPt(e,n),t.OutIdx==e.OutIdx?(t.OutIdx=-1,e.OutIdx=-1):t.OutIdx<e.OutIdx?this.AppendPolygon(t,e):this.AppendPolygon(e,t)},n.Clipper.prototype.AddLocalMinPoly=function(t,e,r){var i,o,a;if(n.ClipperBase.IsHorizontal(e)||t.Dx>e.Dx?(i=this.AddOutPt(t,r),e.OutIdx=t.OutIdx,t.Side=n.EdgeSide.esLeft,e.Side=n.EdgeSide.esRight,a=(o=t).PrevInAEL==e?e.PrevInAEL:o.PrevInAEL):(i=this.AddOutPt(e,r),t.OutIdx=e.OutIdx,t.Side=n.EdgeSide.esRight,e.Side=n.EdgeSide.esLeft,a=(o=e).PrevInAEL==t?t.PrevInAEL:o.PrevInAEL),null!==a&&a.OutIdx>=0&&n.Clipper.TopX(a,r.Y)==n.Clipper.TopX(o,r.Y)&&n.ClipperBase.SlopesEqual(o,a,this.m_UseFullRange)&&0!==o.WindDelta&&0!==a.WindDelta){var s=this.AddOutPt(a,r);this.AddJoin(i,s,o.Top)}return i},n.Clipper.prototype.CreateOutRec=function(){var t=new n.OutRec;return t.Idx=-1,t.IsHole=!1,t.IsOpen=!1,t.FirstLeft=null,t.Pts=null,t.BottomPt=null,t.PolyNode=null,this.m_PolyOuts.push(t),t.Idx=this.m_PolyOuts.length-1,t},n.Clipper.prototype.AddOutPt=function(t,e){var r=t.Side==n.EdgeSide.esLeft;if(t.OutIdx<0){(o=this.CreateOutRec()).IsOpen=0===t.WindDelta;var i=new n.OutPt;return o.Pts=i,i.Idx=o.Idx,i.Pt.X=e.X,i.Pt.Y=e.Y,n.use_xyz&&(i.Pt.Z=e.Z),i.Next=i,i.Prev=i,o.IsOpen||this.SetHoleState(t,o),t.OutIdx=o.Idx,i}var o,a=(o=this.m_PolyOuts[t.OutIdx]).Pts;return r&&n.IntPoint.op_Equality(e,a.Pt)?a:!r&&n.IntPoint.op_Equality(e,a.Prev.Pt)?a.Prev:((i=new n.OutPt).Idx=o.Idx,i.Pt.X=e.X,i.Pt.Y=e.Y,n.use_xyz&&(i.Pt.Z=e.Z),i.Next=a,i.Prev=a.Prev,i.Prev.Next=i,a.Prev=i,r&&(o.Pts=i),i)},n.Clipper.prototype.SwapPoints=function(t,e){var r=new n.IntPoint(t.Value);t.Value.X=e.Value.X,t.Value.Y=e.Value.Y,n.use_xyz&&(t.Value.Z=e.Value.Z),e.Value.X=r.X,e.Value.Y=r.Y,n.use_xyz&&(e.Value.Z=r.Z)},n.Clipper.prototype.HorzSegmentsOverlap=function(t,e,n,r){var i;return t>e&&(i=t,t=e,e=i),n>r&&(i=n,n=r,r=i),t<r&&n<e},n.Clipper.prototype.SetHoleState=function(t,e){for(var n=!1,r=t.PrevInAEL;null!==r;)r.OutIdx>=0&&0!=r.WindDelta&&(n=!n,null===e.FirstLeft&&(e.FirstLeft=this.m_PolyOuts[r.OutIdx])),r=r.PrevInAEL;n&&(e.IsHole=!0)},n.Clipper.prototype.GetDx=function(t,e){return t.Y==e.Y?n.ClipperBase.horizontal:(e.X-t.X)/(e.Y-t.Y)},n.Clipper.prototype.FirstIsBottomPt=function(t,e){for(var r=t.Prev;n.IntPoint.op_Equality(r.Pt,t.Pt)&&r!=t;)r=r.Prev;var i=Math.abs(this.GetDx(t.Pt,r.Pt));for(r=t.Next;n.IntPoint.op_Equality(r.Pt,t.Pt)&&r!=t;)r=r.Next;var o=Math.abs(this.GetDx(t.Pt,r.Pt));for(r=e.Prev;n.IntPoint.op_Equality(r.Pt,e.Pt)&&r!=e;)r=r.Prev;var a=Math.abs(this.GetDx(e.Pt,r.Pt));for(r=e.Next;n.IntPoint.op_Equality(r.Pt,e.Pt)&&r!=e;)r=r.Next;var s=Math.abs(this.GetDx(e.Pt,r.Pt));return i>=a&&i>=s||o>=a&&o>=s},n.Clipper.prototype.GetBottomPt=function(t){for(var e=null,r=t.Next;r!=t;)r.Pt.Y>t.Pt.Y?(t=r,e=null):r.Pt.Y==t.Pt.Y&&r.Pt.X<=t.Pt.X&&(r.Pt.X<t.Pt.X?(e=null,t=r):r.Next!=t&&r.Prev!=t&&(e=r)),r=r.Next;if(null!==e)for(;e!=r;)for(this.FirstIsBottomPt(r,e)||(t=e),e=e.Next;n.IntPoint.op_Inequality(e.Pt,t.Pt);)e=e.Next;return t},n.Clipper.prototype.GetLowermostRec=function(t,e){null===t.BottomPt&&(t.BottomPt=this.GetBottomPt(t.Pts)),null===e.BottomPt&&(e.BottomPt=this.GetBottomPt(e.Pts));var n=t.BottomPt,r=e.BottomPt;return n.Pt.Y>r.Pt.Y?t:n.Pt.Y<r.Pt.Y?e:n.Pt.X<r.Pt.X?t:n.Pt.X>r.Pt.X||n.Next==n?e:r.Next==r||this.FirstIsBottomPt(n,r)?t:e},n.Clipper.prototype.Param1RightOfParam2=function(t,e){do{if((t=t.FirstLeft)==e)return!0}while(null!==t);return!1},n.Clipper.prototype.GetOutRec=function(t){for(var e=this.m_PolyOuts[t];e!=this.m_PolyOuts[e.Idx];)e=this.m_PolyOuts[e.Idx];return e},n.Clipper.prototype.AppendPolygon=function(t,e){var r,i=this.m_PolyOuts[t.OutIdx],o=this.m_PolyOuts[e.OutIdx];r=this.Param1RightOfParam2(i,o)?o:this.Param1RightOfParam2(o,i)?i:this.GetLowermostRec(i,o);var a,s=i.Pts,u=s.Prev,l=o.Pts,h=l.Prev;t.Side==n.EdgeSide.esLeft?(e.Side==n.EdgeSide.esLeft?(this.ReversePolyPtLinks(l),l.Next=s,s.Prev=l,u.Next=h,h.Prev=u,i.Pts=h):(h.Next=s,s.Prev=h,l.Prev=u,u.Next=l,i.Pts=l),a=n.EdgeSide.esLeft):(e.Side==n.EdgeSide.esRight?(this.ReversePolyPtLinks(l),u.Next=h,h.Prev=u,l.Next=s,s.Prev=l):(u.Next=l,l.Prev=u,s.Prev=h,h.Next=s),a=n.EdgeSide.esRight),i.BottomPt=null,r==o&&(o.FirstLeft!=i&&(i.FirstLeft=o.FirstLeft),i.IsHole=o.IsHole),o.Pts=null,o.BottomPt=null,o.FirstLeft=i;var c=t.OutIdx,f=e.OutIdx;t.OutIdx=-1,e.OutIdx=-1;for(var p=this.m_ActiveEdges;null!==p;){if(p.OutIdx==f){p.OutIdx=c,p.Side=a;break}p=p.NextInAEL}o.Idx=i.Idx},n.Clipper.prototype.ReversePolyPtLinks=function(t){if(null!==t){var e,n;e=t;do{n=e.Next,e.Next=e.Prev,e.Prev=n,e=n}while(e!=t)}},n.Clipper.SwapSides=function(t,e){var n=t.Side;t.Side=e.Side,e.Side=n},n.Clipper.SwapPolyIndexes=function(t,e){var n=t.OutIdx;t.OutIdx=e.OutIdx,e.OutIdx=n},n.Clipper.prototype.IntersectEdges=function(t,e,r){var i=t.OutIdx>=0,o=e.OutIdx>=0;if(n.use_xyz&&this.SetZ(r,t,e),!n.use_lines||0!==t.WindDelta&&0!==e.WindDelta){if(t.PolyTyp==e.PolyTyp)if(this.IsEvenOddFillType(t)){var a=t.WindCnt;t.WindCnt=e.WindCnt,e.WindCnt=a}else t.WindCnt+e.WindDelta===0?t.WindCnt=-t.WindCnt:t.WindCnt+=e.WindDelta,e.WindCnt-t.WindDelta==0?e.WindCnt=-e.WindCnt:e.WindCnt-=t.WindDelta;else this.IsEvenOddFillType(e)?t.WindCnt2=0===t.WindCnt2?1:0:t.WindCnt2+=e.WindDelta,this.IsEvenOddFillType(t)?e.WindCnt2=0===e.WindCnt2?1:0:e.WindCnt2-=t.WindDelta;var s,u,l,h,c,f;switch(t.PolyTyp==n.PolyType.ptSubject?(s=this.m_SubjFillType,l=this.m_ClipFillType):(s=this.m_ClipFillType,l=this.m_SubjFillType),e.PolyTyp==n.PolyType.ptSubject?(u=this.m_SubjFillType,h=this.m_ClipFillType):(u=this.m_ClipFillType,h=this.m_SubjFillType),s){case n.PolyFillType.pftPositive:c=t.WindCnt;break;case n.PolyFillType.pftNegative:c=-t.WindCnt;break;default:c=Math.abs(t.WindCnt)}switch(u){case n.PolyFillType.pftPositive:f=e.WindCnt;break;case n.PolyFillType.pftNegative:f=-e.WindCnt;break;default:f=Math.abs(e.WindCnt)}if(i&&o)0!=c&&1!=c||0!=f&&1!=f||t.PolyTyp!=e.PolyTyp&&this.m_ClipType!=n.ClipType.ctXor?this.AddLocalMaxPoly(t,e,r):(this.AddOutPt(t,r),this.AddOutPt(e,r),n.Clipper.SwapSides(t,e),n.Clipper.SwapPolyIndexes(t,e));else if(i)0!==f&&1!=f||(this.AddOutPt(t,r),n.Clipper.SwapSides(t,e),n.Clipper.SwapPolyIndexes(t,e));else if(o)0!==c&&1!=c||(this.AddOutPt(e,r),n.Clipper.SwapSides(t,e),n.Clipper.SwapPolyIndexes(t,e));else if(!(0!=c&&1!=c||0!=f&&1!=f)){var p,d;switch(l){case n.PolyFillType.pftPositive:p=t.WindCnt2;break;case n.PolyFillType.pftNegative:p=-t.WindCnt2;break;default:p=Math.abs(t.WindCnt2)}switch(h){case n.PolyFillType.pftPositive:d=e.WindCnt2;break;case n.PolyFillType.pftNegative:d=-e.WindCnt2;break;default:d=Math.abs(e.WindCnt2)}if(t.PolyTyp!=e.PolyTyp)this.AddLocalMinPoly(t,e,r);else if(1==c&&1==f)switch(this.m_ClipType){case n.ClipType.ctIntersection:p>0&&d>0&&this.AddLocalMinPoly(t,e,r);break;case n.ClipType.ctUnion:p<=0&&d<=0&&this.AddLocalMinPoly(t,e,r);break;case n.ClipType.ctDifference:(t.PolyTyp==n.PolyType.ptClip&&p>0&&d>0||t.PolyTyp==n.PolyType.ptSubject&&p<=0&&d<=0)&&this.AddLocalMinPoly(t,e,r);break;case n.ClipType.ctXor:this.AddLocalMinPoly(t,e,r)}else n.Clipper.SwapSides(t,e)}}else{if(0==t.WindDelta&&0==e.WindDelta)return;t.PolyTyp==e.PolyTyp&&t.WindDelta!=e.WindDelta&&this.m_ClipType==n.ClipType.ctUnion?0===t.WindDelta?o&&(this.AddOutPt(t,r),i&&(t.OutIdx=-1)):i&&(this.AddOutPt(e,r),o&&(e.OutIdx=-1)):t.PolyTyp!=e.PolyTyp&&(0!==t.WindDelta||1!=Math.abs(e.WindCnt)||this.m_ClipType==n.ClipType.ctUnion&&0!==e.WindCnt2?0!==e.WindDelta||1!=Math.abs(t.WindCnt)||this.m_ClipType==n.ClipType.ctUnion&&0!==t.WindCnt2||(this.AddOutPt(e,r),o&&(e.OutIdx=-1)):(this.AddOutPt(t,r),i&&(t.OutIdx=-1)))}},n.Clipper.prototype.DeleteFromAEL=function(t){var e=t.PrevInAEL,n=t.NextInAEL;null===e&&null===n&&t!=this.m_ActiveEdges||(null!==e?e.NextInAEL=n:this.m_ActiveEdges=n,null!==n&&(n.PrevInAEL=e),t.NextInAEL=null,t.PrevInAEL=null)},n.Clipper.prototype.DeleteFromSEL=function(t){var e=t.PrevInSEL,n=t.NextInSEL;null===e&&null===n&&t!=this.m_SortedEdges||(null!==e?e.NextInSEL=n:this.m_SortedEdges=n,null!==n&&(n.PrevInSEL=e),t.NextInSEL=null,t.PrevInSEL=null)},n.Clipper.prototype.UpdateEdgeIntoAEL=function(t){null===t.NextInLML&&n.Error("UpdateEdgeIntoAEL: invalid call");var e=t.PrevInAEL,r=t.NextInAEL;return t.NextInLML.OutIdx=t.OutIdx,null!==e?e.NextInAEL=t.NextInLML:this.m_ActiveEdges=t.NextInLML,null!==r&&(r.PrevInAEL=t.NextInLML),t.NextInLML.Side=t.Side,t.NextInLML.WindDelta=t.WindDelta,t.NextInLML.WindCnt=t.WindCnt,t.NextInLML.WindCnt2=t.WindCnt2,(t=t.NextInLML).Curr.X=t.Bot.X,t.Curr.Y=t.Bot.Y,n.use_xyz&&(t.Curr.Z=t.Bot.Z),t.PrevInAEL=e,t.NextInAEL=r,n.ClipperBase.IsHorizontal(t)||this.InsertScanbeam(t.Top.Y),t},n.Clipper.prototype.ProcessHorizontals=function(t){for(var e=this.m_SortedEdges;null!==e;)this.DeleteFromSEL(e),this.ProcessHorizontal(e,t),e=this.m_SortedEdges},n.Clipper.prototype.GetHorzDirection=function(t,e){t.Bot.X<t.Top.X?(e.Left=t.Bot.X,e.Right=t.Top.X,e.Dir=n.Direction.dLeftToRight):(e.Left=t.Top.X,e.Right=t.Bot.X,e.Dir=n.Direction.dRightToLeft)},n.Clipper.prototype.ProcessHorizontal=function(t,e){var r={Dir:null,Left:null,Right:null};this.GetHorzDirection(t,r);for(var i=r.Dir,o=r.Left,a=r.Right,s=t,u=null;null!==s.NextInLML&&n.ClipperBase.IsHorizontal(s.NextInLML);)s=s.NextInLML;for(null===s.NextInLML&&(u=this.GetMaximaPair(s));;){for(var l=t==s,h=this.GetNextInAEL(t,i);null!==h&&!(h.Curr.X==t.Top.X&&null!==t.NextInLML&&h.Dx<t.NextInLML.Dx);){var c=this.GetNextInAEL(h,i);if(i==n.Direction.dLeftToRight&&h.Curr.X<=a||i==n.Direction.dRightToLeft&&h.Curr.X>=o){if(h==u&&l){if(t.OutIdx>=0){for(var f=this.AddOutPt(t,t.Top),p=this.m_SortedEdges;null!==p;){if(p.OutIdx>=0&&this.HorzSegmentsOverlap(t.Bot.X,t.Top.X,p.Bot.X,p.Top.X)){var d=this.AddOutPt(p,p.Bot);this.AddJoin(d,f,p.Top)}p=p.NextInSEL}this.AddGhostJoin(f,t.Bot),this.AddLocalMaxPoly(t,u,t.Top)}return this.DeleteFromAEL(t),void this.DeleteFromAEL(u)}if(i==n.Direction.dLeftToRight){var m=new n.IntPoint(h.Curr.X,t.Curr.Y);this.IntersectEdges(t,h,m)}else{m=new n.IntPoint(h.Curr.X,t.Curr.Y);this.IntersectEdges(h,t,m)}this.SwapPositionsInAEL(t,h)}else if(i==n.Direction.dLeftToRight&&h.Curr.X>=a||i==n.Direction.dRightToLeft&&h.Curr.X<=o)break;h=c}if(null===t.NextInLML||!n.ClipperBase.IsHorizontal(t.NextInLML))break;(t=this.UpdateEdgeIntoAEL(t)).OutIdx>=0&&this.AddOutPt(t,t.Bot);r={Dir:i,Left:o,Right:a};this.GetHorzDirection(t,r),i=r.Dir,o=r.Left,a=r.Right}if(null!==t.NextInLML)if(t.OutIdx>=0){f=this.AddOutPt(t,t.Top);if(e&&this.AddGhostJoin(f,t.Bot),0===(t=this.UpdateEdgeIntoAEL(t)).WindDelta)return;var y=t.PrevInAEL;c=t.NextInAEL;if(null!==y&&y.Curr.X==t.Bot.X&&y.Curr.Y==t.Bot.Y&&0!==y.WindDelta&&y.OutIdx>=0&&y.Curr.Y>y.Top.Y&&n.ClipperBase.SlopesEqual(t,y,this.m_UseFullRange)){d=this.AddOutPt(y,t.Bot);this.AddJoin(f,d,t.Top)}else if(null!==c&&c.Curr.X==t.Bot.X&&c.Curr.Y==t.Bot.Y&&0!==c.WindDelta&&c.OutIdx>=0&&c.Curr.Y>c.Top.Y&&n.ClipperBase.SlopesEqual(t,c,this.m_UseFullRange)){d=this.AddOutPt(c,t.Bot);this.AddJoin(f,d,t.Top)}}else t=this.UpdateEdgeIntoAEL(t);else t.OutIdx>=0&&this.AddOutPt(t,t.Top),this.DeleteFromAEL(t)},n.Clipper.prototype.GetNextInAEL=function(t,e){return e==n.Direction.dLeftToRight?t.NextInAEL:t.PrevInAEL},n.Clipper.prototype.IsMinima=function(t){return null!==t&&t.Prev.NextInLML!=t&&t.Next.NextInLML!=t},n.Clipper.prototype.IsMaxima=function(t,e){return null!==t&&t.Top.Y==e&&null===t.NextInLML},n.Clipper.prototype.IsIntermediate=function(t,e){return t.Top.Y==e&&null!==t.NextInLML},n.Clipper.prototype.GetMaximaPair=function(t){var e=null;return n.IntPoint.op_Equality(t.Next.Top,t.Top)&&null===t.Next.NextInLML?e=t.Next:n.IntPoint.op_Equality(t.Prev.Top,t.Top)&&null===t.Prev.NextInLML&&(e=t.Prev),null===e||-2!=e.OutIdx&&(e.NextInAEL!=e.PrevInAEL||n.ClipperBase.IsHorizontal(e))?e:null},n.Clipper.prototype.ProcessIntersections=function(t){if(null==this.m_ActiveEdges)return!0;try{if(this.BuildIntersectList(t),0==this.m_IntersectList.length)return!0;if(1!=this.m_IntersectList.length&&!this.FixupIntersectionOrder())return!1;this.ProcessIntersectList()}catch(t){this.m_SortedEdges=null,this.m_IntersectList.length=0,n.Error("ProcessIntersections error")}return this.m_SortedEdges=null,!0},n.Clipper.prototype.BuildIntersectList=function(t){if(null!==this.m_ActiveEdges){var e=this.m_ActiveEdges;for(this.m_SortedEdges=e;null!==e;)e.PrevInSEL=e.PrevInAEL,e.NextInSEL=e.NextInAEL,e.Curr.X=n.Clipper.TopX(e,t),e=e.NextInAEL;for(var r=!0;r&&null!==this.m_SortedEdges;){for(r=!1,e=this.m_SortedEdges;null!==e.NextInSEL;){var i=e.NextInSEL,o=new n.IntPoint;if(e.Curr.X>i.Curr.X){this.IntersectPoint(e,i,o);var a=new n.IntersectNode;a.Edge1=e,a.Edge2=i,a.Pt.X=o.X,a.Pt.Y=o.Y,n.use_xyz&&(a.Pt.Z=o.Z),this.m_IntersectList.push(a),this.SwapPositionsInSEL(e,i),r=!0}else e=i}if(null===e.PrevInSEL)break;e.PrevInSEL.NextInSEL=null}this.m_SortedEdges=null}},n.Clipper.prototype.EdgesAdjacent=function(t){return t.Edge1.NextInSEL==t.Edge2||t.Edge1.PrevInSEL==t.Edge2},n.Clipper.IntersectNodeSort=function(t,e){return e.Pt.Y-t.Pt.Y},n.Clipper.prototype.FixupIntersectionOrder=function(){this.m_IntersectList.sort(this.m_IntersectNodeComparer),this.CopyAELToSEL();for(var t=this.m_IntersectList.length,e=0;e<t;e++){if(!this.EdgesAdjacent(this.m_IntersectList[e])){for(var n=e+1;n<t&&!this.EdgesAdjacent(this.m_IntersectList[n]);)n++;if(n==t)return!1;var r=this.m_IntersectList[e];this.m_IntersectList[e]=this.m_IntersectList[n],this.m_IntersectList[n]=r}this.SwapPositionsInSEL(this.m_IntersectList[e].Edge1,this.m_IntersectList[e].Edge2)}return!0},n.Clipper.prototype.ProcessIntersectList=function(){for(var t=0,e=this.m_IntersectList.length;t<e;t++){var n=this.m_IntersectList[t];this.IntersectEdges(n.Edge1,n.Edge2,n.Pt),this.SwapPositionsInAEL(n.Edge1,n.Edge2)}this.m_IntersectList.length=0};a.msie?n.Clipper.Round=function(t){return t<0?Math.ceil(t-.5):Math.round(t)}:a.chromium?n.Clipper.Round=function(t){return t<0?-Math.round(Math.abs(t)):Math.round(t)}:a.safari?n.Clipper.Round=function(t){return t<0?(t-=.5)<-2147483648?Math.ceil(t):0|t:(t+=.5)>2147483647?Math.floor(t):0|t}:n.Clipper.Round=function(t){return t<0?Math.ceil(t-.5):Math.floor(t+.5)},n.Clipper.TopX=function(t,e){return e==t.Top.Y?t.Top.X:t.Bot.X+n.Clipper.Round(t.Dx*(e-t.Bot.Y))},n.Clipper.prototype.IntersectPoint=function(t,e,r){var i,o;if(r.X=0,r.Y=0,t.Dx==e.Dx)return r.Y=t.Curr.Y,void(r.X=n.Clipper.TopX(t,r.Y));if(0===t.Delta.X)r.X=t.Bot.X,n.ClipperBase.IsHorizontal(e)?r.Y=e.Bot.Y:(o=e.Bot.Y-e.Bot.X/e.Dx,r.Y=n.Clipper.Round(r.X/e.Dx+o));else if(0===e.Delta.X)r.X=e.Bot.X,n.ClipperBase.IsHorizontal(t)?r.Y=t.Bot.Y:(i=t.Bot.Y-t.Bot.X/t.Dx,r.Y=n.Clipper.Round(r.X/t.Dx+i));else{i=t.Bot.X-t.Bot.Y*t.Dx;var a=((o=e.Bot.X-e.Bot.Y*e.Dx)-i)/(t.Dx-e.Dx);r.Y=n.Clipper.Round(a),Math.abs(t.Dx)<Math.abs(e.Dx)?r.X=n.Clipper.Round(t.Dx*a+i):r.X=n.Clipper.Round(e.Dx*a+o)}if(r.Y<t.Top.Y||r.Y<e.Top.Y){if(t.Top.Y>e.Top.Y)return r.Y=t.Top.Y,r.X=n.Clipper.TopX(e,t.Top.Y),r.X<t.Top.X;r.Y=e.Top.Y,Math.abs(t.Dx)<Math.abs(e.Dx)?r.X=n.Clipper.TopX(t,r.Y):r.X=n.Clipper.TopX(e,r.Y)}r.Y>t.Curr.Y&&(r.Y=t.Curr.Y,Math.abs(t.Dx)>Math.abs(e.Dx)?r.X=n.Clipper.TopX(e,r.Y):r.X=n.Clipper.TopX(t,r.Y))},n.Clipper.prototype.ProcessEdgesAtTopOfScanbeam=function(t){for(var e=this.m_ActiveEdges;null!==e;){var r=this.IsMaxima(e,t);if(r){var i=this.GetMaximaPair(e);r=null===i||!n.ClipperBase.IsHorizontal(i)}if(r){var o=e.PrevInAEL;this.DoMaxima(e),e=null===o?this.m_ActiveEdges:o.NextInAEL}else{if(this.IsIntermediate(e,t)&&n.ClipperBase.IsHorizontal(e.NextInLML)?((e=this.UpdateEdgeIntoAEL(e)).OutIdx>=0&&this.AddOutPt(e,e.Bot),this.AddEdgeToSEL(e)):(e.Curr.X=n.Clipper.TopX(e,t),e.Curr.Y=t),this.StrictlySimple){o=e.PrevInAEL;if(e.OutIdx>=0&&0!==e.WindDelta&&null!==o&&o.OutIdx>=0&&o.Curr.X==e.Curr.X&&0!==o.WindDelta){var a=new n.IntPoint(e.Curr);n.use_xyz&&this.SetZ(a,o,e);var s=this.AddOutPt(o,a),u=this.AddOutPt(e,a);this.AddJoin(s,u,a)}}e=e.NextInAEL}}for(this.ProcessHorizontals(!0),e=this.m_ActiveEdges;null!==e;){if(this.IsIntermediate(e,t)){s=null;e.OutIdx>=0&&(s=this.AddOutPt(e,e.Top));o=(e=this.UpdateEdgeIntoAEL(e)).PrevInAEL;var l=e.NextInAEL;if(null!==o&&o.Curr.X==e.Bot.X&&o.Curr.Y==e.Bot.Y&&null!==s&&o.OutIdx>=0&&o.Curr.Y>o.Top.Y&&n.ClipperBase.SlopesEqual(e,o,this.m_UseFullRange)&&0!==e.WindDelta&&0!==o.WindDelta){u=this.AddOutPt(o,e.Bot);this.AddJoin(s,u,e.Top)}else if(null!==l&&l.Curr.X==e.Bot.X&&l.Curr.Y==e.Bot.Y&&null!==s&&l.OutIdx>=0&&l.Curr.Y>l.Top.Y&&n.ClipperBase.SlopesEqual(e,l,this.m_UseFullRange)&&0!==e.WindDelta&&0!==l.WindDelta){u=this.AddOutPt(l,e.Bot);this.AddJoin(s,u,e.Top)}}e=e.NextInAEL}},n.Clipper.prototype.DoMaxima=function(t){var e=this.GetMaximaPair(t);if(null===e)return t.OutIdx>=0&&this.AddOutPt(t,t.Top),void this.DeleteFromAEL(t);for(var r=t.NextInAEL;null!==r&&r!=e;)this.IntersectEdges(t,r,t.Top),this.SwapPositionsInAEL(t,r),r=t.NextInAEL;-1==t.OutIdx&&-1==e.OutIdx?(this.DeleteFromAEL(t),this.DeleteFromAEL(e)):t.OutIdx>=0&&e.OutIdx>=0?(t.OutIdx>=0&&this.AddLocalMaxPoly(t,e,t.Top),this.DeleteFromAEL(t),this.DeleteFromAEL(e)):n.use_lines&&0===t.WindDelta?(t.OutIdx>=0&&(this.AddOutPt(t,t.Top),t.OutIdx=-1),this.DeleteFromAEL(t),e.OutIdx>=0&&(this.AddOutPt(e,t.Top),e.OutIdx=-1),this.DeleteFromAEL(e)):n.Error("DoMaxima error")},n.Clipper.ReversePaths=function(t){for(var e=0,n=t.length;e<n;e++)t[e].reverse()},n.Clipper.Orientation=function(t){return n.Clipper.Area(t)>=0},n.Clipper.prototype.PointCount=function(t){if(null===t)return 0;var e=0,n=t;do{e++,n=n.Next}while(n!=t);return e},n.Clipper.prototype.BuildResult=function(t){n.Clear(t);for(var e=0,r=this.m_PolyOuts.length;e<r;e++){var i=this.m_PolyOuts[e];if(null!==i.Pts){var o=i.Pts.Prev,a=this.PointCount(o);if(!(a<2)){for(var s=new Array(a),u=0;u<a;u++)s[u]=o.Pt,o=o.Prev;t.push(s)}}}},n.Clipper.prototype.BuildResult2=function(t){t.Clear();for(var e=0,r=this.m_PolyOuts.length;e<r;e++){var i=this.m_PolyOuts[e],o=this.PointCount(i.Pts);if(!(i.IsOpen&&o<2||!i.IsOpen&&o<3)){this.FixHoleLinkage(i);var a=new n.PolyNode;t.m_AllPolys.push(a),i.PolyNode=a,a.m_polygon.length=o;for(var s=i.Pts.Prev,u=0;u<o;u++)a.m_polygon[u]=s.Pt,s=s.Prev}}for(e=0,r=this.m_PolyOuts.length;e<r;e++){null!==(i=this.m_PolyOuts[e]).PolyNode&&(i.IsOpen?(i.PolyNode.IsOpen=!0,t.AddChild(i.PolyNode)):null!==i.FirstLeft&&null!=i.FirstLeft.PolyNode?i.FirstLeft.PolyNode.AddChild(i.PolyNode):t.AddChild(i.PolyNode))}},n.Clipper.prototype.FixupOutPolygon=function(t){var e=null;t.BottomPt=null;for(var r=t.Pts;;){if(r.Prev==r||r.Prev==r.Next)return void(t.Pts=null);if(n.IntPoint.op_Equality(r.Pt,r.Next.Pt)||n.IntPoint.op_Equality(r.Pt,r.Prev.Pt)||n.ClipperBase.SlopesEqual(r.Prev.Pt,r.Pt,r.Next.Pt,this.m_UseFullRange)&&(!this.PreserveCollinear||!this.Pt2IsBetweenPt1AndPt3(r.Prev.Pt,r.Pt,r.Next.Pt)))e=null,r.Prev.Next=r.Next,r.Next.Prev=r.Prev,r=r.Prev;else{if(r==e)break;null===e&&(e=r),r=r.Next}}t.Pts=r},n.Clipper.prototype.DupOutPt=function(t,e){var r=new n.OutPt;return r.Pt.X=t.Pt.X,r.Pt.Y=t.Pt.Y,n.use_xyz&&(r.Pt.Z=t.Pt.Z),r.Idx=t.Idx,e?(r.Next=t.Next,r.Prev=t,t.Next.Prev=r,t.Next=r):(r.Prev=t.Prev,r.Next=t,t.Prev.Next=r,t.Prev=r),r},n.Clipper.prototype.GetOverlap=function(t,e,n,r,i){return t<e?n<r?(i.Left=Math.max(t,n),i.Right=Math.min(e,r)):(i.Left=Math.max(t,r),i.Right=Math.min(e,n)):n<r?(i.Left=Math.max(e,n),i.Right=Math.min(t,r)):(i.Left=Math.max(e,r),i.Right=Math.min(t,n)),i.Left<i.Right},n.Clipper.prototype.JoinHorz=function(t,e,r,i,o,a){var s=t.Pt.X>e.Pt.X?n.Direction.dRightToLeft:n.Direction.dLeftToRight,u=r.Pt.X>i.Pt.X?n.Direction.dRightToLeft:n.Direction.dLeftToRight;if(s==u)return!1;if(s==n.Direction.dLeftToRight){for(;t.Next.Pt.X<=o.X&&t.Next.Pt.X>=t.Pt.X&&t.Next.Pt.Y==o.Y;)t=t.Next;a&&t.Pt.X!=o.X&&(t=t.Next),e=this.DupOutPt(t,!a),n.IntPoint.op_Inequality(e.Pt,o)&&((t=e).Pt.X=o.X,t.Pt.Y=o.Y,n.use_xyz&&(t.Pt.Z=o.Z),e=this.DupOutPt(t,!a))}else{for(;t.Next.Pt.X>=o.X&&t.Next.Pt.X<=t.Pt.X&&t.Next.Pt.Y==o.Y;)t=t.Next;a||t.Pt.X==o.X||(t=t.Next),e=this.DupOutPt(t,a),n.IntPoint.op_Inequality(e.Pt,o)&&((t=e).Pt.X=o.X,t.Pt.Y=o.Y,n.use_xyz&&(t.Pt.Z=o.Z),e=this.DupOutPt(t,a))}if(u==n.Direction.dLeftToRight){for(;r.Next.Pt.X<=o.X&&r.Next.Pt.X>=r.Pt.X&&r.Next.Pt.Y==o.Y;)r=r.Next;a&&r.Pt.X!=o.X&&(r=r.Next),i=this.DupOutPt(r,!a),n.IntPoint.op_Inequality(i.Pt,o)&&((r=i).Pt.X=o.X,r.Pt.Y=o.Y,n.use_xyz&&(r.Pt.Z=o.Z),i=this.DupOutPt(r,!a))}else{for(;r.Next.Pt.X>=o.X&&r.Next.Pt.X<=r.Pt.X&&r.Next.Pt.Y==o.Y;)r=r.Next;a||r.Pt.X==o.X||(r=r.Next),i=this.DupOutPt(r,a),n.IntPoint.op_Inequality(i.Pt,o)&&((r=i).Pt.X=o.X,r.Pt.Y=o.Y,n.use_xyz&&(r.Pt.Z=o.Z),i=this.DupOutPt(r,a))}return s==n.Direction.dLeftToRight==a?(t.Prev=r,r.Next=t,e.Next=i,i.Prev=e):(t.Next=r,r.Prev=t,e.Prev=i,i.Next=e),!0},n.Clipper.prototype.JoinPoints=function(t,e,r){var i=t.OutPt1,o=new n.OutPt,a=t.OutPt2,s=new n.OutPt,u=t.OutPt1.Pt.Y==t.OffPt.Y;if(u&&n.IntPoint.op_Equality(t.OffPt,t.OutPt1.Pt)&&n.IntPoint.op_Equality(t.OffPt,t.OutPt2.Pt)){if(e!=r)return!1;for(o=t.OutPt1.Next;o!=i&&n.IntPoint.op_Equality(o.Pt,t.OffPt);)o=o.Next;var l=o.Pt.Y>t.OffPt.Y;for(s=t.OutPt2.Next;s!=a&&n.IntPoint.op_Equality(s.Pt,t.OffPt);)s=s.Next;return l!=s.Pt.Y>t.OffPt.Y&&(l?(o=this.DupOutPt(i,!1),s=this.DupOutPt(a,!0),i.Prev=a,a.Next=i,o.Next=s,s.Prev=o,t.OutPt1=i,t.OutPt2=o,!0):(o=this.DupOutPt(i,!0),s=this.DupOutPt(a,!1),i.Next=a,a.Prev=i,o.Prev=s,s.Next=o,t.OutPt1=i,t.OutPt2=o,!0))}if(u){for(o=i;i.Prev.Pt.Y==i.Pt.Y&&i.Prev!=o&&i.Prev!=a;)i=i.Prev;for(;o.Next.Pt.Y==o.Pt.Y&&o.Next!=i&&o.Next!=a;)o=o.Next;if(o.Next==i||o.Next==a)return!1;for(s=a;a.Prev.Pt.Y==a.Pt.Y&&a.Prev!=s&&a.Prev!=o;)a=a.Prev;for(;s.Next.Pt.Y==s.Pt.Y&&s.Next!=a&&s.Next!=i;)s=s.Next;if(s.Next==a||s.Next==i)return!1;var h={Left:null,Right:null};if(!this.GetOverlap(i.Pt.X,o.Pt.X,a.Pt.X,s.Pt.X,h))return!1;var c,f=h.Left,p=h.Right,d=new n.IntPoint;return i.Pt.X>=f&&i.Pt.X<=p?(d.X=i.Pt.X,d.Y=i.Pt.Y,n.use_xyz&&(d.Z=i.Pt.Z),c=i.Pt.X>o.Pt.X):a.Pt.X>=f&&a.Pt.X<=p?(d.X=a.Pt.X,d.Y=a.Pt.Y,n.use_xyz&&(d.Z=a.Pt.Z),c=a.Pt.X>s.Pt.X):o.Pt.X>=f&&o.Pt.X<=p?(d.X=o.Pt.X,d.Y=o.Pt.Y,n.use_xyz&&(d.Z=o.Pt.Z),c=o.Pt.X>i.Pt.X):(d.X=s.Pt.X,d.Y=s.Pt.Y,n.use_xyz&&(d.Z=s.Pt.Z),c=s.Pt.X>a.Pt.X),t.OutPt1=i,t.OutPt2=a,this.JoinHorz(i,o,a,s,d,c)}for(o=i.Next;n.IntPoint.op_Equality(o.Pt,i.Pt)&&o!=i;)o=o.Next;var m=o.Pt.Y>i.Pt.Y||!n.ClipperBase.SlopesEqual(i.Pt,o.Pt,t.OffPt,this.m_UseFullRange);if(m){for(o=i.Prev;n.IntPoint.op_Equality(o.Pt,i.Pt)&&o!=i;)o=o.Prev;if(o.Pt.Y>i.Pt.Y||!n.ClipperBase.SlopesEqual(i.Pt,o.Pt,t.OffPt,this.m_UseFullRange))return!1}for(s=a.Next;n.IntPoint.op_Equality(s.Pt,a.Pt)&&s!=a;)s=s.Next;var y=s.Pt.Y>a.Pt.Y||!n.ClipperBase.SlopesEqual(a.Pt,s.Pt,t.OffPt,this.m_UseFullRange);if(y){for(s=a.Prev;n.IntPoint.op_Equality(s.Pt,a.Pt)&&s!=a;)s=s.Prev;if(s.Pt.Y>a.Pt.Y||!n.ClipperBase.SlopesEqual(a.Pt,s.Pt,t.OffPt,this.m_UseFullRange))return!1}return o!=i&&s!=a&&o!=s&&(e!=r||m!=y)&&(m?(o=this.DupOutPt(i,!1),s=this.DupOutPt(a,!0),i.Prev=a,a.Next=i,o.Next=s,s.Prev=o,t.OutPt1=i,t.OutPt2=o,!0):(o=this.DupOutPt(i,!0),s=this.DupOutPt(a,!1),i.Next=a,a.Prev=i,o.Prev=s,s.Next=o,t.OutPt1=i,t.OutPt2=o,!0))},n.Clipper.GetBounds=function(t){for(var e=0,r=t.length;e<r&&0==t[e].length;)e++;if(e==r)return new n.IntRect(0,0,0,0);var i=new n.IntRect;for(i.left=t[e][0].X,i.right=i.left,i.top=t[e][0].Y,i.bottom=i.top;e<r;e++)for(var o=0,a=t[e].length;o<a;o++)t[e][o].X<i.left?i.left=t[e][o].X:t[e][o].X>i.right&&(i.right=t[e][o].X),t[e][o].Y<i.top?i.top=t[e][o].Y:t[e][o].Y>i.bottom&&(i.bottom=t[e][o].Y);return i},n.Clipper.prototype.GetBounds2=function(t){var e=t,r=new n.IntRect;for(r.left=t.Pt.X,r.right=t.Pt.X,r.top=t.Pt.Y,r.bottom=t.Pt.Y,t=t.Next;t!=e;)t.Pt.X<r.left&&(r.left=t.Pt.X),t.Pt.X>r.right&&(r.right=t.Pt.X),t.Pt.Y<r.top&&(r.top=t.Pt.Y),t.Pt.Y>r.bottom&&(r.bottom=t.Pt.Y),t=t.Next;return r},n.Clipper.PointInPolygon=function(t,e){var n=0,r=e.length;if(r<3)return 0;for(var i=e[0],o=1;o<=r;++o){var a=o==r?e[0]:e[o];if(a.Y==t.Y&&(a.X==t.X||i.Y==t.Y&&a.X>t.X==i.X<t.X))return-1;if(i.Y<t.Y!=a.Y<t.Y)if(i.X>=t.X)if(a.X>t.X)n=1-n;else{if(0==(s=(i.X-t.X)*(a.Y-t.Y)-(a.X-t.X)*(i.Y-t.Y)))return-1;s>0==a.Y>i.Y&&(n=1-n)}else if(a.X>t.X){var s;if(0==(s=(i.X-t.X)*(a.Y-t.Y)-(a.X-t.X)*(i.Y-t.Y)))return-1;s>0==a.Y>i.Y&&(n=1-n)}i=a}return n},n.Clipper.prototype.PointInPolygon=function(t,e){var n=0,r=e,i=t.X,o=t.Y,a=e.Pt.X,s=e.Pt.Y;do{var u=(e=e.Next).Pt.X,l=e.Pt.Y;if(l==o&&(u==i||s==o&&u>i==a<i))return-1;if(s<o!=l<o)if(a>=i)if(u>i)n=1-n;else{if(0==(h=(a-i)*(l-o)-(u-i)*(s-o)))return-1;h>0==l>s&&(n=1-n)}else if(u>i){var h;if(0==(h=(a-i)*(l-o)-(u-i)*(s-o)))return-1;h>0==l>s&&(n=1-n)}a=u,s=l}while(r!=e);return n},n.Clipper.prototype.Poly2ContainsPoly1=function(t,e){var n=t;do{var r=this.PointInPolygon(n.Pt,e);if(r>=0)return r>0;n=n.Next}while(n!=t);return!0},n.Clipper.prototype.FixupFirstLefts1=function(t,e){for(var n=0,r=this.m_PolyOuts.length;n<r;n++){var i=this.m_PolyOuts[n];if(null!=i.Pts&&null!=i.FirstLeft)this.ParseFirstLeft(i.FirstLeft)==t&&this.Poly2ContainsPoly1(i.Pts,e.Pts)&&(i.FirstLeft=e)}},n.Clipper.prototype.FixupFirstLefts2=function(t,e){for(var n=0,r=this.m_PolyOuts,i=r.length,o=r[n];n<i;o=r[++n])o.FirstLeft==t&&(o.FirstLeft=e)},n.Clipper.ParseFirstLeft=function(t){for(;null!=t&&null==t.Pts;)t=t.FirstLeft;return t},n.Clipper.prototype.JoinCommonEdges=function(){for(var t=0,e=this.m_Joins.length;t<e;t++){var r,i=this.m_Joins[t],o=this.GetOutRec(i.OutPt1.Idx),a=this.GetOutRec(i.OutPt2.Idx);if(null!=o.Pts&&null!=a.Pts)if(r=o==a?o:this.Param1RightOfParam2(o,a)?a:this.Param1RightOfParam2(a,o)?o:this.GetLowermostRec(o,a),this.JoinPoints(i,o,a))if(o==a){if(o.Pts=i.OutPt1,o.BottomPt=null,(a=this.CreateOutRec()).Pts=i.OutPt2,this.UpdateOutPtIdxs(a),this.m_UsingPolyTree)for(var s=0,u=this.m_PolyOuts.length;s<u-1;s++){var l=this.m_PolyOuts[s];null!=l.Pts&&n.Clipper.ParseFirstLeft(l.FirstLeft)==o&&l.IsHole!=o.IsHole&&(this.Poly2ContainsPoly1(l.Pts,i.OutPt2)&&(l.FirstLeft=a))}this.Poly2ContainsPoly1(a.Pts,o.Pts)?(a.IsHole=!o.IsHole,a.FirstLeft=o,this.m_UsingPolyTree&&this.FixupFirstLefts2(a,o),(a.IsHole^this.ReverseSolution)==this.Area(a)>0&&this.ReversePolyPtLinks(a.Pts)):this.Poly2ContainsPoly1(o.Pts,a.Pts)?(a.IsHole=o.IsHole,o.IsHole=!a.IsHole,a.FirstLeft=o.FirstLeft,o.FirstLeft=a,this.m_UsingPolyTree&&this.FixupFirstLefts2(o,a),(o.IsHole^this.ReverseSolution)==this.Area(o)>0&&this.ReversePolyPtLinks(o.Pts)):(a.IsHole=o.IsHole,a.FirstLeft=o.FirstLeft,this.m_UsingPolyTree&&this.FixupFirstLefts1(o,a))}else a.Pts=null,a.BottomPt=null,a.Idx=o.Idx,o.IsHole=r.IsHole,r==a&&(o.FirstLeft=a.FirstLeft),a.FirstLeft=o,this.m_UsingPolyTree&&this.FixupFirstLefts2(a,o)}},n.Clipper.prototype.UpdateOutPtIdxs=function(t){var e=t.Pts;do{e.Idx=t.Idx,e=e.Prev}while(e!=t.Pts)},n.Clipper.prototype.DoSimplePolygons=function(){for(var t=0;t<this.m_PolyOuts.length;){var e=this.m_PolyOuts[t++],r=e.Pts;if(null!=r&&!e.IsOpen)do{for(var i=r.Next;i!=e.Pts;){if(n.IntPoint.op_Equality(r.Pt,i.Pt)&&i.Next!=r&&i.Prev!=r){var o=r.Prev,a=i.Prev;r.Prev=a,a.Next=r,i.Prev=o,o.Next=i,e.Pts=r;var s=this.CreateOutRec();s.Pts=i,this.UpdateOutPtIdxs(s),this.Poly2ContainsPoly1(s.Pts,e.Pts)?(s.IsHole=!e.IsHole,s.FirstLeft=e,this.m_UsingPolyTree&&this.FixupFirstLefts2(s,e)):this.Poly2ContainsPoly1(e.Pts,s.Pts)?(s.IsHole=e.IsHole,e.IsHole=!s.IsHole,s.FirstLeft=e.FirstLeft,e.FirstLeft=s,this.m_UsingPolyTree&&this.FixupFirstLefts2(e,s)):(s.IsHole=e.IsHole,s.FirstLeft=e.FirstLeft,this.m_UsingPolyTree&&this.FixupFirstLefts1(e,s)),i=r}i=i.Next}r=r.Next}while(r!=e.Pts)}},n.Clipper.Area=function(t){var e=t.length;if(e<3)return 0;for(var n=0,r=0,i=e-1;r<e;++r)n+=(t[i].X+t[r].X)*(t[i].Y-t[r].Y),i=r;return.5*-n},n.Clipper.prototype.Area=function(t){var e=t.Pts;if(null==e)return 0;var n=0;do{n+=(e.Prev.Pt.X+e.Pt.X)*(e.Prev.Pt.Y-e.Pt.Y),e=e.Next}while(e!=t.Pts);return.5*n},n.Clipper.SimplifyPolygon=function(t,e){var r=new Array,i=new n.Clipper(0);return i.StrictlySimple=!0,i.AddPath(t,n.PolyType.ptSubject,!0),i.Execute(n.ClipType.ctUnion,r,e,e),r},n.Clipper.SimplifyPolygons=function(t,e){void 0===e&&(e=n.PolyFillType.pftEvenOdd);var r=new Array,i=new n.Clipper(0);return i.StrictlySimple=!0,i.AddPaths(t,n.PolyType.ptSubject,!0),i.Execute(n.ClipType.ctUnion,r,e,e),r},n.Clipper.DistanceSqrd=function(t,e){var n=t.X-e.X,r=t.Y-e.Y;return n*n+r*r},n.Clipper.DistanceFromLineSqrd=function(t,e,n){var r=e.Y-n.Y,i=n.X-e.X,o=r*e.X+i*e.Y;return(o=r*t.X+i*t.Y-o)*o/(r*r+i*i)},n.Clipper.SlopesNearCollinear=function(t,e,r,i){return Math.abs(t.X-e.X)>Math.abs(t.Y-e.Y)?t.X>e.X==t.X<r.X?n.Clipper.DistanceFromLineSqrd(t,e,r)<i:e.X>t.X==e.X<r.X?n.Clipper.DistanceFromLineSqrd(e,t,r)<i:n.Clipper.DistanceFromLineSqrd(r,t,e)<i:t.Y>e.Y==t.Y<r.Y?n.Clipper.DistanceFromLineSqrd(t,e,r)<i:e.Y>t.Y==e.Y<r.Y?n.Clipper.DistanceFromLineSqrd(e,t,r)<i:n.Clipper.DistanceFromLineSqrd(r,t,e)<i},n.Clipper.PointsAreClose=function(t,e,n){var r=t.X-e.X,i=t.Y-e.Y;return r*r+i*i<=n},n.Clipper.ExcludeOp=function(t){var e=t.Prev;return e.Next=t.Next,t.Next.Prev=e,e.Idx=0,e},n.Clipper.CleanPolygon=function(t,e){void 0===e&&(e=1.415);var r=t.length;if(0==r)return new Array;for(var i=new Array(r),o=0;o<r;++o)i[o]=new n.OutPt;for(o=0;o<r;++o)i[o].Pt=t[o],i[o].Next=i[(o+1)%r],i[o].Next.Prev=i[o],i[o].Idx=0;for(var a=e*e,s=i[0];0==s.Idx&&s.Next!=s.Prev;)n.Clipper.PointsAreClose(s.Pt,s.Prev.Pt,a)?(s=n.Clipper.ExcludeOp(s),r--):n.Clipper.PointsAreClose(s.Prev.Pt,s.Next.Pt,a)?(n.Clipper.ExcludeOp(s.Next),s=n.Clipper.ExcludeOp(s),r-=2):n.Clipper.SlopesNearCollinear(s.Prev.Pt,s.Pt,s.Next.Pt,a)?(s=n.Clipper.ExcludeOp(s),r--):(s.Idx=1,s=s.Next);r<3&&(r=0);var u=new Array(r);for(o=0;o<r;++o)u[o]=new n.IntPoint(s.Pt),s=s.Next;return i=null,u},n.Clipper.CleanPolygons=function(t,e){for(var r=new Array(t.length),i=0,o=t.length;i<o;i++)r[i]=n.Clipper.CleanPolygon(t[i],e);return r},n.Clipper.Minkowski=function(t,e,r,i){var o=i?1:0,a=t.length,s=e.length,u=new Array;if(r)for(var l=0;l<s;l++){for(var h=new Array(a),c=0,f=t.length,p=t[c];c<f;p=t[++c])h[c]=new n.IntPoint(e[l].X+p.X,e[l].Y+p.Y);u.push(h)}else for(l=0;l<s;l++){for(h=new Array(a),c=0,f=t.length,p=t[c];c<f;p=t[++c])h[c]=new n.IntPoint(e[l].X-p.X,e[l].Y-p.Y);u.push(h)}var d=new Array;for(l=0;l<s-1+o;l++)for(c=0;c<a;c++){var m=new Array;m.push(u[l%s][c%a]),m.push(u[(l+1)%s][c%a]),m.push(u[(l+1)%s][(c+1)%a]),m.push(u[l%s][(c+1)%a]),n.Clipper.Orientation(m)||m.reverse(),d.push(m)}return d},n.Clipper.MinkowskiSum=function(t,e,r){if(e[0]instanceof Array){l=e;for(var i=new n.Paths,o=(s=new n.Clipper,0);o<l.length;++o){var a=n.Clipper.Minkowski(t,l[o],!0,r);if(s.AddPaths(a,n.PolyType.ptSubject,!0),r){u=n.Clipper.TranslatePath(l[o],t[0]);s.AddPath(u,n.PolyType.ptClip,!0)}}return s.Execute(n.ClipType.ctUnion,i,n.PolyFillType.pftNonZero,n.PolyFillType.pftNonZero),i}var s,u=e,l=n.Clipper.Minkowski(t,u,!0,r);return(s=new n.Clipper).AddPaths(l,n.PolyType.ptSubject,!0),s.Execute(n.ClipType.ctUnion,l,n.PolyFillType.pftNonZero,n.PolyFillType.pftNonZero),l},n.Clipper.TranslatePath=function(t,e){for(var r=new n.Path,i=0;i<t.length;i++)r.push(new n.IntPoint(t[i].X+e.X,t[i].Y+e.Y));return r},n.Clipper.MinkowskiDiff=function(t,e){var r=n.Clipper.Minkowski(t,e,!1,!0),i=new n.Clipper;return i.AddPaths(r,n.PolyType.ptSubject,!0),i.Execute(n.ClipType.ctUnion,r,n.PolyFillType.pftNonZero,n.PolyFillType.pftNonZero),r},n.Clipper.PolyTreeToPaths=function(t){var e=new Array;return n.Clipper.AddPolyNodeToPaths(t,n.Clipper.NodeType.ntAny,e),e},n.Clipper.AddPolyNodeToPaths=function(t,e,r){var i=!0;switch(e){case n.Clipper.NodeType.ntOpen:return;case n.Clipper.NodeType.ntClosed:i=!t.IsOpen}t.m_polygon.length>0&&i&&r.push(t.m_polygon);for(var o=0,a=t.Childs(),s=a.length,u=a[o];o<s;u=a[++o])n.Clipper.AddPolyNodeToPaths(u,e,r)},n.Clipper.OpenPathsFromPolyTree=function(t){for(var e=new n.Paths,r=0,i=t.ChildCount();r<i;r++)t.Childs()[r].IsOpen&&e.push(t.Childs()[r].m_polygon);return e},n.Clipper.ClosedPathsFromPolyTree=function(t){var e=new n.Paths;return n.Clipper.AddPolyNodeToPaths(t,n.Clipper.NodeType.ntClosed,e),e},N(n.Clipper,n.ClipperBase),n.Clipper.NodeType={ntAny:0,ntOpen:1,ntClosed:2},n.ClipperOffset=function(t,e){void 0===t&&(t=2),void 0===e&&(e=n.ClipperOffset.def_arc_tolerance),this.m_destPolys=new n.Paths,this.m_srcPoly=new n.Path,this.m_destPoly=new n.Path,this.m_normals=new Array,this.m_delta=0,this.m_sinA=0,this.m_sin=0,this.m_cos=0,this.m_miterLim=0,this.m_StepsPerRad=0,this.m_lowest=new n.IntPoint,this.m_polyNodes=new n.PolyNode,this.MiterLimit=t,this.ArcTolerance=e,this.m_lowest.X=-1},n.ClipperOffset.two_pi=6.28318530717959,n.ClipperOffset.def_arc_tolerance=.25,n.ClipperOffset.prototype.Clear=function(){n.Clear(this.m_polyNodes.Childs()),this.m_lowest.X=-1},n.ClipperOffset.Round=n.Clipper.Round,n.ClipperOffset.prototype.AddPath=function(t,e,r){var i=t.length-1;if(!(i<0)){var o=new n.PolyNode;if(o.m_jointype=e,o.m_endtype=r,r==n.EndType.etClosedLine||r==n.EndType.etClosedPolygon)for(;i>0&&n.IntPoint.op_Equality(t[0],t[i]);)i--;o.m_polygon.push(t[0]);for(var a=0,s=0,u=1;u<=i;u++)n.IntPoint.op_Inequality(o.m_polygon[a],t[u])&&(a++,o.m_polygon.push(t[u]),(t[u].Y>o.m_polygon[s].Y||t[u].Y==o.m_polygon[s].Y&&t[u].X<o.m_polygon[s].X)&&(s=a));if(!(r==n.EndType.etClosedPolygon&&a<2)&&(this.m_polyNodes.AddChild(o),r==n.EndType.etClosedPolygon))if(this.m_lowest.X<0)this.m_lowest=new n.IntPoint(this.m_polyNodes.ChildCount()-1,s);else{var l=this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon[this.m_lowest.Y];(o.m_polygon[s].Y>l.Y||o.m_polygon[s].Y==l.Y&&o.m_polygon[s].X<l.X)&&(this.m_lowest=new n.IntPoint(this.m_polyNodes.ChildCount()-1,s))}}},n.ClipperOffset.prototype.AddPaths=function(t,e,n){for(var r=0,i=t.length;r<i;r++)this.AddPath(t[r],e,n)},n.ClipperOffset.prototype.FixOrientations=function(){if(this.m_lowest.X>=0&&!n.Clipper.Orientation(this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon))for(var t=0;t<this.m_polyNodes.ChildCount();t++){((e=this.m_polyNodes.Childs()[t]).m_endtype==n.EndType.etClosedPolygon||e.m_endtype==n.EndType.etClosedLine&&n.Clipper.Orientation(e.m_polygon))&&e.m_polygon.reverse()}else for(t=0;t<this.m_polyNodes.ChildCount();t++){var e;(e=this.m_polyNodes.Childs()[t]).m_endtype!=n.EndType.etClosedLine||n.Clipper.Orientation(e.m_polygon)||e.m_polygon.reverse()}},n.ClipperOffset.GetUnitNormal=function(t,e){var r=e.X-t.X,i=e.Y-t.Y;if(0==r&&0==i)return new n.DoublePoint(0,0);var o=1/Math.sqrt(r*r+i*i);return r*=o,i*=o,new n.DoublePoint(i,-r)},n.ClipperOffset.prototype.DoOffset=function(t){if(this.m_destPolys=new Array,this.m_delta=t,n.ClipperBase.near_zero(t))for(var e=0;e<this.m_polyNodes.ChildCount();e++){(o=this.m_polyNodes.Childs()[e]).m_endtype==n.EndType.etClosedPolygon&&this.m_destPolys.push(o.m_polygon)}else{var r;this.MiterLimit>2?this.m_miterLim=2/(this.MiterLimit*this.MiterLimit):this.m_miterLim=.5,r=this.ArcTolerance<=0?n.ClipperOffset.def_arc_tolerance:this.ArcTolerance>Math.abs(t)*n.ClipperOffset.def_arc_tolerance?Math.abs(t)*n.ClipperOffset.def_arc_tolerance:this.ArcTolerance;var i=3.14159265358979/Math.acos(1-r/Math.abs(t));this.m_sin=Math.sin(n.ClipperOffset.two_pi/i),this.m_cos=Math.cos(n.ClipperOffset.two_pi/i),this.m_StepsPerRad=i/n.ClipperOffset.two_pi,t<0&&(this.m_sin=-this.m_sin);for(e=0;e<this.m_polyNodes.ChildCount();e++){var o=this.m_polyNodes.Childs()[e];this.m_srcPoly=o.m_polygon;var a=this.m_srcPoly.length;if(!(0==a||t<=0&&(a<3||o.m_endtype!=n.EndType.etClosedPolygon)))if(this.m_destPoly=new Array,1!=a){this.m_normals.length=0;for(f=0;f<a-1;f++)this.m_normals.push(n.ClipperOffset.GetUnitNormal(this.m_srcPoly[f],this.m_srcPoly[f+1]));if(o.m_endtype==n.EndType.etClosedLine||o.m_endtype==n.EndType.etClosedPolygon?this.m_normals.push(n.ClipperOffset.GetUnitNormal(this.m_srcPoly[a-1],this.m_srcPoly[0])):this.m_normals.push(new n.DoublePoint(this.m_normals[a-2])),o.m_endtype==n.EndType.etClosedPolygon){var s=a-1;for(f=0;f<a;f++)s=this.OffsetPoint(f,s,o.m_jointype);this.m_destPolys.push(this.m_destPoly)}else if(o.m_endtype==n.EndType.etClosedLine){for(s=a-1,f=0;f<a;f++)s=this.OffsetPoint(f,s,o.m_jointype);this.m_destPolys.push(this.m_destPoly),this.m_destPoly=new Array;var u=this.m_normals[a-1];for(f=a-1;f>0;f--)this.m_normals[f]=new n.DoublePoint(-this.m_normals[f-1].X,-this.m_normals[f-1].Y);this.m_normals[0]=new n.DoublePoint(-u.X,-u.Y),s=0;for(f=a-1;f>=0;f--)s=this.OffsetPoint(f,s,o.m_jointype);this.m_destPolys.push(this.m_destPoly)}else{var l;for(s=0,f=1;f<a-1;++f)s=this.OffsetPoint(f,s,o.m_jointype);if(o.m_endtype==n.EndType.etOpenButt){f=a-1;l=new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[f].X+this.m_normals[f].X*t),n.ClipperOffset.Round(this.m_srcPoly[f].Y+this.m_normals[f].Y*t)),this.m_destPoly.push(l),l=new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[f].X-this.m_normals[f].X*t),n.ClipperOffset.Round(this.m_srcPoly[f].Y-this.m_normals[f].Y*t)),this.m_destPoly.push(l)}else{f=a-1;s=a-2,this.m_sinA=0,this.m_normals[f]=new n.DoublePoint(-this.m_normals[f].X,-this.m_normals[f].Y),o.m_endtype==n.EndType.etOpenSquare?this.DoSquare(f,s):this.DoRound(f,s)}for(f=a-1;f>0;f--)this.m_normals[f]=new n.DoublePoint(-this.m_normals[f-1].X,-this.m_normals[f-1].Y);this.m_normals[0]=new n.DoublePoint(-this.m_normals[1].X,-this.m_normals[1].Y);for(f=(s=a-1)-1;f>0;--f)s=this.OffsetPoint(f,s,o.m_jointype);o.m_endtype==n.EndType.etOpenButt?(l=new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[0].X-this.m_normals[0].X*t),n.ClipperOffset.Round(this.m_srcPoly[0].Y-this.m_normals[0].Y*t)),this.m_destPoly.push(l),l=new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[0].X+this.m_normals[0].X*t),n.ClipperOffset.Round(this.m_srcPoly[0].Y+this.m_normals[0].Y*t)),this.m_destPoly.push(l)):(s=1,this.m_sinA=0,o.m_endtype==n.EndType.etOpenSquare?this.DoSquare(0,1):this.DoRound(0,1)),this.m_destPolys.push(this.m_destPoly)}}else{if(o.m_jointype==n.JoinType.jtRound)for(var h=1,c=0,f=1;f<=i;f++){this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[0].X+h*t),n.ClipperOffset.Round(this.m_srcPoly[0].Y+c*t)));var p=h;h=h*this.m_cos-this.m_sin*c,c=p*this.m_sin+c*this.m_cos}else{h=-1,c=-1;for(var f=0;f<4;++f)this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[0].X+h*t),n.ClipperOffset.Round(this.m_srcPoly[0].Y+c*t))),h<0?h=1:c<0?c=1:h=-1}this.m_destPolys.push(this.m_destPoly)}}}},n.ClipperOffset.prototype.Execute=function(){var t=arguments,e=t[0]instanceof n.PolyTree;if(e){a=t[0],s=t[1];if(a.Clear(),this.FixOrientations(),this.DoOffset(s),(o=new n.Clipper(0)).AddPaths(this.m_destPolys,n.PolyType.ptSubject,!0),s>0)o.Execute(n.ClipType.ctUnion,a,n.PolyFillType.pftPositive,n.PolyFillType.pftPositive);else{l=n.Clipper.GetBounds(this.m_destPolys);if((u=new n.Path).push(new n.IntPoint(l.left-10,l.bottom+10)),u.push(new n.IntPoint(l.right+10,l.bottom+10)),u.push(new n.IntPoint(l.right+10,l.top-10)),u.push(new n.IntPoint(l.left-10,l.top-10)),o.AddPath(u,n.PolyType.ptSubject,!0),o.ReverseSolution=!0,o.Execute(n.ClipType.ctUnion,a,n.PolyFillType.pftNegative,n.PolyFillType.pftNegative),1==a.ChildCount()&&a.Childs()[0].ChildCount()>0){var r=a.Childs()[0];a.Childs()[0]=r.Childs()[0],a.Childs()[0].m_Parent=a;for(var i=1;i<r.ChildCount();i++)a.AddChild(r.Childs()[i])}else a.Clear()}}else{var o,a=t[0],s=t[1];if(n.Clear(a),this.FixOrientations(),this.DoOffset(s),(o=new n.Clipper(0)).AddPaths(this.m_destPolys,n.PolyType.ptSubject,!0),s>0)o.Execute(n.ClipType.ctUnion,a,n.PolyFillType.pftPositive,n.PolyFillType.pftPositive);else{var u,l=n.Clipper.GetBounds(this.m_destPolys);(u=new n.Path).push(new n.IntPoint(l.left-10,l.bottom+10)),u.push(new n.IntPoint(l.right+10,l.bottom+10)),u.push(new n.IntPoint(l.right+10,l.top-10)),u.push(new n.IntPoint(l.left-10,l.top-10)),o.AddPath(u,n.PolyType.ptSubject,!0),o.ReverseSolution=!0,o.Execute(n.ClipType.ctUnion,a,n.PolyFillType.pftNegative,n.PolyFillType.pftNegative),a.length>0&&a.splice(0,1)}}},n.ClipperOffset.prototype.OffsetPoint=function(t,e,r){if(this.m_sinA=this.m_normals[e].X*this.m_normals[t].Y-this.m_normals[t].X*this.m_normals[e].Y,Math.abs(this.m_sinA*this.m_delta)<1){if(this.m_normals[e].X*this.m_normals[t].X+this.m_normals[t].Y*this.m_normals[e].Y>0)return this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[e].X*this.m_delta),n.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[e].Y*this.m_delta))),e}else this.m_sinA>1?this.m_sinA=1:this.m_sinA<-1&&(this.m_sinA=-1);if(this.m_sinA*this.m_delta<0)this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[e].X*this.m_delta),n.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[e].Y*this.m_delta))),this.m_destPoly.push(new n.IntPoint(this.m_srcPoly[t])),this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[t].X*this.m_delta),n.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[t].Y*this.m_delta)));else switch(r){case n.JoinType.jtMiter:var i=this.m_normals[t].X*this.m_normals[e].X+this.m_normals[t].Y*this.m_normals[e].Y+1;i>=this.m_miterLim?this.DoMiter(t,e,i):this.DoSquare(t,e);break;case n.JoinType.jtSquare:this.DoSquare(t,e);break;case n.JoinType.jtRound:this.DoRound(t,e)}return e=t},n.ClipperOffset.prototype.DoSquare=function(t,e){var r=Math.tan(Math.atan2(this.m_sinA,this.m_normals[e].X*this.m_normals[t].X+this.m_normals[e].Y*this.m_normals[t].Y)/4);this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_delta*(this.m_normals[e].X-this.m_normals[e].Y*r)),n.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_delta*(this.m_normals[e].Y+this.m_normals[e].X*r)))),this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_delta*(this.m_normals[t].X+this.m_normals[t].Y*r)),n.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_delta*(this.m_normals[t].Y-this.m_normals[t].X*r))))},n.ClipperOffset.prototype.DoMiter=function(t,e,r){var i=this.m_delta/r;this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t].X+(this.m_normals[e].X+this.m_normals[t].X)*i),n.ClipperOffset.Round(this.m_srcPoly[t].Y+(this.m_normals[e].Y+this.m_normals[t].Y)*i)))},n.ClipperOffset.prototype.DoRound=function(t,e){for(var r,i=Math.atan2(this.m_sinA,this.m_normals[e].X*this.m_normals[t].X+this.m_normals[e].Y*this.m_normals[t].Y),o=Math.max(n.Cast_Int32(n.ClipperOffset.Round(this.m_StepsPerRad*Math.abs(i))),1),a=this.m_normals[e].X,s=this.m_normals[e].Y,u=0;u<o;++u)this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t].X+a*this.m_delta),n.ClipperOffset.Round(this.m_srcPoly[t].Y+s*this.m_delta))),r=a,a=a*this.m_cos-this.m_sin*s,s=r*this.m_sin+s*this.m_cos;this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[t].X*this.m_delta),n.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[t].Y*this.m_delta)))},n.Error=function(t){throw new Error(t)},n.JS={},n.JS.AreaOfPolygon=function(t,e){return e||(e=1),n.Clipper.Area(t)/(e*e)},n.JS.AreaOfPolygons=function(t,e){e||(e=1);for(var r=0,i=0;i<t.length;i++)r+=n.Clipper.Area(t[i]);return r/(e*e)},n.JS.BoundsOfPath=function(t,e){return n.JS.BoundsOfPaths([t],e)},n.JS.BoundsOfPaths=function(t,e){e||(e=1);var r=n.Clipper.GetBounds(t);return r.left/=e,r.bottom/=e,r.right/=e,r.top/=e,r},n.JS.Clean=function(t,e){if(!(t instanceof Array))return[];var r=t[0]instanceof Array;t=n.JS.Clone(t);if("number"!=typeof e||null===e)return n.Error("Delta is not a number in Clean()."),t;if(0===t.length||1==t.length&&0===t[0].length||e<0)return t;r||(t=[t]);for(var i,o,a,s,u,l,h,c=t.length,f=[],p=0;p<c;p++)if(0!==(i=(o=t[p]).length))if(i<3)a=o,f.push(a);else{for(a=o,s=e*e,u=o[0],l=1,h=1;h<i;h++)(o[h].X-u.X)*(o[h].X-u.X)+(o[h].Y-u.Y)*(o[h].Y-u.Y)<=s||(a[l]=o[h],u=o[h],l++);u=o[l-1],(o[0].X-u.X)*(o[0].X-u.X)+(o[0].Y-u.Y)*(o[0].Y-u.Y)<=s&&l--,l<i&&a.splice(l,i-l),a.length&&f.push(a)}return!r&&f.length?f=f[0]:r||0!==f.length?r&&0===f.length&&(f=[[]]):f=[],f},n.JS.Clone=function(t){if(!(t instanceof Array))return[];if(0===t.length)return[];if(1==t.length&&0===t[0].length)return[[]];var e=t[0]instanceof Array;e||(t=[t]);var n,r,i,o,a=t.length,s=new Array(a);for(r=0;r<a;r++){for(n=t[r].length,o=new Array(n),i=0;i<n;i++)o[i]={X:t[r][i].X,Y:t[r][i].Y};s[r]=o}return e||(s=s[0]),s},n.JS.Lighten=function(t,e){if(!(t instanceof Array))return[];if("number"!=typeof e||null===e)return n.Error("Tolerance is not a number in Lighten()."),n.JS.Clone(t);if(0===t.length||1==t.length&&0===t[0].length||e<0)return n.JS.Clone(t);var r,i,o,a,s,u,l,h,c,f,p,d,m,y,v,g;t[0]instanceof Array||(t=[t]);var x=t.length,w=e*e,_=[];for(r=0;r<x;r++)if(0!=(u=(o=t[r]).length)){for(a=0;a<1e6;a++){for(s=[],o[(u=o.length)-1].X!=o[0].X||o[u-1].Y!=o[0].Y?(p=1,o.push({X:o[0].X,Y:o[0].Y}),u=o.length):p=0,f=[],i=0;i<u-2;i++)l=o[i],c=o[i+1],h=o[i+2],v=l.X,g=l.Y,d=h.X-v,m=h.Y-g,0===d&&0===m||((y=((c.X-v)*d+(c.Y-g)*m)/(d*d+m*m))>1?(v=h.X,g=h.Y):y>0&&(v+=d*y,g+=m*y)),(d=c.X-v)*d+(m=c.Y-g)*m<=w&&(f[i+1]=1,i++);for(s.push({X:o[0].X,Y:o[0].Y}),i=1;i<u-1;i++)f[i]||s.push({X:o[i].X,Y:o[i].Y});if(s.push({X:o[u-1].X,Y:o[u-1].Y}),p&&o.pop(),!f.length)break;o=s}s[(u=s.length)-1].X==s[0].X&&s[u-1].Y==s[0].Y&&s.pop(),s.length>2&&_.push(s)}return t[0]instanceof Array||(_=_[0]),void 0===_&&(_=[[]]),_},n.JS.PerimeterOfPath=function(t,e,n){if(void 0===t)return 0;var r,i,o=Math.sqrt,a=0,s=0,u=0,l=0,h=0,c=t.length;if(c<2)return 0;for(e&&(t[c]=t[0],c++);--c;)s=(r=t[c]).X,u=r.Y,a+=o((s-(l=(i=t[c-1]).X))*(s-l)+(u-(h=i.Y))*(u-h));return e&&t.pop(),a/n},n.JS.PerimeterOfPaths=function(t,e,r){r||(r=1);for(var i=0,o=0;o<t.length;o++)i+=n.JS.PerimeterOfPath(t[o],e,r);return i},n.JS.ScaleDownPath=function(t,e){var n,r;for(e||(e=1),n=t.length;n--;)(r=t[n]).X=r.X/e,r.Y=r.Y/e},n.JS.ScaleDownPaths=function(t,e){var n,r,i;for(e||(e=1),n=t.length;n--;)for(r=t[n].length;r--;)(i=t[n][r]).X=i.X/e,i.Y=i.Y/e},n.JS.ScaleUpPath=function(t,e){var n,r,i=Math.round;for(e||(e=1),n=t.length;n--;)(r=t[n]).X=i(r.X*e),r.Y=i(r.Y*e)},n.JS.ScaleUpPaths=function(t,e){var n,r,i,o=Math.round;for(e||(e=1),n=t.length;n--;)for(r=t[n].length;r--;)(i=t[n][r]).X=o(i.X*e),i.Y=o(i.Y*e)},n.ExPolygons=function(){return[]},n.ExPolygon=function(){this.outer=null,this.holes=null},n.JS.AddOuterPolyNodeToExPolygons=function(t,e){var r=new n.ExPolygon;r.outer=t.Contour();var i,o,a,s,u,l,h=t.Childs(),c=h.length;for(r.holes=new Array(c),a=0;a<c;a++)for(i=h[a],r.holes[a]=i.Contour(),s=0,l=(u=i.Childs()).length;s<l;s++)o=u[s],n.JS.AddOuterPolyNodeToExPolygons(o,e);e.push(r)},n.JS.ExPolygonsToPaths=function(t){var e,r,i,o,a=new n.Paths;for(e=0,i=t.length;e<i;e++)for(a.push(t[e].outer),r=0,o=t[e].holes.length;r<o;r++)a.push(t[e].holes[r]);return a},n.JS.PolyTreeToExPolygons=function(t){var e,r,i,o,a=new n.ExPolygons;for(r=0,o=(i=t.Childs()).length;r<o;r++)e=i[r],n.JS.AddOuterPolyNodeToExPolygons(e,a);return a}}()},function(t,e,n){"use strict";var r=n(23),i=n(1),o=n(6),a=n(0),s=n(44),u={roundedRect:function(t,e,n,r,i,a){var s=new o;return s.addRoundedRect(t,e,n,r,i,a),s},quad:function(t,e,n,r){var i=arguments,s=new o;return 8===i.length?o.prototype.addQuad.apply(s,i):(t=a.read(t),e=a.read(e),n=a.read(n),r=a.read(r),s.addQuad(t.x,t.y,e.x,e.y,n.x,n.y,r.x,r.y)),s},rect:function(t,e,n,r){var i=arguments;if(3===i.length?t=a.read(t):4===i.length?"number"==typeof i[0]&&"number"==typeof i[1]?(t=a.read(i[0],i[1]),e=i[2],n=i[3],r=null):(t=a.read(t),r=a.read(r)):5!==i.length&&6!==i.length||(t=a.read(i[0],i[1]),e=i[2],n=i[3],r=5===i.length&&"number"==typeof i[4]?a.read(i[4],i[4]):a.read(i[4],i[5])),!r||0===r.x&&0===r.y){var s=new o;return s.addRect(t.x-e/2,t.y-n/2,e,n),s}return u.roundedRect(t.x-e/2,t.y-n/2,e,n,r.x,r.y)},ellipse:function(t,e,n){var r=arguments;4===r.length?(t=a.read(r[0],r[1]),e=r[2],n=r[3]):t=a.read(t);var i=new o;return i.addEllipse(t.x-e/2,t.y-n/2,e,n),i},line:function(t,e){var n=arguments;4===n.length?(t=a.read(n[0],n[1]),e=a.read(n[2],n[3])):(t=a.read(t),e=a.read(e));var r=new o;return r.addLine(t.x,t.y,e.x,e.y),r.fill=null,r.stroke="black",r},lineAngle:function(t,e,n){var i=arguments;4===i.length?(t=a.read(i[0],i[1]),n=i[2],e=i[3]):t=a.read(t);var o=r.coordinates(t.x,t.y,e,n);return u.line(t,o)},arc:function(t,e,n,r,i,s){var u=arguments;7===u.length?(t=a.read(u[0],u[1]),e=u[2],n=u[3],r=u[4],i=u[5],s=u[6]):t=a.read(t);var l=new o;return l.addArc(t.x,t.y,e,n,r,i,s),l},curve:function(t,e,n,s){var u=arguments;6===u.length?(t=a.read(u[0],u[1]),e=a.read(u[2],u[3]),n=u[4],s=u[5]):(t=a.read(t),e=a.read(e));var l=t.x+n*(e.x-t.x),h=t.y+n*(e.y-t.y),c=r.angle(t.x,t.y,e.x,e.y)+90,f=r.coordinates(l,h,c,s),p=f.x,d=f.y,m=t.x+2/3*(p-t.x),y=t.y+2/3*(d-t.y),v=e.x+2/3*(p-e.x),g=e.y+2/3*(d-e.y),x=new o;return x.moveTo(t.x,t.y),x.curveTo(m,y,v,g,e.x,e.y),x.fill=null,x.stroke=i.BLACK,x},polygon:function(t,e,n,i){var s=arguments;5===s.length||4===s.length&&"number"==typeof s[0]&&"number"==typeof s[1]?(t=a.read(s[0],s[1]),e=s[2],n=s[3],i=5!==s.length||s[4]):(t=a.read(t),3===s.length&&(i=!0)),n=Math.max(n,3);var u,l,h,c,f=t.x,p=t.y,d=e,m=360/n,y=0;!0===i&&(u=r.coordinates(f,p,0,d),l=r.coordinates(f,p,m,d),y=-r.angle(l.x,l.y,u.x,u.y));var v=new o;for(h=0;h<n;h+=1)c=r.coordinates(f,p,m*h+y,d),0===h?v.moveTo(c.x,c.y):v.lineTo(c.x,c.y);return v.close(),v},star:function(t,e,n,r){var i,s,u,l,h,c=arguments;5===c.length||4===c.length&&"number"==typeof c[0]&&"number"==typeof c[1]?(t=a.read(c[0],c[1]),e=c[2],n=c[3],r=c[4]):t=a.read(t),r||(r=n);var f=new o;for(f.moveTo(t.x,t.y+n/2),i=1;i<2*e;i+=1)s=i*Math.PI/e,u=i%2==1?r/2:n/2,l=t.x+u*Math.sin(s),h=t.y+u*Math.cos(s),f.lineTo(l,h);return f.close(),f}},l=function(t){return""!==t};u.freehand=function(t){var e,n,r,a,s,u=[],h=t.split("M");for(e=0;e<h.length;e+=1)l(h[e])&&u.push(h[e].replace(/,/g," "));var c=new o;for(n=0;n<u.length;n+=1){for(s=[],h=u[n].split(" "),e=0;e<h.length;e+=1)l(h[e])&&s.push(h[e]);for(e=0;e<s.length;e+=2)void 0!==s[e+1]&&(r=parseFloat(s[e]),a=parseFloat(s[e+1]),0===e?c.moveTo(r,a):c.lineTo(r,a))}return c.fill=null,c.stroke=i.BLACK,c},u.grid=function(t,e,n,r,i){var o,s,u,l,h,c,f,p,d,m=[];for(m.length=t*e,i=void 0!==i?i:a.ZERO,t>1?(o=n*(t-1),s=i.x-o/2):s=i.x,e>1?(u=r*(e-1),l=i.y-u/2):l=i.y,d=0,h=0;h<e;h+=1)for(c=0;c<t;c+=1)f=s+c*n,p=l+h*r,m[d]=new a(f,p),d+=1;return m},u.text=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(null),new(Function.prototype.bind.apply(s,t))},u.demoRect=function(){return new u.rect({x:0,y:0},100,100,{x:0,y:0})},u.demoEllipse=function(){return new u.ellipse({x:0,y:0},100,100)},t.exports=u},function(t,e,n){"use strict";var r,i,o={normal:"source-over","linear-dodge":"add"};function a(t){var e,n,r,i=Object.keys(o);for(e=0;e<i.length;e+=1)n=i[e],r=o[n],t[n]=t[r]}function s(t){return void 0!==o[t]?o[t]:t}function u(){if("undefined"==typeof document)return{};var t,e,n,r,i={},o=document.createElement("canvas"),s=o.getContext("2d");if(!s)return{};var u=["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],l=["multiply","screen","overlay","soft-light","hard-light","color-dodge","color-burn","darken","lighten","difference","exclusion","hue","saturation","luminosity","color","add","subtract","average","negation"],h=["divide","darker-color","lighter-color","linear-burn","linear-light","vivid-light","pin-light","hard-mix"];for(t=0;t<u.length;t+=1)i[u[t]]=!0;for(t=0;t<h.length;t+=1)i[h[t]]=!1;for(o.width=1,o.height=1,t=0;t<l.length;t+=1){n="darken"===(e=l[t]),r=!1,s.save();try{s.fillStyle=n?"#300":"#a00",s.fillRect(0,0,1,1),s.globalCompositeOperation=e,s.globalCompositeOperation===e&&(s.fillStyle=n?"#a00":"#300",s.fillRect(0,0,1,1),r=s.getImageData(0,0,1,1).data[0]!==(n?170:51))}catch(t){}s.restore(),i[e]=r}return a(i),i}function l(t,e,n,r,o){i(t,e,n,r,o)}function h(t){return function(e,n,r,i,o){o.type=t,l(e,n,r,i,o)}}i=function(t,e,n,r,i){var o,a,s,u,l,h,c,f,p,d,m,y,v=Math.max,g=Math.min,x=.2126,w=.7152,_=.0722;function b(t,e,n){var r,i,o;return n/=255,(t/=255)===(e/=255)&&e===n?(i=0,r=0):r=t>=e&&e>=n?60*(e-n)/(i=t-n):e>t&&t>=n?60*(e-t)/(i=e-n)+60:e>=n&&n>t?60*(n-t)/(i=e-t)+120:n>e&&e>t?60*(n-e)/(i=n-t)+180:n>t&&t>=e?60*(t-e)/(i=n-e)+240:60*(t-n)/(i=t-e)+300,o=x*t+w*e+_*n,[r%360,g(v(i,0),1),g(v(o,0),1)]}function P(t,e,n){var r,i,o,a;return(t%=360)>=0&&t<60?(r=(o=n-x*e-w*(a=e*t/60))+e,i=o+a):t>=60&&t<120?(o=(i=n+_*e+x*(a=e*(t-60)/60))-e,r=i-a):t>=120&&t<180?(i=(r=n-w*e-_*(a=e*(t-120)/60))+e,o=r+a):t>=180&&t<240?(r=(o=n+x*e+w*(a=e*(t-180)/60))-e,i=o-a):t>=240&&t<300?(o=(i=n-_*e-x*(a=e*(t-240)/60))+e,r=i+a):(i=(r=n+w*e+_*(a=e*(t-300)/60))-e,o=r-a),[r=255*g(v(r,0),1),i=255*g(v(i,0),1),o=255*g(v(o,0),1)]}o={"source-over":function(){d=a+h-h*l,m=s+c-c*l,y=u+f-f*l},multiply:function(){d=a*h+a*(1-p)+h*(1-l),m=s*c+s*(1-p)+c*(1-l),y=u*f+u*(1-p)+f*(1-l)},subtract:function(){d=v(h*l-a*p,0)+a*(1-p)+h*(1-l),m=v(c*l-s*p,0)+s*(1-p)+c*(1-l),y=v(f*l-u*p,0)+u*(1-p)+f*(1-l)},divide:function(){d=0===a?0:h/a*255,m=0===s?0:c/s*255,y=0===u?0:f/u*255},screen:function(){d=a+h-a*h,m=s+c-s*c,y=u+f-u*f},lighten:function(){d=v(a*p,h*l)+a*(1-p)+h*(1-l),m=v(s*p,c*l)+s*(1-p)+c*(1-l),y=v(u*p,f*l)+u*(1-p)+f*(1-l)},darken:function(){d=g(a*p,h*l)+a*(1-p)+h*(1-l),m=g(s*p,c*l)+s*(1-p)+c*(1-l),y=g(u*p,f*l)+u*(1-p)+f*(1-l)},"darker-color":function(){h*l*.3+c*l*.59+f*l*.11<=a*p*.3+s*p*.59+u*p*.11?(d=h*l,m=c*l,y=f*l):(d=a*p,m=s*p,y=u*p),d+=a*(1-p)+h*(1-l),m+=s*(1-p)+c*(1-l),y+=u*(1-p)+f*(1-l)},"lighter-color":function(){h*l*.3+c*l*.59+f*l*.11>a*p*.3+s*p*.59+u*p*.11?(d=h*l,m=c*l,y=f*l):(d=a*p,m=s*p,y=u*p),d+=a*(1-p)+h*(1-l),m+=s*(1-p)+c*(1-l),y+=u*(1-p)+f*(1-l)},add:function(){d=g(h+a,255),m=g(c+s,255),y=g(f+u,255)},"linear-burn":function(){d=(d=h+a)<255?0:d-255,m=(m=c+s)<255?0:m-255,y=(y=f+u)<255?0:y-255},difference:function(){d=a+h-2*g(a*p,h*l),m=s+c-2*g(s*p,c*l),y=u+f-2*g(u*p,f*l)},exclusion:function(){d=a*p+h*l-2*a*h+a*(1-p)+h*(1-l),m=s*p+c*l-2*s*c+s*(1-p)+c*(1-l),y=u*p+f*l-2*u*f+u*(1-p)+f*(1-l)},overlay:function(){d=2*h<=p?2*a*h+a*(1-p)+h*(1-l):a*(1+p)+h*(1+l)-2*h*a-p*l,m=2*c<=p?2*s*c+s*(1-p)+c*(1-l):s*(1+p)+c*(1+l)-2*c*s-p*l,y=2*f<=p?2*u*f+u*(1-p)+f*(1-l):u*(1+p)+f*(1+l)-2*f*u-p*l},"soft-light":function(){var t,e=Math.pow;if(0===p)return d=a,m=s,void(y=u);t=h/p,2*a<=l?d=h*(l+(2*a-l)*(1-t))+a*(1-p)+h*(1-l):2*a>l&&4*h<=p?d=p*(2*a-l)*(16*e(t,3)-12*e(t,2)-3*t)+a-a*p+h:2*a>l&&4*h>p&&(d=p*(2*a-l)*(e(t,.5)-t)+a-a*p+h),t=c/p,2*s<=l?m=c*(l+(2*s-l)*(1-t))+s*(1-p)+c*(1-l):2*s>l&&4*c<=p?m=p*(2*s-l)*(16*e(t,3)-12*e(t,2)-3*t)+s-s*p+c:2*s>l&&4*c>p&&(m=p*(2*s-l)*(e(t,.5)-t)+s-s*p+c),t=f/p,2*u<=l?y=f*(l+(2*u-l)*(1-t))+u*(1-p)+f*(1-l):2*u>l&&4*f<=p?y=p*(2*u-l)*(16*e(t,3)-12*e(t,2)-3*t)+u-u*p+f:2*u>l&&4*f>p&&(y=p*(2*u-l)*(e(t,.5)-t)+u-u*p+f)},"hard-light":function(){d=2*a<=l?2*a*h+a*(1-p)+h*(1-l):a*(1+p)+h*(1+l)-l*p-2*a*h,m=2*s<=l?2*s*c+s*(1-p)+c*(1-l):s*(1+p)+c*(1+l)-l*p-2*s*c,y=2*u<=l?2*u*f+u*(1-p)+f*(1-l):u*(1+p)+f*(1+l)-l*p-2*u*f},"color-dodge":function(){if(0===p)return d=a,m=s,void(y=u);a===l&&0===h?d=a*(1-p):a===l?d=l*p+a*(1-p)+h*(1-l):a<l&&(d=l*p*g(1,h/p*l/(l-a))+a*(1-p)+h*(1-l)),s===l&&0===c?m=s*(1-p):a===l?m=l*p+s*(1-p)+c*(1-l):a<l&&(m=l*p*g(1,c/p*l/(l-s))+s*(1-p)+c*(1-l)),u===l&&0===f?y=u*(1-p):a===l?y=l*p+u*(1-p)+f*(1-l):a<l&&(y=l*p*g(1,f/p*l/(l-u))+u*(1-p)+f*(1-l))},"color-burn":function(){if(0===p)return d=a,m=s,void(y=u);0===a&&h===p?d=l*p+h*(1-l):0===a?d=h*(1-l):a>0&&(d=l*p*(1-g(1,(1-h/p)*l/a))+a*(1-p)+h*(1-l)),0===s&&c===p?m=l*p+c*(1-l):0===s?m=c*(1-l):s>0&&(m=l*p*(1-g(1,(1-c/p)*l/s))+s*(1-p)+c*(1-l)),0===u&&f===p?y=l*p+f*(1-l):0===u?y=f*(1-l):u>0&&(y=l*p*(1-g(1,(1-f/p)*l/u))+u*(1-p)+f*(1-l))},"linear-light":function(){var t=2*a+h-256,e=2*s+c-256,n=2*u+f-256;d=t<0||a<128&&t<0?0:t>255?255:t,m=e<0||s<128&&e<0?0:e>255?255:e,y=n<0||u<128&&n<0?0:n>255?255:n},"vivid-light":function(){var t;d=a<128?a?(t=255-(255-h<<8)/(2*a))<0?0:t:0:(t=2*a-256)<255?(t=(h<<8)/(255-t))>255?255:t:t<0?0:t,m=s<128?s?(t=255-(255-c<<8)/(2*s))<0?0:t:0:(t=2*s-256)<255?(t=(c<<8)/(255-t))>255?255:t:t<0?0:t,y=u<128?u?(t=255-(255-f<<8)/(2*u))<0?0:t:0:(t=2*u-256)<255?(t=(f<<8)/(255-t))>255?255:t:t<0?0:t},"pin-light":function(){var t;d=a<128?h<(t=2*a)?h:t:h>(t=2*a-256)?h:t,m=s<128?c<(t=2*s)?c:t:c>(t=2*s-256)?c:t,y=u<128?f<(t=2*u)?f:t:f>(t=2*u-256)?f:t},"hard-mix":function(){var t;d=a<128?255-(255-h<<8)/(2*a)<128||0===a?0:255:(t=2*a-256)<255&&(h<<8)/(255-t)<128?0:255,m=s<128?255-(255-c<<8)/(2*s)<128||0===s?0:255:(t=2*s-256)<255&&(c<<8)/(255-t)<128?0:255,y=u<128?255-(255-f<<8)/(2*u)<128||0===u?0:255:(t=2*u-256)<255&&(f<<8)/(255-t)<128?0:255},hue:function(){var t=b(h,c,f),e=P(b(a,s,u)[0],t[1],t[2]);d=e[0],m=e[1],y=e[2]},saturation:function(){var t=b(h,c,f),e=b(a,s,u),n=P(t[0],e[1],t[2]);d=n[0],m=n[1],y=n[2]},luminosity:function(){var t=b(h,c,f),e=b(a,s,u),n=P(t[0],t[1],e[2]);d=n[0],m=n[1],y=n[2]},color:function(){var t=b(h,c,f),e=b(a,s,u),n=P(e[0],e[1],t[2]);d=n[0],m=n[1],y=n[2]}},function(){var x,w,_,b,P,C,T,I,E,M=i.data,A=0===i.opacity?0:i.opacity||1,N=o[i.type||"_svg_normal"],S=i.dx||0,L=i.dy||0,O=function(t,e){var n=t.x+t.width,r=t.y+t.height,i=e.x+e.width,o=e.y+e.height,a=v(t.x,e.x),s=v(t.y,e.y);return[a,s,v(g(n,i)-a,0),v(g(r,o)-s,0)]}({x:0,y:0,width:n,height:r},{x:S,y:L,width:i.width,height:i.height}),D=O[0],k=O[1],X=O[2],Y=O[3];for(E=0===N.name.indexOf("_svg_")?function(){l=M[w+3]/255*A,p=t[x+3]/255,I=255/(T=l+p-l*p),a=M[w]/255*l,s=M[w+1]/255*l,u=M[w+2]/255*l,h=t[x]/255*p,c=t[x+1]/255*p,f=t[x+2]/255*p,N(),e[x]=d*I,e[x+1]=m*I,e[x+2]=y*I,e[x+3]=255*T}:function(){h=t[x],c=t[x+1],f=t[x+2],a=M[w],s=M[w+1],u=M[w+2],N(),e[x]=d,e[x+1]=m,e[x+2]=y,e[x+3]=t[x+3],(P=A*M[w+3]/255)<1&&(C=1-P,e[x]=t[x]*C+e[x]*P,e[x+1]=t[x+1]*C+e[x+1]*P,e[x+2]=t[x+2]*C+e[x+2]*P)},b=0;b<r;b+=1)for(_=0;_<n;_+=1)x=4*(b*n+_),b>=k&&_>=D&&_<D+X&&b<k+Y?(w=4*((b-L)*i.width+_-S),E()):(e[x]=t[x],e[x+1]=t[x+1],e[x+2]=t[x+2],e[x+3]=t[x+3])}()},r=function(){for(var t,e={blend:l},n=["source-over","add","multiply","subtract","divide","screen","lighten","darken","darker-color","lighter-color","linear-burn","difference","exclusion","overlay","soft-light","hard-light","color-dodge","color-burn","linear-light","vivid-light","pin-light","hard-mix","hue","saturation","luminosity","color"],r=0;r<n.length;r+=1)e[t=n[r]]=h(t);for(n=Object.keys(n),r=0;r<n.length;r+=1);return a(e),e.getNativeModes=u,e.realBlendMode=s,e}(),t.exports=r},function(t,e){var n=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],r=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function i(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}t.exports=function(t,e,o,a){if(!(isNaN(a)||a<1)){var s,u,l,h,c,f,p,d,m,y,v,g,x,w,_,b,P,C,T,I,E,M,A,N,S=(a|=0)+a+1,L=e-1,O=o-1,D=a+1,k=D*(D+1)/2,X=new i,Y=X;for(l=1;l<S;l++)if(Y=Y.next=new i,l==D)var R=Y;Y.next=X;var B=null,F=null;p=f=0;var j=n[a],U=r[a];for(u=0;u<o;u++){for(b=P=C=T=d=m=y=v=0,g=D*(I=t[f]),x=D*(E=t[f+1]),w=D*(M=t[f+2]),_=D*(A=t[f+3]),d+=k*I,m+=k*E,y+=k*M,v+=k*A,Y=X,l=0;l<D;l++)Y.r=I,Y.g=E,Y.b=M,Y.a=A,Y=Y.next;for(l=1;l<D;l++)h=f+((L<l?L:l)<<2),d+=(Y.r=I=t[h])*(N=D-l),m+=(Y.g=E=t[h+1])*N,y+=(Y.b=M=t[h+2])*N,v+=(Y.a=A=t[h+3])*N,b+=I,P+=E,C+=M,T+=A,Y=Y.next;for(B=X,F=R,s=0;s<e;s++)t[f+3]=A=v*j>>U,0!=A?(A=255/A,t[f]=(d*j>>U)*A,t[f+1]=(m*j>>U)*A,t[f+2]=(y*j>>U)*A):t[f]=t[f+1]=t[f+2]=0,d-=g,m-=x,y-=w,v-=_,g-=B.r,x-=B.g,w-=B.b,_-=B.a,h=p+((h=s+a+1)<L?h:L)<<2,d+=b+=B.r=t[h],m+=P+=B.g=t[h+1],y+=C+=B.b=t[h+2],v+=T+=B.a=t[h+3],B=B.next,g+=I=F.r,x+=E=F.g,w+=M=F.b,_+=A=F.a,b-=I,P-=E,C-=M,T-=A,F=F.next,f+=4;p+=e}for(s=0;s<e;s++){for(P=C=T=b=m=y=v=d=0,g=D*(I=t[f=s<<2]),x=D*(E=t[f+1]),w=D*(M=t[f+2]),_=D*(A=t[f+3]),d+=k*I,m+=k*E,y+=k*M,v+=k*A,Y=X,l=0;l<D;l++)Y.r=I,Y.g=E,Y.b=M,Y.a=A,Y=Y.next;for(c=e,l=1;l<=a;l++)f=c+s<<2,d+=(Y.r=I=t[f])*(N=D-l),m+=(Y.g=E=t[f+1])*N,y+=(Y.b=M=t[f+2])*N,v+=(Y.a=A=t[f+3])*N,b+=I,P+=E,C+=M,T+=A,Y=Y.next,l<O&&(c+=e);for(f=s,B=X,F=R,u=0;u<o;u++)t[(h=f<<2)+3]=A=v*j>>U,A>0?(A=255/A,t[h]=(d*j>>U)*A,t[h+1]=(m*j>>U)*A,t[h+2]=(y*j>>U)*A):t[h]=t[h+1]=t[h+2]=0,d-=g,m-=x,y-=w,v-=_,g-=B.r,x-=B.g,w-=B.b,_-=B.a,h=s+((h=u+D)<O?h:O)*e<<2,d+=b+=B.r=t[h],m+=P+=B.g=t[h+1],y+=C+=B.b=t[h+2],v+=T+=B.a=t[h+3],B=B.next,g+=I=F.r,x+=E=F.g,w+=M=F.b,_+=A=F.a,b-=I,P-=E,C-=M,T-=A,F=F.next,f+=e}}}},function(t,e,n){"use strict";var r=n(48),i=(n(47),n(46));function o(t,e){e(null,t)}var a={};a.toImage=function(){return function(t,e){e(null,i.toImage(t))}},a.load=function(t,e){return e.isPath()?a.loadFile(e.data):e.isFill()?a.generateColor(t,e):e.isGradient()?a.generateGradient(t,e):e.isHtmlCanvas()?a.loadHtmlCanvas(e.data):e.isImage()?a.loadImage(e.data):e.isImageCanvas()?a.loadImageCanvas(e.data):void 0},a.loadFile=function(t){return function(e,n){var r=document.createElement("canvas"),i=r.getContext("2d"),o=new Image;o.onload=function(){r.width=o.width,r.height=o.height,i.drawImage(o,0,0,r.width,r.height),n(null,r)},o.src=t}},a.loadHtmlCanvas=function(t){return function(e,n){n(null,t)}},a.loadImageCanvas=function(t){return function(e,n){t.render((function(t){n(null,t)}))}},a.loadImage=function(t){return function(e,n){n(null,i.loadImage(t))}},a.generateColor=function(t,e){return function(n,r){r(null,i.generateColor(t,e))}},a.generateGradient=function(t,e){return function(n,r){r(null,i.generateGradient(t,e))}},a.processImage=function(t){return 0===t.length?o:function(e,n){i.processImage(e,t),n(null,e)}},a.processMask=function(t){return 0===t.layers.length?o:function(e,n){t.width=e.width,t.height=e.height,a.renderBW(t,(function(t){var r={name:"mask",options:{data:t.getContext("2d").getImageData(0,0,t.width,t.height).data,x:0,y:0,width:t.width,height:t.height}};a.processImage([r])(e,n)}))}},a.mergeManualBlend=function(t,e){return function(n,r){i.mergeManualBlend(t,e)(n),r(null,n)}},a.mergeNativeBlend=function(t,e){return function(n,r){i.mergeNativeBlend(t,e)(n),r(null,n)}},a.merge=function(t,e,n){var o=i.createRenderPipe(a,t,e);o.reverse();var s=i.singleLayerWithOpacity(t,e[0]);o.push((function(t,e){e(null,s)})),r.compose.apply(null,o)(null,(function(){n(s)}))},a.composite=function(t,e,n){e&&0!==e.length?1!==e.length?a.merge(t,e,n):n(i.singleLayerWithOpacity(t,e[0])):n(null)},a.render=function(t,e){r.map(t.layers,function(t){return function(e,n){r.compose(a.processImage(e.filters),a.processMask(e.mask),a.load(t,e))(null,n)}}(t),(function(n,r){e&&a.composite(t,i.getLayerData(t,r),e)}))},a.renderBW=function(t,e){a.render(t,(function(t){t.getContext("2d").getImageData(0,0,t.width,t.height).data;a.processImage([{name:"desaturate",options:{method:"ITU-R BT.709"}}])(t,(function(t,n){e(n)}))}))},t.exports=a},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(110),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(3))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,o,a,s,u=1,l={},h=!1,c=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){d(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){d(t.data)},r=function(t){o.port2.postMessage(t)}):c&&"onreadystatechange"in c.createElement("script")?(i=c.documentElement,r=function(t){var e=c.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(d,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&d(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),r=function(e){t.postMessage(a+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return l[u]=i,r(u),u++},f.clearImmediate=p}function p(t){delete l[t]}function d(t){if(h)setTimeout(d,0,t);else{var e=l[t];if(e){h=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{p(t),h=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(3),n(49))},function(t,e,n){(function(t,n){var r="[object Arguments]",i="[object Map]",o="[object Object]",a="[object Set]",s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/,l=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g,f=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d[r]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d["[object Function]"]=d[i]=d["[object Number]"]=d[o]=d["[object RegExp]"]=d[a]=d["[object String]"]=d["[object WeakMap]"]=!1;var m="object"==typeof t&&t&&t.Object===Object&&t,y="object"==typeof self&&self&&self.Object===Object&&self,v=m||y||Function("return this")(),g=e&&!e.nodeType&&e,x=g&&"object"==typeof n&&n&&!n.nodeType&&n,w=x&&x.exports===g&&m.process,_=function(){try{return w&&w.binding("util")}catch(t){}}(),b=_&&_.isTypedArray;function P(t,e,n,r){var i=-1,o=t?t.length:0;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function C(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function T(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function I(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function E(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function M(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var A,N,S,L=Array.prototype,O=Function.prototype,D=Object.prototype,k=v["__core-js_shared__"],X=(A=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",Y=O.toString,R=D.hasOwnProperty,B=D.toString,F=RegExp("^"+Y.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=v.Symbol,U=v.Uint8Array,z=D.propertyIsEnumerable,W=L.splice,q=(N=Object.keys,S=Object,function(t){return N(S(t))}),H=It(v,"DataView"),Z=It(v,"Map"),V=It(v,"Promise"),G=It(v,"Set"),$=It(v,"WeakMap"),J=It(Object,"create"),Q=Dt(H),K=Dt(Z),tt=Dt(V),et=Dt(G),nt=Dt($),rt=j?j.prototype:void 0,it=rt?rt.valueOf:void 0,ot=rt?rt.toString:void 0;function at(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function st(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ut(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function lt(t){var e=-1,n=t?t.length:0;for(this.__data__=new ut;++e<n;)this.add(t[e])}function ht(t){this.__data__=new st(t)}function ct(t,e){var n=Rt(t)||Yt(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,i=!!r;for(var o in t)!e&&!R.call(t,o)||i&&("length"==o||Mt(o,r))||n.push(o);return n}function ft(t,e){for(var n=t.length;n--;)if(Xt(t[n][0],e))return n;return-1}at.prototype.clear=function(){this.__data__=J?J(null):{}},at.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},at.prototype.get=function(t){var e=this.__data__;if(J){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return R.call(e,t)?e[t]:void 0},at.prototype.has=function(t){var e=this.__data__;return J?void 0!==e[t]:R.call(e,t)},at.prototype.set=function(t,e){return this.__data__[t]=J&&void 0===e?"__lodash_hash_undefined__":e,this},st.prototype.clear=function(){this.__data__=[]},st.prototype.delete=function(t){var e=this.__data__,n=ft(e,t);return!(n<0)&&(n==e.length-1?e.pop():W.call(e,n,1),!0)},st.prototype.get=function(t){var e=this.__data__,n=ft(e,t);return n<0?void 0:e[n][1]},st.prototype.has=function(t){return ft(this.__data__,t)>-1},st.prototype.set=function(t,e){var n=this.__data__,r=ft(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},ut.prototype.clear=function(){this.__data__={hash:new at,map:new(Z||st),string:new at}},ut.prototype.delete=function(t){return Tt(this,t).delete(t)},ut.prototype.get=function(t){return Tt(this,t).get(t)},ut.prototype.has=function(t){return Tt(this,t).has(t)},ut.prototype.set=function(t,e){return Tt(this,t).set(t,e),this},lt.prototype.add=lt.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},lt.prototype.has=function(t){return this.__data__.has(t)},ht.prototype.clear=function(){this.__data__=new st},ht.prototype.delete=function(t){return this.__data__.delete(t)},ht.prototype.get=function(t){return this.__data__.get(t)},ht.prototype.has=function(t){return this.__data__.has(t)},ht.prototype.set=function(t,e){var n=this.__data__;if(n instanceof st){var r=n.__data__;if(!Z||r.length<199)return r.push([t,e]),this;n=this.__data__=new ut(r)}return n.set(t,e),this};var pt,dt,mt=(pt=function(t,e){return t&&yt(t,e,Ht)},function(t,e){if(null==t)return t;if(!Bt(t))return pt(t,e);for(var n=t.length,r=dt?n:-1,i=Object(t);(dt?r--:++r<n)&&!1!==e(i[r],r,i););return t}),yt=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}();function vt(t,e){for(var n=0,r=(e=At(e,t)?[e]:Pt(e)).length;null!=t&&n<r;)t=t[Ot(e[n++])];return n&&n==r?t:void 0}function gt(t,e){return null!=t&&e in Object(t)}function xt(t,e,n,s,u){return t===e||(null==t||null==e||!Ut(t)&&!zt(e)?t!=t&&e!=e:function(t,e,n,s,u,l){var h=Rt(t),c=Rt(e),f="[object Array]",p="[object Array]";h||(f=(f=Et(t))==r?o:f);c||(p=(p=Et(e))==r?o:p);var d=f==o&&!I(t),m=p==o&&!I(e),y=f==p;if(y&&!d)return l||(l=new ht),h||qt(t)?Ct(t,e,n,s,u,l):function(t,e,n,r,o,s,u){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!r(new U(t),new U(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Xt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case i:var l=E;case a:var h=2&s;if(l||(l=M),t.size!=e.size&&!h)return!1;var c=u.get(t);if(c)return c==e;s|=1,u.set(t,e);var f=Ct(l(t),l(e),r,o,s,u);return u.delete(t),f;case"[object Symbol]":if(it)return it.call(t)==it.call(e)}return!1}(t,e,f,n,s,u,l);if(!(2&u)){var v=d&&R.call(t,"__wrapped__"),g=m&&R.call(e,"__wrapped__");if(v||g){var x=v?t.value():t,w=g?e.value():e;return l||(l=new ht),n(x,w,s,u,l)}}if(!y)return!1;return l||(l=new ht),function(t,e,n,r,i,o){var a=2&i,s=Ht(t),u=s.length,l=Ht(e).length;if(u!=l&&!a)return!1;var h=u;for(;h--;){var c=s[h];if(!(a?c in e:R.call(e,c)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var p=!0;o.set(t,e),o.set(e,t);var d=a;for(;++h<u;){c=s[h];var m=t[c],y=e[c];if(r)var v=a?r(y,m,c,e,t,o):r(m,y,c,t,e,o);if(!(void 0===v?m===y||n(m,y,r,i,o):v)){p=!1;break}d||(d="constructor"==c)}if(p&&!d){var g=t.constructor,x=e.constructor;g==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof x&&x instanceof x||(p=!1)}return o.delete(t),o.delete(e),p}(t,e,n,s,u,l)}(t,e,xt,n,s,u))}function wt(t){return!(!Ut(t)||function(t){return!!X&&X in t}(t))&&(Ft(t)||I(t)?F:f).test(Dt(t))}function _t(t){return"function"==typeof t?t:null==t?Zt:"object"==typeof t?Rt(t)?function(t,e){if(At(t)&&Nt(e))return St(Ot(t),e);return function(n){var r=function(t,e,n){var r=null==t?void 0:vt(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?function(t,e){return null!=t&&function(t,e,n){e=At(e,t)?[e]:Pt(e);var r,i=-1,o=e.length;for(;++i<o;){var a=Ot(e[i]);if(!(r=null!=t&&n(t,a)))break;t=t[a]}if(r)return r;return!!(o=t?t.length:0)&&jt(o)&&Mt(a,o)&&(Rt(t)||Yt(t))}(t,e,gt)}(n,t):xt(e,r,void 0,3)}}(t[0],t[1]):function(t){var e=function(t){var e=Ht(t),n=e.length;for(;n--;){var r=e[n],i=t[r];e[n]=[r,i,Nt(i)]}return e}(t);if(1==e.length&&e[0][2])return St(e[0][0],e[0][1]);return function(n){return n===t||function(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var u=(s=n[i])[0],l=t[u],h=s[1];if(a&&s[2]){if(void 0===l&&!(u in t))return!1}else{var c=new ht;if(r)var f=r(l,h,u,t,e,c);if(!(void 0===f?xt(h,l,r,3,c):f))return!1}}return!0}(n,t,e)}}(t):At(e=t)?(n=Ot(e),function(t){return null==t?void 0:t[n]}):function(t){return function(e){return vt(e,t)}}(e);var e,n}function bt(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||D,e!==r)return q(t);var e,n,r,i=[];for(var o in Object(t))R.call(t,o)&&"constructor"!=o&&i.push(o);return i}function Pt(t){return Rt(t)?t:Lt(t)}function Ct(t,e,n,r,i,o){var a=2&i,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var h=-1,c=!0,f=1&i?new lt:void 0;for(o.set(t,e),o.set(e,t);++h<s;){var p=t[h],d=e[h];if(r)var m=a?r(d,p,h,e,t,o):r(p,d,h,t,e,o);if(void 0!==m){if(m)continue;c=!1;break}if(f){if(!C(e,(function(t,e){if(!f.has(e)&&(p===t||n(p,t,r,i,o)))return f.add(e)}))){c=!1;break}}else if(p!==d&&!n(p,d,r,i,o)){c=!1;break}}return o.delete(t),o.delete(e),c}function Tt(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function It(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return wt(n)?n:void 0}var Et=function(t){return B.call(t)};function Mt(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||p.test(t))&&t>-1&&t%1==0&&t<e}function At(t,e){if(Rt(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Wt(t))||(u.test(t)||!s.test(t)||null!=e&&t in Object(e))}function Nt(t){return t==t&&!Ut(t)}function St(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(H&&"[object DataView]"!=Et(new H(new ArrayBuffer(1)))||Z&&Et(new Z)!=i||V&&"[object Promise]"!=Et(V.resolve())||G&&Et(new G)!=a||$&&"[object WeakMap]"!=Et(new $))&&(Et=function(t){var e=B.call(t),n=e==o?t.constructor:void 0,r=n?Dt(n):void 0;if(r)switch(r){case Q:return"[object DataView]";case K:return i;case tt:return"[object Promise]";case et:return a;case nt:return"[object WeakMap]"}return e});var Lt=kt((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(Wt(t))return ot?ot.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var n=[];return l.test(t)&&n.push(""),t.replace(h,(function(t,e,r,i){n.push(r?i.replace(c,"$1"):e||t)})),n}));function Ot(t){if("string"==typeof t||Wt(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Dt(t){if(null!=t){try{return Y.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function kt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(kt.Cache||ut),n}function Xt(t,e){return t===e||t!=t&&e!=e}function Yt(t){return function(t){return zt(t)&&Bt(t)}(t)&&R.call(t,"callee")&&(!z.call(t,"callee")||B.call(t)==r)}kt.Cache=ut;var Rt=Array.isArray;function Bt(t){return null!=t&&jt(t.length)&&!Ft(t)}function Ft(t){var e=Ut(t)?B.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}function jt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Ut(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function zt(t){return!!t&&"object"==typeof t}function Wt(t){return"symbol"==typeof t||zt(t)&&"[object Symbol]"==B.call(t)}var qt=b?function(t){return function(e){return t(e)}}(b):function(t){return zt(t)&&jt(t.length)&&!!d[B.call(t)]};function Ht(t){return Bt(t)?ct(t):bt(t)}function Zt(t){return t}n.exports=function(t,e,n){var r=Rt(t)?P:T,i=arguments.length<3;return r(t,_t(e),n,i,mt)}}).call(this,n(3),n(20)(t))},function(t,e,n){"use strict";var r={characterAt:function(t,e){return t&&0!==t.length?(t=String(t),e<0&&(e=t.length+e),t.charAt(e)):""},concatenate:function(){for(var t="",e=0;e<arguments.length;e++){var n=arguments[e];t+=n=void 0!==n?String(n):""}return t},endsWith:function(t,e){return!(!t||!e)&&-1!==(t=String(t)).indexOf(e,t.length-e.length)},reverse:function(t){return t.slice().reverse()},startsWith:function(t,e){return!(!t||!e)&&0===(t=String(t)).indexOf(e)}};r.string=String,r.stringContains=function(t,e){return!(!t||!e)&&-1!==(t=String(t)).indexOf(e)},r.stringEquals=function(t,e,n){return t=String(t),e=String(e),!(!t||!e)&&(n?t.toLowerCase()===e.toLowerCase():t===e)},r.stringLength=function(t){return t?(t=String(t)).length:0},r.stringReplace=function(t,e,n){return(t=String(t)).replace(new RegExp(e,"g"),n)},r.stringSplit=function(t,e){return t?(e&&0!==e.length||(e=""),(t=String(t)).split(e)):[]},r.stringTrim=function(t){return t?(t=String(t)).trim():null},r.substring=function(t,e,n,r){return t?n<e?"":(t=String(t),e<0&&n<0&&(e=t.length+e,n=t.length+n),void 0!==n&&r&&(n+=1),t.substring(e,n)):""},r.toCharacterCodes=function(t){if(!t)return[];var e=[];e.length=t.length;for(var n=0;n<t.length;n+=1)e[n]=t.charCodeAt(n);return e},r.toCharacters=function(t){return t?(t=String(t)).split(""):[]},r.toLowerCase=function(t){return(t=String(t)).toLowerCase()},r.toTitleCase=function(t){var e,n="";t=String(t);for(var r=0;r<t.length;r+=1)e=t[r],0===n.length||" "===n[n.length-1]?n+=e.toUpperCase():n+=e;return n},r.toUpperCase=function(t){return(t=String(t)).toUpperCase()},r.wordCount=function(t){return t?(t=String(t)).split(new RegExp("\\w+")).length-1:0},r.toWords=function(t){var e=t.split(/\W+/);return""===e[e.length-1]&&e.pop(),e},t.exports=r},function(t,e,n){"use strict";function r(t){return"object"==typeof t&&null!==t}function i(t){return Object.prototype.toString.call(t)}var o,a,s,u={isObject:r,isRegExp:function(t){return r(t)&&"[object RegExp]"===i(t)},isDate:function(t){return r(t)&&"[object Date]"===i(t)},isNullOrUndefined:function(t){return null==t},isBuffer:function(){return!1}},l=Array.prototype.slice,h={};a=function(t,e){if(t===e)return!0;if(u.isBuffer(t)&&u.isBuffer(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return u.isDate(t)&&u.isDate(e)?t.getTime()===e.getTime():u.isRegExp(t)&&u.isRegExp(e)?t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase:u.isObject(t)||u.isObject(e)?s(t,e):t==e},h.deepEqual=a,o=function(t){return"[object Arguments]"===Object.prototype.toString.call(t)},s=function(t,e){if(u.isNullOrUndefined(t)||u.isNullOrUndefined(e))return!1;if(t.prototype!==e.prototype)return!1;var n,r,i,s,h=o(t),c=o(e);if(h&&!c||!h&&c)return!1;if(h)return t=l.call(t),e=l.call(e),a(t,e);try{n=Object.keys(t),r=Object.keys(e)}catch(t){return!1}if(n.length!==r.length)return!1;for(n.sort(),r.sort(),s=n.length-1;s>=0;s--)if(n[s]!=r[s])return!1;for(s=n.length-1;s>=0;s--)if(i=n[s],!a(t[i],e[i]))return!1;return!0},t.exports=h},function(t,e,n){"use strict";var r=n(115),i=n(116),o=n(52),a={convert:function(t,e,n,r,i){var o=arguments.length;if(2===o){var a=arguments[1];e=a.inMin,n=a.inMax,r=a.outMin,i=a.outMax}else 3===o&&(e=arguments[1][0],n=arguments[1][1],r=arguments[2][0],i=arguments[2][1]);try{t=(t-e)/(n-e)}catch(n){t=e}return r+t*(i-r)},filterData:function(t,e,n,r){if(!t)return[];var i,o,a;if(null==r)return t;var s=[];if("=="===n)for(i=0,o=t.length;i<o;i++)(a=t[i])[e]==r&&s.push(a);else if("!="===n)for(i=0,o=t.length;i<o;i++)(a=t[i])[e]!=r&&s.push(a);else if(">"===n)for(i=0,o=t.length;i<o;i++)(a=t[i])[e]>r&&s.push(a);else if(">="===n)for(i=0,o=t.length;i<o;i++)(a=t[i])[e]>=r&&s.push(a);else if("<"===n)for(i=0,o=t.length;i<o;i++)(a=t[i])[e]<r&&s.push(a);else{if("<="!==n)throw new Error("Invalid op "+n);for(i=0,o=t.length;i<o;i++)(a=t[i])[e]<=r&&s.push(a)}return s},groupBy:function(t,e){return r(i(t,e))},keys:function(t){for(var e=[],n=0;n<t.length;n++)e=e.concat(Object.keys(t[n]));return o.distinct(e)},lookup:function(t,e){var n,r;if(void 0!==(r=(n=t)[e]))return"function"==typeof r&&(r=r.call(n)),r;for(var i,o=e.split("."),a=0;a<o.length;a+=1)i=o[a],n&&(n="function"==typeof n[i]?(r=n[i]).call(n):n[i]);return n},dataScale:function(t,e,n){return{domain:t,outMin:e,outMax:n}},ticks:function(t,e,n){n=void 0!==n?n:10;var r,i=e-t,o=Math.pow(10,Math.floor(Math.log(i/n)/Math.LN10)),a=n/i*o,s=[];for(a<=.15?o*=10:a<=.35?o*=5:a<=.75&&(o*=2),t=Math.ceil(t/o)*o,e=Math.floor(e/o)*o+.5*o,r=t;r<e;r+=o)s.push(r);return s}};t.exports=a},function(t,e){var n=/^(?:0|[1-9]\d*)$/;function r(t,e){return function(t,e){for(var n=-1,r=t?t.length:0,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}(e,(function(e){return t[e]}))}var i,o,a=Object.prototype,s=a.hasOwnProperty,u=a.toString,l=a.propertyIsEnumerable,h=(i=Object.keys,o=Object,function(t){return i(o(t))});function c(t,e){var n=d(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&m(t)}(t)&&s.call(t,"callee")&&(!l.call(t,"callee")||"[object Arguments]"==u.call(t))}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,i=!!r;for(var o in t)!e&&!s.call(t,o)||i&&("length"==o||p(o,r))||n.push(o);return n}function f(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||a,e!==r)return h(t);var e,n,r,i=[];for(var o in Object(t))s.call(t,o)&&"constructor"!=o&&i.push(o);return i}function p(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||n.test(t))&&t>-1&&t%1==0&&t<e}var d=Array.isArray;function m(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?u.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)}t.exports=function(t){return t?r(t,function(t){return m(t)?c(t):f(t)}(t)):[]}},function(t,e,n){(function(t,n){var r="[object Arguments]",i="[object Map]",o="[object Object]",a="[object Set]",s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/,l=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g,f=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d[r]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d["[object Function]"]=d[i]=d["[object Number]"]=d[o]=d["[object RegExp]"]=d[a]=d["[object String]"]=d["[object WeakMap]"]=!1;var m="object"==typeof t&&t&&t.Object===Object&&t,y="object"==typeof self&&self&&self.Object===Object&&self,v=m||y||Function("return this")(),g=e&&!e.nodeType&&e,x=g&&"object"==typeof n&&n&&!n.nodeType&&n,w=x&&x.exports===g&&m.process,_=function(){try{return w&&w.binding("util")}catch(t){}}(),b=_&&_.isTypedArray;function P(t,e,n,r){for(var i=-1,o=t?t.length:0;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function C(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function T(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function I(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function E(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var M,A,N,S=Array.prototype,L=Function.prototype,O=Object.prototype,D=v["__core-js_shared__"],k=(M=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+M:"",X=L.toString,Y=O.hasOwnProperty,R=O.toString,B=RegExp("^"+X.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F=v.Symbol,j=v.Uint8Array,U=O.propertyIsEnumerable,z=S.splice,W=(A=Object.keys,N=Object,function(t){return A(N(t))}),q=It(v,"DataView"),H=It(v,"Map"),Z=It(v,"Promise"),V=It(v,"Set"),G=It(v,"WeakMap"),$=It(Object,"create"),J=Dt(q),Q=Dt(H),K=Dt(Z),tt=Dt(V),et=Dt(G),nt=F?F.prototype:void 0,rt=nt?nt.valueOf:void 0,it=nt?nt.toString:void 0;function ot(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function at(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function st(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ut(t){var e=-1,n=t?t.length:0;for(this.__data__=new st;++e<n;)this.add(t[e])}function lt(t){this.__data__=new at(t)}function ht(t,e){var n=jt(t)||Ft(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,i=!!r;for(var o in t)!e&&!Y.call(t,o)||i&&("length"==o||Mt(o,r))||n.push(o);return n}function ct(t,e){for(var n=t.length;n--;)if(Bt(t[n][0],e))return n;return-1}function ft(t,e,n,r){return mt(t,(function(t,i,o){e(r,t,n(t),o)})),r}ot.prototype.clear=function(){this.__data__=$?$(null):{}},ot.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},ot.prototype.get=function(t){var e=this.__data__;if($){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Y.call(e,t)?e[t]:void 0},ot.prototype.has=function(t){var e=this.__data__;return $?void 0!==e[t]:Y.call(e,t)},ot.prototype.set=function(t,e){return this.__data__[t]=$&&void 0===e?"__lodash_hash_undefined__":e,this},at.prototype.clear=function(){this.__data__=[]},at.prototype.delete=function(t){var e=this.__data__,n=ct(e,t);return!(n<0)&&(n==e.length-1?e.pop():z.call(e,n,1),!0)},at.prototype.get=function(t){var e=this.__data__,n=ct(e,t);return n<0?void 0:e[n][1]},at.prototype.has=function(t){return ct(this.__data__,t)>-1},at.prototype.set=function(t,e){var n=this.__data__,r=ct(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},st.prototype.clear=function(){this.__data__={hash:new ot,map:new(H||at),string:new ot}},st.prototype.delete=function(t){return Tt(this,t).delete(t)},st.prototype.get=function(t){return Tt(this,t).get(t)},st.prototype.has=function(t){return Tt(this,t).has(t)},st.prototype.set=function(t,e){return Tt(this,t).set(t,e),this},ut.prototype.add=ut.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},ut.prototype.has=function(t){return this.__data__.has(t)},lt.prototype.clear=function(){this.__data__=new at},lt.prototype.delete=function(t){return this.__data__.delete(t)},lt.prototype.get=function(t){return this.__data__.get(t)},lt.prototype.has=function(t){return this.__data__.has(t)},lt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof at){var r=n.__data__;if(!H||r.length<199)return r.push([t,e]),this;n=this.__data__=new st(r)}return n.set(t,e),this};var pt,dt,mt=(pt=function(t,e){return t&&yt(t,e,Gt)},function(t,e){if(null==t)return t;if(!Ut(t))return pt(t,e);for(var n=t.length,r=dt?n:-1,i=Object(t);(dt?r--:++r<n)&&!1!==e(i[r],r,i););return t}),yt=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}();function vt(t,e){for(var n=0,r=(e=At(e,t)?[e]:Pt(e)).length;null!=t&&n<r;)t=t[Ot(e[n++])];return n&&n==r?t:void 0}function gt(t,e){return null!=t&&e in Object(t)}function xt(t,e,n,s,u){return t===e||(null==t||null==e||!qt(t)&&!Ht(e)?t!=t&&e!=e:function(t,e,n,s,u,l){var h=jt(t),c=jt(e),f="[object Array]",p="[object Array]";h||(f=(f=Et(t))==r?o:f);c||(p=(p=Et(e))==r?o:p);var d=f==o&&!T(t),m=p==o&&!T(e),y=f==p;if(y&&!d)return l||(l=new lt),h||Vt(t)?Ct(t,e,n,s,u,l):function(t,e,n,r,o,s,u){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!r(new j(t),new j(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Bt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case i:var l=I;case a:var h=2&s;if(l||(l=E),t.size!=e.size&&!h)return!1;var c=u.get(t);if(c)return c==e;s|=1,u.set(t,e);var f=Ct(l(t),l(e),r,o,s,u);return u.delete(t),f;case"[object Symbol]":if(rt)return rt.call(t)==rt.call(e)}return!1}(t,e,f,n,s,u,l);if(!(2&u)){var v=d&&Y.call(t,"__wrapped__"),g=m&&Y.call(e,"__wrapped__");if(v||g){var x=v?t.value():t,w=g?e.value():e;return l||(l=new lt),n(x,w,s,u,l)}}if(!y)return!1;return l||(l=new lt),function(t,e,n,r,i,o){var a=2&i,s=Gt(t),u=s.length,l=Gt(e).length;if(u!=l&&!a)return!1;var h=u;for(;h--;){var c=s[h];if(!(a?c in e:Y.call(e,c)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var p=!0;o.set(t,e),o.set(e,t);var d=a;for(;++h<u;){c=s[h];var m=t[c],y=e[c];if(r)var v=a?r(y,m,c,e,t,o):r(m,y,c,t,e,o);if(!(void 0===v?m===y||n(m,y,r,i,o):v)){p=!1;break}d||(d="constructor"==c)}if(p&&!d){var g=t.constructor,x=e.constructor;g==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof x&&x instanceof x||(p=!1)}return o.delete(t),o.delete(e),p}(t,e,n,s,u,l)}(t,e,xt,n,s,u))}function wt(t){return!(!qt(t)||function(t){return!!k&&k in t}(t))&&(zt(t)||T(t)?B:f).test(Dt(t))}function _t(t){return"function"==typeof t?t:null==t?$t:"object"==typeof t?jt(t)?function(t,e){if(At(t)&&Nt(e))return St(Ot(t),e);return function(n){var r=function(t,e,n){var r=null==t?void 0:vt(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?function(t,e){return null!=t&&function(t,e,n){e=At(e,t)?[e]:Pt(e);var r,i=-1,o=e.length;for(;++i<o;){var a=Ot(e[i]);if(!(r=null!=t&&n(t,a)))break;t=t[a]}if(r)return r;return!!(o=t?t.length:0)&&Wt(o)&&Mt(a,o)&&(jt(t)||Ft(t))}(t,e,gt)}(n,t):xt(e,r,void 0,3)}}(t[0],t[1]):function(t){var e=function(t){var e=Gt(t),n=e.length;for(;n--;){var r=e[n],i=t[r];e[n]=[r,i,Nt(i)]}return e}(t);if(1==e.length&&e[0][2])return St(e[0][0],e[0][1]);return function(n){return n===t||function(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var u=(s=n[i])[0],l=t[u],h=s[1];if(a&&s[2]){if(void 0===l&&!(u in t))return!1}else{var c=new lt;if(r)var f=r(l,h,u,t,e,c);if(!(void 0===f?xt(h,l,r,3,c):f))return!1}}return!0}(n,t,e)}}(t):At(e=t)?(n=Ot(e),function(t){return null==t?void 0:t[n]}):function(t){return function(e){return vt(e,t)}}(e);var e,n}function bt(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||O,e!==r)return W(t);var e,n,r,i=[];for(var o in Object(t))Y.call(t,o)&&"constructor"!=o&&i.push(o);return i}function Pt(t){return jt(t)?t:Lt(t)}function Ct(t,e,n,r,i,o){var a=2&i,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var h=-1,c=!0,f=1&i?new ut:void 0;for(o.set(t,e),o.set(e,t);++h<s;){var p=t[h],d=e[h];if(r)var m=a?r(d,p,h,e,t,o):r(p,d,h,t,e,o);if(void 0!==m){if(m)continue;c=!1;break}if(f){if(!C(e,(function(t,e){if(!f.has(e)&&(p===t||n(p,t,r,i,o)))return f.add(e)}))){c=!1;break}}else if(p!==d&&!n(p,d,r,i,o)){c=!1;break}}return o.delete(t),o.delete(e),c}function Tt(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function It(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return wt(n)?n:void 0}var Et=function(t){return R.call(t)};function Mt(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||p.test(t))&&t>-1&&t%1==0&&t<e}function At(t,e){if(jt(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Zt(t))||(u.test(t)||!s.test(t)||null!=e&&t in Object(e))}function Nt(t){return t==t&&!qt(t)}function St(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(q&&"[object DataView]"!=Et(new q(new ArrayBuffer(1)))||H&&Et(new H)!=i||Z&&"[object Promise]"!=Et(Z.resolve())||V&&Et(new V)!=a||G&&"[object WeakMap]"!=Et(new G))&&(Et=function(t){var e=R.call(t),n=e==o?t.constructor:void 0,r=n?Dt(n):void 0;if(r)switch(r){case J:return"[object DataView]";case Q:return i;case K:return"[object Promise]";case tt:return a;case et:return"[object WeakMap]"}return e});var Lt=Rt((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(Zt(t))return it?it.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var n=[];return l.test(t)&&n.push(""),t.replace(h,(function(t,e,r,i){n.push(r?i.replace(c,"$1"):e||t)})),n}));function Ot(t){if("string"==typeof t||Zt(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Dt(t){if(null!=t){try{return X.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var kt,Xt,Yt=(kt=function(t,e,n){Y.call(t,n)?t[n].push(e):t[n]=[e]},function(t,e){var n=jt(t)?P:ft,r=Xt?Xt():{};return n(t,kt,_t(e),r)});function Rt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(Rt.Cache||st),n}function Bt(t,e){return t===e||t!=t&&e!=e}function Ft(t){return function(t){return Ht(t)&&Ut(t)}(t)&&Y.call(t,"callee")&&(!U.call(t,"callee")||R.call(t)==r)}Rt.Cache=st;var jt=Array.isArray;function Ut(t){return null!=t&&Wt(t.length)&&!zt(t)}function zt(t){var e=qt(t)?R.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}function Wt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function qt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Ht(t){return!!t&&"object"==typeof t}function Zt(t){return"symbol"==typeof t||Ht(t)&&"[object Symbol]"==R.call(t)}var Vt=b?function(t){return function(e){return t(e)}}(b):function(t){return Ht(t)&&Wt(t.length)&&!!d[R.call(t)]};function Gt(t){return Ut(t)?ht(t):bt(t)}function $t(t){return t}n.exports=Yt}).call(this,n(3),n(20)(t))},function(t,e,n){"use strict";var r=n(21),i=n(33),o=i.Img,a=i.Layer,s=i.ImageCanvas,u={blend:function(t,e,n){var i=t.bounds(),a=e.bounds(),u=new r.Rect(i.x,i.y,i.width,i.height).unite(a),l=Math.ceil(u.width),h=Math.ceil(u.height),c=l/2+u.x,f=h/2+u.y,p=new s(l,h);p.addLayer(t.toLayer()).translate(-c,-f);var d=p.addLayer(e.toLayer());return d.translate(-c,-f),d.blendmode=n,new o(p.render(),c,f)},blur:function(t,e){var n=t.toLayer(!1);return n.addFilter("blur",{radius:e}),t.withCanvas(n.toCanvas())},brighten:function(t,e,n){var r=t.toLayer(!1);return r.addFilter("brightness",{brightness:e/100,contrast:n/100}),t.withCanvas(r.toCanvas())},bump:function(t,e,n,r){var i=t.toLayer(!1);return i.addFilter("bump",{dx:e.x,dy:e.y,radius:n,zoom:r/100}),t.withCanvas(i.toCanvas())},colorImage:function(t,e,n){var r=a.fromColor(n);return r.width=t,r.height=e,new o(r.toCanvas())},crop:function(t,e){return t.crop(e)},crossEdges:function(t,e){var n=t.toLayer(!1);return n.addFilter("crossedges",{strength:e/100}),t.withCanvas(n.toCanvas())},dent:function(t,e,n,r){var i=t.toLayer(!1);return i.addFilter("dent",{dx:e.x,dy:e.y,radius:n,zoom:r/100}),t.withCanvas(i.toCanvas())},emboss:function(t,e,n){var r=t.toLayer(!1);return r.addFilter("emboss",{amount:e/100,angle:n}),t.withCanvas(r.toCanvas())},equalize:function(t){var e=t.toLayer(!1);return e.addFilter("equalize"),t.withCanvas(e.toCanvas())},findEdges:function(t){var e=t.toLayer(!1);return e.addFilter("findedges"),t.withCanvas(e.toCanvas())},glow:function(t,e,n){var r=t.toLayer(!1);return r.addFilter("glow",{amount:e/100,kernelSize:n}),t.withCanvas(r.toCanvas())},gradientImage:function(t,e,n,r,i,s,u){var l=a.fromGradient(n,r,i,s,u/100);return l.width=t,l.height=e,new o(l.toCanvas())},histogram:function(t,e,n){var r,i,o,a,s=t.getPixels(),u=new Array(256);for(r=0;r<u.length;r+=1)u[r]=0;if("lum"===e)for(r=0;r<s.width*s.height;r+=1)a=.2125*(o=s.get(r))[0]+.7154*o[1]+.0721*o[2],u[Math.round(a)]+=1;else for("red"===e&&(i=0),"green"===e&&(i=1),"blue"===e&&(i=2),"alpha"===e&&(i=3),r=0;r<s.width*s.height;r+=1)u[a=(o=s.get(r))[i]]+=1;if(n)for(r=0;r<u.length;r+=1)u[r]/=s.width*s.height;return u},lightTunnel:function(t,e,n){var r=t.toLayer(!1);return r.addFilter("splash",{dx:e.x,dy:e.y,radius:n}),t.withCanvas(r.toCanvas())},luminanceBW:function(t){var e=t.toLayer(!1);return e.addFilter("luminancebw"),t.withCanvas(e.toCanvas())},mask:function(t,e){t=t.transformed(),e=e.transformed();var n=t.toLayer(!1),i=e.toLayer(),o=t.bounds(),a=e.bounds(),s=new r.Rect(o.x,o.y,o.width,o.height).unite(a),u=Math.ceil(s.width),l=Math.ceil(s.height),h=u/2+s.x,c=l/2+s.y;i.translate(-h,-c);var f=n.mask.addLayer("white");return f.width=n.width,f.height=n.height,n.mask.addLayer(i),t.withCanvas(n.toCanvas())},mosaic:function(t,e){var n=t.toLayer(!1);return n.addFilter("mosaic",{blockSize:e}),t.withCanvas(n.toCanvas())},pinch:function(t,e,n){var r=t.toLayer(!1);return r.addFilter("pinch",{dx:e.x,dy:e.y,zoom:n/100}),t.withCanvas(r.toCanvas())},posterize:function(t,e){var n=t.toLayer(!1);return n.addFilter("posterize",{levels:e}),t.withCanvas(n.toCanvas())},removeNoise:function(t){var e=t.toLayer(!1);return e.addFilter("removenoise"),t.withCanvas(e.toCanvas())},solarize:function(t){var e=t.toLayer(!1);return e.addFilter("solarize"),t.withCanvas(e.toCanvas())},toBitmap:function(t,e){var n,r=document.createElement("canvas"),i=(n=e?e.bounds():t.bounds()).x,a=n.y,s=r.width=Math.ceil(n.width),u=r.height=Math.ceil(n.height),l=r.getContext("2d");return l.translate(-i,-a),t.draw(l),new o(r,s/2+i,u/2+a)},toPixels:function(t,e){e=e>1?e:1;for(var n=t.canvas,i=n.width,o=n.height,a=n.getContext("2d").getImageData(0,0,n.width,n.height).data,s=4*n.width,u=[],l=0;l<o;l+=e)for(var h=0;h<i;h+=e){var c=l*s+4*h,f=a[c],p=a[c+1],d=a[c+2],m=a[c+3];u.push({x:h-i/2,y:l-o/2,r:f,g:p,b:d,a:m,color:new r.Color(f/255,p/255,d/255,m/255)})}return u},twirl:function(t,e,n,r){var i=t.toLayer(!1);return i.addFilter("twirl",{dx:e.x,dy:e.y,radius:n,angle:r}),t.withCanvas(i.toCanvas())}};t.exports=u},function(t,e,n){"use strict";var r=n(21),i=n(33),o=n(50),a={};function s(t,e,n){return Math.min(n,Math.max(e,t))}function u(t,e){return e.transformShape(t)}function l(t,e){return t._transform(e.m)}function h(t,e){if(t instanceof r.Path||t instanceof r.Group||t instanceof r.Text||void 0!==t.x&&void 0!==t.y)return u(t,e);if(Array.isArray(t)){for(var n=[],o=0;o<t.length;o+=1)n.push(h(t[o],e));return n}return t instanceof i.Img?l(t,e):void 0}a.HORIZONTAL="horizontal",a.VERTICAL="vertical",a.BOTH="both",a.LEFT="left",a.RIGHT="right",a.CENTER="center",a.TOP="top",a.BOTTOM="bottom",a.MIDDLE="middle",a.align=function(t,e,n,i){if(t){var o,s,u=e.x,l=e.y,c=r.bounds(t);return o=n===a.LEFT?u-c.x:n===a.RIGHT?u-c.x-c.width:n===a.CENTER?u-c.x-c.width/2:0,s=i===a.TOP?l-c.y:i===a.BOTTOM?l-c.y-c.height:i===a.MIDDLE?l-c.y-c.height/2:0,h(t,(new r.Transform).translate(o,s))}},a.colorize=function(t,e){var n=arguments;if(("object"!=typeof e||e instanceof r.Color)&&(e={},void 0!==n[1]&&(e.fill=n[1]),void 0!==n[2]&&(e.stroke=n[2]),void 0!==n[3]&&(e.strokeWidth=n[3])),t instanceof r.Path||t instanceof r.Group)return t.colorize(e);if(t instanceof i.Img||t instanceof r.Text){if(e.fill||0===e.fill)return t.colorize(e.fill);throw new Error("No color given")}},a.copy=function(t,e,n,o,a,s){if(!t)return[];var h,c,f,p,d,m=[],y=0,v=0,g=0,x=1,w=1,_=!1;for(t instanceof r.Path||t instanceof r.Group||t instanceof r.Text?d=u:Array.isArray(t)&&t.length>0&&void 0!==t[0].x&&void 0!==t[0].y?(_=!0,d=u):t instanceof i.Img&&(d=l),h=0;h<e;h+=1){for(c=new r.Transform,f=0;f<n.length;f+=1)"t"===(p=n[f])?c=c.translate(y,v):"r"===p?c=c.rotate(g):"s"===p&&(c=c.scale(x,w));_?m=m.concat(d(t,c)):m.push(d(t,c)),y+=o.x,v+=o.y,g+=a,x+=s.x,w+=s.y}return m},a.flip=function(t,e){if("none"===e)return t;if(t instanceof r.Path||t instanceof r.Group||t instanceof r.Text||Array.isArray(t)&&t.length>0&&void 0!==t[0].x&&void 0!==t[0].y){var n=e===a.HORIZONTAL||e===a.BOTH?-1:1,o=e===a.VERTICAL||e===a.BOTH?-1:1;return r.scale(t,new r.Point(n,o),r.centerPoint(t))}if(t instanceof i.Img){var s=t,u=s.toLayer(!1);return e!==a.HORIZONTAL&&e!==a.BOTH||u.flipHorizontal(),e!==a.VERTICAL&&e!==a.BOTH||u.flipVertical(),s.withCanvas(u.toCanvas())}},a.fit=function(t,e,n,i,o){if(t){o=void 0!==o&&o;var a,s,u,l=r.bounds(t),c=l.x,f=l.y,p=l.width,d=l.height;return p=p>1e-12?p:0,d=d>1e-12?d:0,a=(a=new r.Transform).translate(e.x,e.y),o?(s=p>0?n/p:1,u=d>0?i/d:1):(s=p>0?n/p:Number.MAX_VALUE,u=d>0?i/d:Number.MAX_VALUE,s=u=Math.min(s,u)),h(t,a=(a=a.scale(s,u)).translate(-p/2-c,-d/2-f))}},a.fitTo=function(t,e,n){if(t){if(!e)return t;var i=r.bounds(e),o=i.x,s=i.y,u=i.width,l=i.height;return a.fit(t,{x:o+u/2,y:s+l/2},u,l,n)}},a.hslAdjust=function(t,e,n,o,a){if(a||(a=0),t instanceof i.Img){var u=t,l=u.toLayer(!1);return l.addFilter("hslAdjust",{h:e,s:n,l:o,a:a}),u.withCanvas(l.toCanvas())}e=s(e,-1,1),n=s(n,-1,1),o=s(o,-1,1),a=s(a,-1,1);var h,c,f,p,d,m,y,v,g,x,w,_,b=1+n*(n<0?1:2),P=o<0?1+o:1-o,C=o<0?0:o;return e=6*e%6,function i(o){if(o instanceof r.Group){for(var s=[],u=0;u<o.shapes.length;u+=1)s.push(i(o.shapes[u]));return new r.Group(s)}if(o instanceof r.Path){var l=o.clone();return l.fill=i(l.fill),l.stroke=i(l.stroke),l}var T=o;return T instanceof r.Color||(T=r.Color.parse(T)),h=T.r,c=T.g,f=T.b,0===e&&0===n||(c>(p=h)&&(p=c),f>p&&(p=f),c<(d=h)&&(d=c),f<d&&(d=f),m=p-d,(g=(d+p)/2)>0&&m>0&&(g<=.5?((v=m/(p+d)*b)>1&&(v=1),t=g*(1+v)):((v=m/(2-p-d)*b)>1&&(v=1),t=g+v-g*v),(y=h===p?c===d?5+(p-f)/m+e:1-(p-c)/m+e:c===p?f===d?1+(p-h)/m+e:3-(p-f)/m+e:h===d?3+(p-c)/m+e:5-(p-h)/m+e)<0&&(y+=6),y>=6&&(y-=6),w=(t-(x=g+g-t))*(y-(_=y>>0)),0===_?(h=t,c=x+w,f=x):1===_?(h=t-w,c=t,f=x):2===_?(h=x,c=t,f=x+w):3===_?(h=x,c=t-w,f=t):4===_?(h=x+w,c=x,f=t):5===_&&(h=t,c=x,f=t-w))),(h=h*P+C)<0&&(h=0),(c=c*P+C)<0&&(c=0),(f=f*P+C)<0&&(f=0),h>1&&(h=1),c>1&&(c=1),f>1&&(f=1),new r.Color(h,c,f,T.a+a)}(t)},a.rgbAdjust=function(t,e,n,o,a){return a||(a=0),e=s(e,-1,1),n=s(n,-1,1),o=s(o,-1,1),a=s(a,-1,1),function t(s){if(s instanceof i.Img){var u=s,l=u.toLayer(!1);return l.addFilter("rgbAdjust",{r:e,g:n,b:o,a:a}),u.withCanvas(l.toCanvas())}if(s instanceof r.Group){for(var h=[],c=0;c<s.shapes.length;c+=1)h.push(t(s.shapes[c]));return new r.Group(h)}if(s instanceof r.Path){var f=s.clone();return f.fill=t(f.fill),f.stroke=t(f.stroke),f}var p=s;return p instanceof r.Color||(p=r.Color.parse(p)),new r.Color(p.r+e,p.g+n,p.b+o,p.a+a)}(t)},a.stack=function(t,e,n){if(!t)return[];if(t.length<=1)return t;var i,o,a,s,u,l,c=t[0].bounds(),f=[];if("e"===e)for(a=c.x,i=0;i<t.length;i+=1)l=(o=t[i]).bounds(),u=(new r.Transform).translate(a-l.x,0),f.push(h(o,u)),a+=l.width+n;else if("w"===e)for(a=c.x+c.width,i=0;i<t.length;i+=1)l=(o=t[i]).bounds(),u=(new r.Transform).translate(a-(l.x+l.width),0),f.push(h(o,u)),a-=l.width+n;else if("n"===e)for(s=c.y+c.height,i=0;i<t.length;i+=1)l=(o=t[i]).bounds(),u=(new r.Transform).translate(0,s-(l.y+l.height)),f.push(h(o,u)),s-=l.height+n;else if("s"===e)for(s=c.y,i=0;i<t.length;i+=1)l=(o=t[i]).bounds(),u=(new r.Transform).translate(0,s-l.y),f.push(h(o,u)),s+=l.height+n;return f},a.angle=function(t,e){var n=arguments;return 4===n.length?(t=r.Point.read(n[0],n[1]),e=r.Point.read(n[2],n[3])):(t=r.Point.read(t),e=r.Point.read(e)),o.degrees(Math.atan2(e.y-t.y,e.x-t.x))},a.coordinates=function(t,e,n){var i=arguments;return 4===i.length?(t=r.Point.read(i[0],i[1]),e=i[2],n=i[3]):t=r.Point.read(t),r.geo.coordinates(t.x,t.y,e,n)},a.distance=function(t,e){var n=arguments;return 4===n.length?(t=r.Point.read(n[0],n[1]),e=r.Point.read(n[2],n[3])):(t=r.Point.read(t),e=r.Point.read(e)),Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},a.grayColor=function(t,e){return e||0===e||(e=1),r.Color.gray(t,e,1)},a.hexColor=function(t){var e;return e=t,"#"!==(t=!isNaN(parseFloat(e))&&isFinite(e)?t.toString(16):String(t))[0]&&(t="#"+t),r.Color.parse(t)},a.hslColor=function(t,e,n,i){return i||0===i||(i=1),r.Color.hsl(t,e,n,i,1)},a.rgbColor=function(t,e,n,i){return i||0===i||(i=1),r.Color.rgb(t,e,n,i,1)},a.desaturate=function(t,e){return t?t.desaturate({method:e}):null},a.invert=function(t){if(!t)return null;if(t instanceof i.Img){var e=t,n=e.toLayer(!1);return n.addFilter("invert"),e.withCanvas(n.toCanvas())}return t.invert()},t.exports=a},function(t,e,n){"use strict";var r={easeInQuad:function(t,e,n,r){return n*(t/=r)*t+e},easeOutQuad:function(t,e,n,r){return-n*(t/=r)*(t-2)+e},easeInOutQuad:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,r){return n*(t/=r)*t*t+e},easeOutCubic:function(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,r){return n*(t/=r)*t*t*t+e},easeOutQuart:function(t,e,n,r){return-n*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,r){return n*(t/=r)*t*t*t*t+e},easeOutQuint:function(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,r){return-n*Math.cos(t/r*(Math.PI/2))+n+e},easeOutSine:function(t,e,n,r){return n*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(t,e,n,r){return-n/2*(Math.cos(Math.PI*t/r)-1)+e},easeInExpo:function(t,e,n,r){return 0===t?e:n*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(t,e,n,r){return t===r?e+n:n*(1-Math.pow(2,-10*t/r))+e},easeInOutExpo:function(t,e,n,r){return 0===t?e:t===r?e+n:(t/=r/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,n,r){return-n*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOutCirc:function(t,e,n,r){return n*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOutCirc:function(t,e,n,r){return(t/=r/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,n,r){var i=1.70158,o=0,a=n;return 0===t?e:1==(t/=r)?e+n:(o||(o=.3*r),a<Math.abs(n)?(a=n,i=o/4):i=o/(2*Math.PI)*Math.asin(n/a),-a*Math.pow(2,10*(t-=1))*Math.sin((t*r-i)*(2*Math.PI)/o)+e)},easeOutElastic:function(t,e,n,r){var i=1.70158,o=0,a=n;return 0===t?e:1==(t/=r)?e+n:(o||(o=.3*r),a<Math.abs(n)?(a=n,i=o/4):i=o/(2*Math.PI)*Math.asin(n/a),a*Math.pow(2,-10*t)*Math.sin((t*r-i)*(2*Math.PI)/o)+n+e)},easeInOutElastic:function(t,e,n,r){var i=1.70158,o=0,a=n;return 0===t?e:2==(t/=r/2)?e+n:(o||(o=r*(.3*1.5)),a<Math.abs(n)?(a=n,i=o/4):i=o/(2*Math.PI)*Math.asin(n/a),t<1?a*Math.pow(2,10*(t-=1))*Math.sin((t*r-i)*(2*Math.PI)/o)*-.5+e:a*Math.pow(2,-10*(t-=1))*Math.sin((t*r-i)*(2*Math.PI)/o)*.5+n+e)},easeInBack:function(t,e,n,r,i){return void 0===i&&(i=1.70158),n*(t/=r)*t*((i+1)*t-i)+e},easeOutBack:function(t,e,n,r,i){return void 0===i&&(i=1.70158),n*((t=t/r-1)*t*((i+1)*t+i)+1)+e},easeInOutBack:function(t,e,n,r,i){return void 0===i&&(i=1.70158),(t/=r/2)<1?n/2*(t*t*((1+(i*=1.525))*t-i))+e:n/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},easeInBounce:function(t,e,n,i){return n-r.easeOutBounce(i-t,0,n,i)+e},easeOutBounce:function(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,n,i){return t<i/2?.5*r.easeInBounce(2*t,0,n,i)+e:.5*r.easeOutBounce(2*t-i,0,n,i)+.5*n+e},easing:function(t){var e=r[t],n=Array.prototype.slice.call(arguments,1);return e.apply(null,n)}};t.exports=r},function(t,e,n){var r=n(121);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(123)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(e=n(122)(!1)).push([t.i,"\n\n.options {\n    border-radius: 2px;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -55%);\n    background-color: white;\n    width: 80%;\n    height: 70%;\n    color: #383838;\n    z-index: 4;\n    opacity: 0.85;\n    padding: 20px;\n    overflow: scroll;\n}\n\n.control-select {}\n\n.control-tracing {\n    width: 30%;\n    padding: 20px;\n    float: left;\n}\n\n.options-right {\n    float: right;\n    width: 45%;\n    height: 100%;\n    word-wrap: break-word;\n    overflow-y: auto;\n}\n\n.options-left {\n    float: left;\n    width: 50%;\n    height: 100%;\n    overflow: scroll;\n}\n\n.control-panel {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background-color: white;\n    z-index: 1000;\n    opacity: 0.9;\n}\n\n.options-textarea {\n    background-color: #b4dbd7;\n    opacity: 1.0;\n    width: 100%;\n    height: 50%;\n    resize: none;\n    border: none;\n    overflow: auto;\n    outline: none;\n    -webkit-box-shadow: none;\n    -moz-box-shadow: none;\n    box-shadow: none;\n    resize: none;\n    -webkit-box-shadow: inset 2px 2px 2px 0px #dddddd;\n    -moz-box-shadow: inset 2px 2px 2px 0px #dddddd;\n    box-shadow: inset 2px 2px 2px 0px #dddddd;\n}\n\n.pause {\n    -webkit-animation-play-state: paused !important;\n    -moz-animation-play-state: paused !important;\n    -o-animation-play-state: paused !important;\n    animation-play-state: paused !important;\n}\n\n.monitor {\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    color: grey;\n    background-color: black;\n    margin-left: auto;\n    -moz-user-select: -moz-none;\n    -khtml-user-select: none;\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n        'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n        sans-serif;\n    -webkit-user-select: none;\n    height:100%;\n}\n\n.tracing-container:hover {\n    -webkit-animation-play-state: paused;\n    -moz-animation-play-state: paused;\n    -o-animation-play-state: paused;\n    animation-play-state: paused;\n}\n\n.tracing-container {\n    width: 80%;\n    top: 0;\n    left: 0;\n}\n\n.no-cpu {\n    -webkit-backface-visibility: hidden;\n    -moz-backface-visibility: hidden;\n    -ms-backface-visibility: hidden;\n    backface-visibility: hidden;\n    -webkit-perspective: 1000;\n    -moz-perspective: 1000;\n    -ms-perspective: 1000;\n    perspective: 1000;\n    transform: translateZ(0);\n}\n\n.button {\n    font-size: 100px;\n    color: white;\n}\n\nsvg {\n    overflow: visible;\n}\n\n.bottom-item {\n    float: left;\n    min-height: 200px;\n    max-height: 200px;\n    margin-top: auto;\n    padding-top: 5px;\n    overflow: visible;\n}\n\n.bottom-text {\n    fill: green;\n    font-size: 120;\n}\n\n.side {\n    border-bottom: 1px solid white;\n    border-left: 1px solid white;\n}\n\n.qr {\n    right: 0;\n    position: absolute;\n    bottom: 0;\n}\n\n\n.side-panel {\n    width: 20%;\n    /*height:80%;*/\n    float: right;\n}\n\n/*Icons made by <a href=\"https://www.flaticon.com/authors/gregor-cresnar\" title=\"Gregor Cresnar\">Gregor Cresnar</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\"> www.flaticon.com</a>*/\n\n.cardiac {\n    fill: none;\n    stroke: #20fc03;\n    stroke-width: 3;\n}\n\n.cardiac-side-text {\n    fill: #20fc03;\n    /*font-size: 120;*/\n}\n\n.cardiac-legend-text {\n    fill: #20fc03;\n    font-size: 5px;\n}\n\n.capnography {\n    fill: none;\n    /*fill: #ecf542;*/\n    stroke: #ecf542;\n    stroke-width: 3;\n}\n\n.going {\n    fill: none;\n}\n\n\n.capnography-side-text {\n    fill: #ecf542;\n    /*font-size: 120;*/\n}\n\n.capnography-legend-text {\n    fill: #ecf542;\n    font-size: 5px;\n}\n\n\n.oximetry {\n    fill: none;\n    stroke: #29d1ff;\n    stroke-width: 3;\n}\n\n.oximetry-side-text {\n    fill: #29d1ff;\n    /*font-size: 120;*/\n}\n\n.oximetry-legend-text {\n    fill: #29d1ff;\n    font-size: 5px;\n}\n\n.bp-bottom-text {\n    fill: #de31d2;\n    font-size: 50px;\n}\n\n.bp-bottom-legend {\n    fill: #de31d2;\n}\n\n.temp-bottom-text {\n    fill: #f54242;\n    font-size: 50px;\n}\n\n.temp-bottom-legend {\n    fill: #f54242;\n    font-size: 20px;\n}\n\n.rr-bottom-text {\n    fill: #f5f7f7;\n    font-size: 50px;\n}\n\n.rr-bottom-legend {\n    fill: #f5f7f7;\n}\n\n\n.bottom-panel {\n    float: left;\n    width: 100%;\n    position: relative;\n    background-color: black\n    /*height:100%;*/\n}",""]),t.exports=e},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(u," */")),o=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(o).concat([i]).join("\n")}var a,s,u;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var u=[].concat(t[s]);r&&i[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},function(t,e,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(t,e){return e?e.querySelector(t):document.querySelector(t)},u=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=s.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),l=null,h=0,c=[],f=n(124);function p(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(x(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(x(r.parts[a],e));o[r.id]={id:r.id,refs:1,parts:s}}}}function d(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function m(t,e){var n=u(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=c[c.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),c.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=u(t.insertAt.before,n);n.insertBefore(e,i)}}function y(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=c.indexOf(t);e>=0&&c.splice(e,1)}function v(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return g(e,t.attrs),m(t,e),e}function g(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function x(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=o}if(e.singleton){var a=h++;n=l||(l=v(e)),r=b.bind(null,n,a,!1),i=b.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",g(e,t.attrs),m(t,e),e}(e),r=C.bind(null,n,e),i=function(){y(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(e),r=P.bind(null,n),i=function(){y(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=d(t,e);return p(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}t&&p(d(t,e),e);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete o[s.id]}}}};var w,_=(w=[],function(t,e){return w[t]=e,w.filter(Boolean).join("\n")});function b(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=_(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function P(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function C(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=f(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(t,e,n){"use strict";n.r(e);var r=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},i=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return r(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}};var o=i(r),a=o.right,s=(o.left,a);var u=Array.prototype,l=(u.slice,u.map,function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}),h=Math.sqrt(50),c=Math.sqrt(10),f=Math.sqrt(2),p=function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=d(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o};function d(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=h?10:o>=c?5:o>=f?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=h?10:o>=c?5:o>=f?2:1)}function m(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=h?i*=10:o>=c?i*=5:o>=f&&(i*=2),e<t?-i:i}Array.prototype.slice;var y={value:function(){}};function v(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new g(r)}function g(t){this._=t}function x(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function w(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function _(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=y,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}g.prototype=v.prototype={constructor:g,on:function(t,e){var n,r=this._,i=x(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=_(r[n],t.name,e);else if(null==e)for(n in r)r[n]=_(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=w(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new g(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var b=v;function P(){}var C=function(t){return null==t?P:function(){return this.querySelector(t)}};function T(){return[]}var I=function(t){return null==t?T:function(){return this.querySelectorAll(t)}},E=function(t){return function(){return this.matches(t)}},M=function(t){return new Array(t.length)};function A(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}A.prototype={constructor:A,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function N(t,e,n,r,i,o){for(var a,s=0,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new A(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function S(t,e,n,r,i,o,a){var s,u,l,h={},c=e.length,f=o.length,p=new Array(c);for(s=0;s<c;++s)(u=e[s])&&(p[s]=l="$"+a.call(u,u.__data__,s,e),l in h?i[s]=u:h[l]=u);for(s=0;s<f;++s)(u=h[l="$"+a.call(t,o[s],s,o)])?(r[s]=u,u.__data__=o[s],h[l]=null):n[s]=new A(t,o[s]);for(s=0;s<c;++s)(u=e[s])&&h[p[s]]===u&&(i[s]=u)}function L(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var O="http://www.w3.org/1999/xhtml",D={svg:"http://www.w3.org/2000/svg",xhtml:O,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},k=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),D.hasOwnProperty(e)?{space:D[e],local:t}:t};function X(t){return function(){this.removeAttribute(t)}}function Y(t){return function(){this.removeAttributeNS(t.space,t.local)}}function R(t,e){return function(){this.setAttribute(t,e)}}function B(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function F(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function j(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var U=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function z(t){return function(){this.style.removeProperty(t)}}function W(t,e,n){return function(){this.style.setProperty(t,e,n)}}function q(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function H(t,e){return t.style.getPropertyValue(e)||U(t).getComputedStyle(t,null).getPropertyValue(e)}function Z(t){return function(){delete this[t]}}function V(t,e){return function(){this[t]=e}}function G(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function $(t){return t.trim().split(/^|\s+/)}function J(t){return t.classList||new Q(t)}function Q(t){this._node=t,this._names=$(t.getAttribute("class")||"")}function K(t,e){for(var n=J(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function tt(t,e){for(var n=J(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function et(t){return function(){K(this,t)}}function nt(t){return function(){tt(this,t)}}function rt(t,e){return function(){(e.apply(this,arguments)?K:tt)(this,t)}}Q.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function it(){this.textContent=""}function ot(t){return function(){this.textContent=t}}function at(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function st(){this.innerHTML=""}function ut(t){return function(){this.innerHTML=t}}function lt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function ht(){this.nextSibling&&this.parentNode.appendChild(this)}function ct(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ft(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===O&&e.documentElement.namespaceURI===O?e.createElement(t):e.createElementNS(n,t)}}function pt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var dt=function(t){var e=k(t);return(e.local?pt:ft)(e)};function mt(){return null}function yt(){var t=this.parentNode;t&&t.removeChild(this)}function vt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function gt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var xt={},wt=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(xt={mouseenter:"mouseover",mouseleave:"mouseout"}));function _t(t,e,n){return t=bt(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function bt(t,e,n){return function(r){var i=wt;wt=r;try{t.call(this,this.__data__,e,n)}finally{wt=i}}}function Pt(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Ct(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function Tt(t,e,n){var r=xt.hasOwnProperty(t.type)?_t:bt;return function(i,o,a){var s,u=this.__on,l=r(e,o,a);if(u)for(var h=0,c=u.length;h<c;++h)if((s=u[h]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function It(t,e,n){var r=U(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Et(t,e){return function(){return It(this,t,e)}}function Mt(t,e){return function(){return It(this,t,e.apply(this,arguments))}}var At=[null];function Nt(t,e){this._groups=t,this._parents=e}function St(){return new Nt([[document.documentElement]],At)}Nt.prototype=St.prototype={constructor:Nt,select:function(t){"function"!=typeof t&&(t=C(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,l=r[i]=new Array(u),h=0;h<u;++h)(o=s[h])&&(a=t.call(o,o.__data__,h,s))&&("__data__"in o&&(a.__data__=o.__data__),l[h]=a);return new Nt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=I(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new Nt(r,i)},filter:function(t){"function"!=typeof t&&(t=E(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new Nt(r,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),h=-1,this.each((function(t){d[++h]=t})),d;var n,r=e?S:N,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),u=new Array(a),l=new Array(a),h=0;h<a;++h){var c=i[h],f=o[h],p=f.length,d=t.call(c,c&&c.__data__,h,i),m=d.length,y=u[h]=new Array(m),v=s[h]=new Array(m);r(c,f,y,v,l[h]=new Array(p),d,e);for(var g,x,w=0,_=0;w<m;++w)if(g=y[w]){for(w>=_&&(_=w+1);!(x=v[_])&&++_<m;);g._next=x||null}}return(s=new Nt(s,i))._enter=u,s._exit=l,s},enter:function(){return new Nt(this._enter||this._groups.map(M),this._parents)},exit:function(){return new Nt(this._exit||this._groups.map(M),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],h=n[s],c=l.length,f=a[s]=new Array(c),p=0;p<c;++p)(u=l[p]||h[p])&&(f[p]=u);for(;s<r;++s)a[s]=e[s];return new Nt(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=L);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,l=i[o]=new Array(u),h=0;h<u;++h)(a=s[h])&&(l[h]=a);l.sort(e)}return new Nt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=k(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Y:X:"function"==typeof e?n.local?j:F:n.local?B:R)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?z:"function"==typeof e?q:W)(t,e,null==n?"":n)):H(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Z:"function"==typeof e?G:V)(t,e)):this.node()[t]},classed:function(t,e){var n=$(t+"");if(arguments.length<2){for(var r=J(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?rt:e?et:nt)(n,e))},text:function(t){return arguments.length?this.each(null==t?it:("function"==typeof t?at:ot)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?st:("function"==typeof t?lt:ut)(t)):this.node().innerHTML},raise:function(){return this.each(ht)},lower:function(){return this.each(ct)},append:function(t){var e="function"==typeof t?t:dt(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:dt(t),r=null==e?mt:"function"==typeof e?e:C(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(yt)},clone:function(t){return this.select(t?gt:vt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=Pt(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?Tt:Ct,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,h=s.length;l<h;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?Mt:Et)(t,e))}};var Lt=St,Ot=function(t){return"string"==typeof t?new Nt([[document.querySelector(t)]],[document.documentElement]):new Nt([[t]],At)};var Dt=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function kt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Xt(){}var Yt="\\s*([+-]?\\d+)\\s*",Rt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ft=/^#([0-9a-f]{3,8})$/,jt=new RegExp("^rgb\\("+[Yt,Yt,Yt]+"\\)$"),Ut=new RegExp("^rgb\\("+[Bt,Bt,Bt]+"\\)$"),zt=new RegExp("^rgba\\("+[Yt,Yt,Yt,Rt]+"\\)$"),Wt=new RegExp("^rgba\\("+[Bt,Bt,Bt,Rt]+"\\)$"),qt=new RegExp("^hsl\\("+[Rt,Bt,Bt]+"\\)$"),Ht=new RegExp("^hsla\\("+[Rt,Bt,Bt,Rt]+"\\)$"),Zt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Vt(){return this.rgb().formatHex()}function Gt(){return this.rgb().formatRgb()}function $t(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ft.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Jt(e):3===n?new ee(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Qt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Qt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=jt.exec(t))?new ee(e[1],e[2],e[3],1):(e=Ut.exec(t))?new ee(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=zt.exec(t))?Qt(e[1],e[2],e[3],e[4]):(e=Wt.exec(t))?Qt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=qt.exec(t))?oe(e[1],e[2]/100,e[3]/100,1):(e=Ht.exec(t))?oe(e[1],e[2]/100,e[3]/100,e[4]):Zt.hasOwnProperty(t)?Jt(Zt[t]):"transparent"===t?new ee(NaN,NaN,NaN,0):null}function Jt(t){return new ee(t>>16&255,t>>8&255,255&t,1)}function Qt(t,e,n,r){return r<=0&&(t=e=n=NaN),new ee(t,e,n,r)}function Kt(t){return t instanceof Xt||(t=$t(t)),t?new ee((t=t.rgb()).r,t.g,t.b,t.opacity):new ee}function te(t,e,n,r){return 1===arguments.length?Kt(t):new ee(t,e,n,null==r?1:r)}function ee(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function ne(){return"#"+ie(this.r)+ie(this.g)+ie(this.b)}function re(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function ie(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function oe(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new se(t,e,n,r)}function ae(t){if(t instanceof se)return new se(t.h,t.s,t.l,t.opacity);if(t instanceof Xt||(t=$t(t)),!t)return new se;if(t instanceof se)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new se(a,s,u,t.opacity)}function se(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ue(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function le(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}Dt(Xt,$t,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Vt,formatHex:Vt,formatHsl:function(){return ae(this).formatHsl()},formatRgb:Gt,toString:Gt}),Dt(ee,te,kt(Xt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ee(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ee(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ne,formatHex:ne,formatRgb:re,toString:re})),Dt(se,(function(t,e,n,r){return 1===arguments.length?ae(t):new se(t,e,n,null==r?1:r)}),kt(Xt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new se(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new se(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ee(ue(t>=240?t-240:t+120,i,r),ue(t,i,r),ue(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var he=function(t){return function(){return t}};function ce(t,e){return function(n){return t+n*e}}function fe(t){return 1==(t=+t)?pe:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):he(isNaN(e)?n:e)}}function pe(t,e){var n=e-t;return n?ce(t,n):he(isNaN(t)?e:t)}var de=function t(e){var n=fe(e);function r(t,e){var r=n((t=te(t)).r,(e=te(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=pe(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function me(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=te(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}me((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return le((n-r/e)*e,a,i,o,s)}})),me((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return le((n-r/e)*e,i,o,a,s)}}));var ye=function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}};function ve(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ge(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Ee(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}var xe=function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}},we=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},_e=function(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Ee(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},be=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pe=new RegExp(be.source,"g");var Ce,Te,Ie=function(t,e){var n,r,i,o=be.lastIndex=Pe.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=be.exec(t))&&(r=Pe.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:we(n,r)})),o=Pe.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})},Ee=function(t,e){var n,r=typeof e;return null==e||"boolean"===r?he(e):("number"===r?we:"string"===r?(n=$t(e))?(e=n,de):Ie:e instanceof $t?de:e instanceof Date?xe:ve(e)?ye:Array.isArray(e)?ge:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?_e:we)(t,e)},Me=0,Ae=0,Ne=0,Se=0,Le=0,Oe=0,De="object"==typeof performance&&performance.now?performance:Date,ke="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Xe(){return Le||(ke(Ye),Le=De.now()+Oe)}function Ye(){Le=0}function Re(){this._call=this._time=this._next=null}function Be(t,e,n){var r=new Re;return r.restart(t,e,n),r}function Fe(){Le=(Se=De.now())+Oe,Me=Ae=0;try{!function(){Xe(),++Me;for(var t,e=Ce;e;)(t=Le-e._time)>=0&&e._call.call(null,t),e=e._next;--Me}()}finally{Me=0,function(){var t,e,n=Ce,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ce=e);Te=t,Ue(r)}(),Le=0}}function je(){var t=De.now(),e=t-Se;e>1e3&&(Oe-=e,Se=t)}function Ue(t){Me||(Ae&&(Ae=clearTimeout(Ae)),t-Le>24?(t<1/0&&(Ae=setTimeout(Fe,t-De.now()-Oe)),Ne&&(Ne=clearInterval(Ne))):(Ne||(Se=De.now(),Ne=setInterval(je,1e3)),Me=1,ke(Fe)))}Re.prototype=Be.prototype={constructor:Re,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Xe():+n)+(null==e?0:+e),this._next||Te===this||(Te?Te._next=this:Ce=this,Te=this),this._call=t,this._time=n,Ue()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ue())}};var ze=function(t,e,n){var r=new Re;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r},We=b("start","end","cancel","interrupt"),qe=[],He=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(u){var l,h,c,f;if(1!==n.state)return s();for(l in i)if((f=i[l]).name===n.name){if(3===f.state)return ze(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[l]):+l<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[l])}if(ze((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(u))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(c=n.tween.length),l=0,h=-1;l<c;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++h]=f);r.length=h+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Be((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:We,tween:qe,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function Ze(t,e){var n=Ge(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Ve(t,e){var n=Ge(t,e);if(n.state>3)throw new Error("too late; already running");return n}function Ge(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var $e,Je,Qe,Ke,tn=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}},en=180/Math.PI,nn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},rn=function(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*en,skewX:Math.atan(u)*en,scaleX:a,scaleY:s}};function on(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:we(t,i)},{i:u-2,x:we(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:we(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:we(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,u),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:we(t,n)},{i:s-2,x:we(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var an=on((function(t){return"none"===t?nn:($e||($e=document.createElement("DIV"),Je=document.documentElement,Qe=document.defaultView),$e.style.transform=t,t=Qe.getComputedStyle(Je.appendChild($e),null).getPropertyValue("transform"),Je.removeChild($e),t=t.slice(7,-1).split(","),rn(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),sn=on((function(t){return null==t?nn:(Ke||(Ke=document.createElementNS("http://www.w3.org/2000/svg","g")),Ke.setAttribute("transform",t),(t=Ke.transform.baseVal.consolidate())?(t=t.matrix,rn(t.a,t.b,t.c,t.d,t.e,t.f)):nn)}),", ",")",")");function un(t,e){var n,r;return function(){var i=Ve(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function ln(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Ve(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function hn(t,e,n){var r=t._id;return t.each((function(){var t=Ve(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Ge(t,r).value[e]}}var cn=function(t,e){var n;return("number"==typeof e?we:e instanceof $t?de:(n=$t(e))?(e=n,de):Ie)(t,e)};function fn(t){return function(){this.removeAttribute(t)}}function pn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function dn(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function mn(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function yn(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttribute(t)}}function vn(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttributeNS(t.space,t.local)}}function gn(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function xn(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function wn(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&xn(t,i)),n}return i._value=e,i}function _n(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&gn(t,i)),n}return i._value=e,i}function bn(t,e){return function(){Ze(this,t).delay=+e.apply(this,arguments)}}function Pn(t,e){return e=+e,function(){Ze(this,t).delay=e}}function Cn(t,e){return function(){Ve(this,t).duration=+e.apply(this,arguments)}}function Tn(t,e){return e=+e,function(){Ve(this,t).duration=e}}function In(t,e){if("function"!=typeof e)throw new Error;return function(){Ve(this,t).ease=e}}function En(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Ze:Ve;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}var Mn=Lt.prototype.constructor;function An(t){return function(){this.style.removeProperty(t)}}function Nn(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Sn(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Nn(t,o,n)),r}return o._value=e,o}function Ln(t){return function(e){this.textContent=t.call(this,e)}}function On(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Ln(r)),e}return r._value=t,r}var Dn=0;function kn(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Xn(){return++Dn}var Yn=Lt.prototype;kn.prototype=function(t){return Lt().transition(t)}.prototype={constructor:kn,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=C(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,l=r[a],h=l.length,c=o[a]=new Array(h),f=0;f<h;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),c[f]=u,He(c[f],e,n,f,c,Ge(s,n)));return new kn(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=I(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,l=r[s],h=l.length,c=0;c<h;++c)if(u=l[c]){for(var f,p=t.call(u,u.__data__,c,l),d=Ge(u,n),m=0,y=p.length;m<y;++m)(f=p[m])&&He(f,e,n,m,p,d);o.push(p),a.push(u)}return new kn(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=E(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new kn(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],h=n[s],c=l.length,f=a[s]=new Array(c),p=0;p<c;++p)(u=l[p]||h[p])&&(f[p]=u);for(;s<r;++s)a[s]=e[s];return new kn(a,this._parents,this._name,this._id)},selection:function(){return new Mn(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Xn(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var h=Ge(a,e);He(a,t,n,l,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new kn(r,this._parents,t,n)},call:Yn.call,nodes:Yn.nodes,node:Yn.node,size:Yn.size,empty:Yn.empty,each:Yn.each,on:function(t,e){var n=this._id;return arguments.length<2?Ge(this.node(),n).on.on(t):this.each(En(n,t,e))},attr:function(t,e){var n=k(t),r="transform"===n?sn:cn;return this.attrTween(t,"function"==typeof e?(n.local?vn:yn)(n,r,hn(this,"attr."+t,e)):null==e?(n.local?pn:fn)(n):(n.local?mn:dn)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=k(t);return this.tween(n,(r.local?wn:_n)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?an:cn;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=H(this,t),a=(this.style.removeProperty(t),H(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,An(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=H(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=H(this,t)),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}(t,r,hn(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var u=Ve(this,t),l=u.on,h=null==u.value[a]?o||(o=An(e)):void 0;l===n&&i===h||(r=(n=l).copy()).on(s,i=h),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=H(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Sn(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(hn(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,On(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Ge(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?un:ln)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?bn:Pn)(e,t)):Ge(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Cn:Tn)(e,t)):Ge(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(In(e,t)):Ge(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},u={value:function(){0==--i&&o()}};n.each((function(){var n=Ve(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e}))}))}};var Rn={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Bn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Rn.time=Xe(),Rn;return n}Lt.prototype.interrupt=function(t){return this.each((function(){tn(this,t)}))},Lt.prototype.transition=function(t){var e,n;t instanceof kn?(e=t._id,t=t._name):(e=Xn(),(n=Rn).time=Xe(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)(a=s[l])&&He(a,t,e,l,s,n||Bn(a,e));return new kn(r,this._parents,t,e)};function Fn(t){return[+t[0],+t[1]]}function jn(t){return[Fn(t[0]),Fn(t[1])]}["w","e"].map(Un),["n","s"].map(Un),["n","w","e","s","nw","ne","sw","se"].map(Un);function Un(t){return{type:t}}Math.cos,Math.sin,Math.PI,Math.max;Array.prototype.slice;var zn=Math.PI,Wn=2*zn,qn=Wn-1e-6;function Hn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Zn(){return new Hn}Hn.prototype=Zn.prototype={constructor:Hn,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,u=r-e,l=o-t,h=a-e,c=l*l+h*h;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(c>1e-6)if(Math.abs(h*s-u*l)>1e-6&&i){var f=n-o,p=r-a,d=s*s+u*u,m=f*f+p*p,y=Math.sqrt(d),v=Math.sqrt(c),g=i*Math.tan((zn-Math.acos((d+c-m)/(2*y*v)))/2),x=g/v,w=g/y;Math.abs(x-1)>1e-6&&(this._+="L"+(t+x*l)+","+(e+x*h)),this._+="A"+i+","+i+",0,0,"+ +(h*f>l*p)+","+(this._x1=t+w*s)+","+(this._y1=e+w*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+a,l=e+s,h=1^o,c=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+u+","+l),n&&(c<0&&(c=c%Wn+Wn),c>qn?this._+="A"+n+","+n+",0,1,"+h+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+h+","+(this._x1=u)+","+(this._y1=l):c>1e-6&&(this._+="A"+n+","+n+",0,"+ +(c>=zn)+","+h+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Vn=Zn;function Gn(){}function $n(t,e){var n=new Gn;if(t instanceof Gn)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}Gn.prototype=$n.prototype={constructor:Gn,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var Jn=$n;function Qn(){}var Kn=Jn.prototype;function tr(t,e){var n=new Qn;if(t instanceof Qn)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}Qn.prototype=tr.prototype={constructor:Qn,has:Kn.has,add:function(t){return this["$"+(t+="")]=t,this},remove:Kn.remove,clear:Kn.clear,values:Kn.keys,size:Kn.size,empty:Kn.empty,each:Kn.each};Array.prototype.slice;function er(t){return+t}var nr={},rr={};function ir(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function or(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function ar(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function sr(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+ar(-e,6):e>9999?"+"+ar(e,6):ar(e,4))+"-"+ar(t.getUTCMonth()+1,2)+"-"+ar(t.getUTCDate(),2)+(o?"T"+ar(n,2)+":"+ar(r,2)+":"+ar(i,2)+"."+ar(o,3)+"Z":i?"T"+ar(n,2)+":"+ar(r,2)+":"+ar(i,2)+"Z":r||n?"T"+ar(n,2)+":"+ar(r,2)+"Z":"")}var ur=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,s=0,u=o<=0,l=!1;function h(){if(u)return rr;if(l)return l=!1,nr;var e,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?u=!0:10===(r=t.charCodeAt(a++))?l=!0:13===r&&(l=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(e=a++)))l=!0;else if(13===r)l=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(i,e)}return u=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=h())!==rr;){for(var c=[];r!==nr&&r!==rr;)c.push(r),r=h();e&&null==(c=e(c,s++))||i.push(c)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?sr(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=ir(t);return function(r,i){return e(n(r),i,t)}}(t,e):ir(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=or(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=or(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}},lr=ur(","),hr=lr.parse,cr=(lr.parseRows,lr.format,lr.formatBody,lr.formatRows,lr.formatRow,lr.formatValue,ur("\t")),fr=cr.parse;cr.parseRows,cr.format,cr.formatBody,cr.formatRows,cr.formatRow,cr.formatValue;function pr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var dr=function(t,e){return fetch(t,e).then(pr)};function mr(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),dr(e,n).then((function(e){return t(e,r)}))}}mr(hr),mr(fr);function yr(t){return function(e,n){return dr(e,n).then((function(e){return(new DOMParser).parseFromString(e,t)}))}}yr("application/xml"),yr("text/html"),yr("image/svg+xml");function vr(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,l,h,c,f,p=t._root,d={data:r},m=t._x0,y=t._y0,v=t._x1,g=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((l=e>=(o=(m+v)/2))?m=o:v=o,(h=n>=(a=(y+g)/2))?y=a:g=a,i=p,!(p=p[c=h<<1|l]))return i[c]=d,t;if(s=+t._x.call(null,p.data),u=+t._y.call(null,p.data),e===s&&n===u)return d.next=p,i?i[c]=d:t._root=d,t;do{i=i?i[c]=new Array(4):t._root=new Array(4),(l=e>=(o=(m+v)/2))?m=o:v=o,(h=n>=(a=(y+g)/2))?y=a:g=a}while((c=h<<1|l)==(f=(u>=a)<<1|s>=o));return i[f]=p,i[c]=d,t}var gr=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i};function xr(t){return t[0]}function wr(t){return t[1]}function _r(t,e,n){var r=new br(null==e?xr:e,null==n?wr:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function br(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Pr(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Cr=_r.prototype=br.prototype;Cr.copy=function(){var t,e,n=new br(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Pr(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Pr(e));return n},Cr.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return vr(this.cover(e,n),e,n,t)},Cr.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),u=1/0,l=1/0,h=-1/0,c=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<u&&(u=r),r>h&&(h=r),i<l&&(l=i),i>c&&(c=i));if(u>h||l>c)return this;for(this.cover(u,l).cover(h,c),n=0;n<o;++n)vr(this,a[n],s[n],t[n]);return this},Cr.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,u=i-n,l=this._root;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=l,l=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Cr.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Cr.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Cr.find=function(t,e,n){var r,i,o,a,s,u,l,h=this._x0,c=this._y0,f=this._x1,p=this._y1,d=[],m=this._root;for(m&&d.push(new gr(m,h,c,f,p)),null==n?n=1/0:(h=t-n,c=e-n,f=t+n,p=e+n,n*=n);u=d.pop();)if(!(!(m=u.node)||(i=u.x0)>f||(o=u.y0)>p||(a=u.x1)<h||(s=u.y1)<c))if(m.length){var y=(i+a)/2,v=(o+s)/2;d.push(new gr(m[3],y,v,a,s),new gr(m[2],i,v,y,s),new gr(m[1],y,o,a,v),new gr(m[0],i,o,y,v)),(l=(e>=v)<<1|t>=y)&&(u=d[d.length-1],d[d.length-1]=d[d.length-1-l],d[d.length-1-l]=u)}else{var g=t-+this._x.call(null,m.data),x=e-+this._y.call(null,m.data),w=g*g+x*x;if(w<n){var _=Math.sqrt(n=w);h=t-_,c=e-_,f=t+_,p=e+_,r=m.data}}return r},Cr.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,l,h,c,f,p=this._root,d=this._x0,m=this._y0,y=this._x1,v=this._y1;if(!p)return this;if(p.length)for(;;){if((l=o>=(s=(d+y)/2))?d=s:y=s,(h=a>=(u=(m+v)/2))?m=u:v=u,e=p,!(p=p[c=h<<1|l]))return this;if(!p.length)break;(e[c+1&3]||e[c+2&3]||e[c+3&3])&&(n=e,f=c)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):e?(i?e[c]=i:delete e[c],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[f]=p:this._root=p),this):(this._root=i,this)},Cr.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Cr.root=function(){return this._root},Cr.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Cr.visit=function(t){var e,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new gr(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&u.length){var l=(r+o)/2,h=(i+a)/2;(n=u[3])&&s.push(new gr(n,l,h,o,a)),(n=u[2])&&s.push(new gr(n,r,h,l,a)),(n=u[1])&&s.push(new gr(n,l,i,o,h)),(n=u[0])&&s.push(new gr(n,r,i,l,h))}return this},Cr.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new gr(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,u=e.x1,l=e.y1,h=(a+u)/2,c=(s+l)/2;(o=i[0])&&n.push(new gr(o,a,s,h,c)),(o=i[1])&&n.push(new gr(o,h,s,u,c)),(o=i[2])&&n.push(new gr(o,a,c,h,l)),(o=i[3])&&n.push(new gr(o,h,c,u,l))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Cr.x=function(t){return arguments.length?(this._x=t,this):this._x},Cr.y=function(t){return arguments.length?(this._y=t,this):this._y};Math.PI,Math.sqrt(5);var Tr=function(){return Math.random()},Ir=(function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(Tr),function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(Tr)),Er=(function t(e){function n(){var t=Ir.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(Tr),function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(Tr));(function t(e){function n(t){var n=Er.source(e)(t);return function(){return n()/t}}return n.source=t,n})(Tr),function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(Tr);function Mr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var Ar=Array.prototype,Nr=Ar.map,Sr=Ar.slice;var Lr=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}},Or=function(t){return+t},Dr=[0,1];function kr(t){return t}function Xr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function Yr(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function Rr(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Xr(i,r),o=n(a,o)):(r=Xr(r,i),o=n(o,a)),function(t){return o(r(t))}}function Br(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Xr(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=s(t,e,1,r)-1;return o[n](i[n](e))}}function Fr(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function jr(){var t,e,n,r,i,o,a=Dr,s=Dr,u=Ee,l=kr;function h(){return r=Math.min(a.length,s.length)>2?Br:Rr,i=o=null,c}function c(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),s,u)))(t(l(e)))}return c.invert=function(n){return l(e((o||(o=r(s,a.map(t),we)))(n)))},c.domain=function(t){return arguments.length?(a=Nr.call(t,Or),l===kr||(l=Yr(a)),h()):a.slice()},c.range=function(t){return arguments.length?(s=Sr.call(t),h()):s.slice()},c.rangeRound=function(t){return s=Sr.call(t),u=Lr,h()},c.clamp=function(t){return arguments.length?(l=t?Yr(a):kr,c):l!==kr},c.interpolate=function(t){return arguments.length?(u=t,h()):u},c.unknown=function(t){return arguments.length?(n=t,c):n},function(n,r){return t=n,e=r,h()}}function Ur(t,e){return jr()(t,e)}var zr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wr(t){if(!(e=zr.exec(t)))throw new Error("invalid format: "+t);var e;return new qr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function qr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}Wr.prototype=qr.prototype,qr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Hr,Zr,Vr,Gr,$r=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},Jr=function(t){return(t=$r(Math.abs(t)))?t[1]:NaN},Qr=function(t,e){var n=$r(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Kr={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Qr(100*t,e)},r:Qr,s:function(t,e){var n=$r(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Hr=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+$r(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},ti=function(t){return t},ei=Array.prototype.map,ni=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];Zr=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?ti:(e=ei.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?ti:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(ei.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"-":t.minus+"",h=void 0===t.nan?"NaN":t.nan+"";function c(t){var e=(t=Wr(t)).fill,n=t.align,c=t.sign,f=t.symbol,p=t.zero,d=t.width,m=t.comma,y=t.precision,v=t.trim,g=t.type;"n"===g?(m=!0,g="g"):Kr[g]||(void 0===y&&(y=12),v=!0,g="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var x="$"===f?i:"#"===f&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",w="$"===f?o:/[%p]/.test(g)?u:"",_=Kr[g],b=/[defgprs%]/.test(g);function P(t){var i,o,u,f=x,P=w;if("c"===g)P=_(t)+P,t="";else{var C=(t=+t)<0||1/t<0;if(t=isNaN(t)?h:_(Math.abs(t),y),v&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),C&&0==+t&&"+"!==c&&(C=!1),f=(C?"("===c?c:l:"-"===c||"("===c?"":c)+f,P=("s"===g?ni[8+Hr/3]:"")+P+(C&&"("===c?")":""),b)for(i=-1,o=t.length;++i<o;)if(48>(u=t.charCodeAt(i))||u>57){P=(46===u?a+t.slice(i+1):t.slice(i))+P,t=t.slice(0,i);break}}m&&!p&&(t=r(t,1/0));var T=f.length+t.length+P.length,I=T<d?new Array(d-T+1).join(e):"";switch(m&&p&&(t=r(I+t,I.length?d-P.length:1/0),I=""),n){case"<":t=f+t+P+I;break;case"=":t=f+I+t+P;break;case"^":t=I.slice(0,T=I.length>>1)+f+t+P+I.slice(T);break;default:t=I+f+t+P}return s(t)}return y=void 0===y?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),P.toString=function(){return t+""},P}return{format:c,formatPrefix:function(t,e){var n=c(((t=Wr(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Jr(e)/3))),i=Math.pow(10,-r),o=ni[8+r/3];return function(t){return n(i*t)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Vr=Zr.format,Gr=Zr.formatPrefix;var ri=function(t,e,n,r){var i,o=m(t,e,n);switch((r=Wr(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Jr(e)/3)))-Jr(Math.abs(t)))}(o,a))||(r.precision=i),Gr(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Jr(e)-Jr(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Jr(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Vr(r)};function ii(t){var e=t.domain;return t.ticks=function(t){var n=e();return p(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return ri(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,s=i[o],u=i[a];return u<s&&(r=s,s=u,u=r,r=o,o=a,a=r),(r=d(s,u,n))>0?r=d(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=d(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,e(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,e(i)),t},t}function oi(){var t=Ur(kr,kr);return t.copy=function(){return Fr(t,oi())},Mr.apply(t,arguments),ii(t)}var ai=new Date,si=new Date;function ui(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return ui((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return ai.setTime(+e),si.setTime(+r),t(ai),t(si),Math.floor(n(ai,si))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var li=ui((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));li.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ui((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var hi=li,ci=(li.range,ui((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})));ci.range;function fi(t){return ui((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var pi=fi(0),di=fi(1),mi=fi(2),yi=fi(3),vi=fi(4),gi=fi(5),xi=fi(6),wi=(pi.range,di.range,mi.range,yi.range,vi.range,gi.range,xi.range,ui((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}))),_i=wi,bi=(wi.range,ui((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()}))),Pi=(bi.range,ui((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()}))),Ci=(Pi.range,ui((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()}))),Ti=(Ci.range,ui((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t})));Ti.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?ui((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Ti:null};Ti.range;function Ii(t){return ui((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var Ei=Ii(0),Mi=Ii(1),Ai=Ii(2),Ni=Ii(3),Si=Ii(4),Li=Ii(5),Oi=Ii(6),Di=(Ei.range,Mi.range,Ai.range,Ni.range,Si.range,Li.range,Oi.range,ui((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}))),ki=Di,Xi=(Di.range,ui((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));Xi.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ui((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var Yi=Xi;Xi.range;function Ri(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Bi(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Fi(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var ji,Ui={"-":"",_:" ",0:"0"},zi=/^\s*\d+/,Wi=/^%/,qi=/[\\^$*+?|[\]().{}]/g;function Hi(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Zi(t){return t.replace(qi,"\\$&")}function Vi(t){return new RegExp("^(?:"+t.map(Zi).join("|")+")","i")}function Gi(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function $i(t,e,n){var r=zi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ji(t,e,n){var r=zi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Qi(t,e,n){var r=zi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ki(t,e,n){var r=zi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function to(t,e,n){var r=zi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function eo(t,e,n){var r=zi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function no(t,e,n){var r=zi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ro(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function io(t,e,n){var r=zi.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function oo(t,e,n){var r=zi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ao(t,e,n){var r=zi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function so(t,e,n){var r=zi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function uo(t,e,n){var r=zi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function lo(t,e,n){var r=zi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ho(t,e,n){var r=zi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function co(t,e,n){var r=zi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function fo(t,e,n){var r=zi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function po(t,e,n){var r=Wi.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function mo(t,e,n){var r=zi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function yo(t,e,n){var r=zi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function vo(t,e){return Hi(t.getDate(),e,2)}function go(t,e){return Hi(t.getHours(),e,2)}function xo(t,e){return Hi(t.getHours()%12||12,e,2)}function wo(t,e){return Hi(1+_i.count(hi(t),t),e,3)}function _o(t,e){return Hi(t.getMilliseconds(),e,3)}function bo(t,e){return _o(t,e)+"000"}function Po(t,e){return Hi(t.getMonth()+1,e,2)}function Co(t,e){return Hi(t.getMinutes(),e,2)}function To(t,e){return Hi(t.getSeconds(),e,2)}function Io(t){var e=t.getDay();return 0===e?7:e}function Eo(t,e){return Hi(pi.count(hi(t)-1,t),e,2)}function Mo(t,e){var n=t.getDay();return t=n>=4||0===n?vi(t):vi.ceil(t),Hi(vi.count(hi(t),t)+(4===hi(t).getDay()),e,2)}function Ao(t){return t.getDay()}function No(t,e){return Hi(di.count(hi(t)-1,t),e,2)}function So(t,e){return Hi(t.getFullYear()%100,e,2)}function Lo(t,e){return Hi(t.getFullYear()%1e4,e,4)}function Oo(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Hi(e/60|0,"0",2)+Hi(e%60,"0",2)}function Do(t,e){return Hi(t.getUTCDate(),e,2)}function ko(t,e){return Hi(t.getUTCHours(),e,2)}function Xo(t,e){return Hi(t.getUTCHours()%12||12,e,2)}function Yo(t,e){return Hi(1+ki.count(Yi(t),t),e,3)}function Ro(t,e){return Hi(t.getUTCMilliseconds(),e,3)}function Bo(t,e){return Ro(t,e)+"000"}function Fo(t,e){return Hi(t.getUTCMonth()+1,e,2)}function jo(t,e){return Hi(t.getUTCMinutes(),e,2)}function Uo(t,e){return Hi(t.getUTCSeconds(),e,2)}function zo(t){var e=t.getUTCDay();return 0===e?7:e}function Wo(t,e){return Hi(Ei.count(Yi(t)-1,t),e,2)}function qo(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Si(t):Si.ceil(t),Hi(Si.count(Yi(t),t)+(4===Yi(t).getUTCDay()),e,2)}function Ho(t){return t.getUTCDay()}function Zo(t,e){return Hi(Mi.count(Yi(t)-1,t),e,2)}function Vo(t,e){return Hi(t.getUTCFullYear()%100,e,2)}function Go(t,e){return Hi(t.getUTCFullYear()%1e4,e,4)}function $o(){return"+0000"}function Jo(){return"%"}function Qo(t){return+t}function Ko(t){return Math.floor(+t/1e3)}!function(t){ji=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,l=Vi(i),h=Gi(i),c=Vi(o),f=Gi(o),p=Vi(a),d=Gi(a),m=Vi(s),y=Gi(s),v=Vi(u),g=Gi(u),x={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:vo,e:vo,f:bo,H:go,I:xo,j:wo,L:_o,m:Po,M:Co,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Qo,s:Ko,S:To,u:Io,U:Eo,V:Mo,w:Ao,W:No,x:null,X:null,y:So,Y:Lo,Z:Oo,"%":Jo},w={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Do,e:Do,f:Bo,H:ko,I:Xo,j:Yo,L:Ro,m:Fo,M:jo,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Qo,s:Ko,S:Uo,u:zo,U:Wo,V:qo,w:Ho,W:Zo,x:null,X:null,y:Vo,Y:Go,Z:$o,"%":Jo},_={a:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return C(t,e,n,r)},d:ao,e:ao,f:fo,H:uo,I:uo,j:so,L:co,m:oo,M:lo,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=h[r[0].toLowerCase()],n+r[0].length):-1},q:io,Q:mo,s:yo,S:ho,u:Ji,U:Qi,V:Ki,w:$i,W:to,x:function(t,e,r){return C(t,n,e,r)},X:function(t,e,n){return C(t,r,e,n)},y:no,Y:eo,Z:ro,"%":po};function b(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=Ui[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function P(t,e){return function(n){var r,i,o=Fi(1900,void 0,1);if(C(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Bi(Fi(o.y,0,1))).getUTCDay(),r=i>4||0===i?Mi.ceil(r):Mi(r),r=ki.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Ri(Fi(o.y,0,1))).getDay(),r=i>4||0===i?di.ceil(r):di(r),r=_i.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Bi(Fi(o.y,0,1)).getUTCDay():Ri(Fi(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Bi(o)):Ri(o)}}function C(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=_[i in Ui?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return x.x=b(n,x),x.X=b(r,x),x.c=b(e,x),w.x=b(n,w),w.X=b(r,w),w.c=b(e,w),{format:function(t){var e=b(t+="",x);return e.toString=function(){return t},e},parse:function(t){var e=P(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=b(t+="",w);return e.toString=function(){return t},e},utcParse:function(t){var e=P(t+="",!0);return e.toString=function(){return t},e}}}(t),ji.format,ji.parse,ji.utcFormat,ji.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var ta=ui((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),ea=(ta.range,ui((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()}))),na=(ea.range,ui((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()})));na.range;var ra=function(t){return function(){return t}};function ia(t){this._context=t}ia.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var oa=function(t){return new ia(t)};function aa(t){return t[0]}function sa(t){return t[1]}function ua(t){this._context=t}function la(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}ua.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=la(t),i=la(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var ha=function(t){return new ua(t)};function ca(){this._=null}function fa(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function pa(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function da(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function ma(t){for(;t.L;)t=t.L;return t}ca.prototype={constructor:ca,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ma(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(pa(this,n),n=(t=n).U),n.C=!1,r.C=!0,da(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(da(this,n),n=(t=n).U),n.C=!1,r.C=!0,pa(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?ma(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,pa(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,da(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,pa(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,da(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,pa(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,da(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var ya=ca;function va(t,e,n,r){var i=[null,null],o=ja.push(i)-1;return i.left=t,i.right=e,n&&xa(i,t,e,n),r&&xa(i,e,t,r),Ba[t.index].halfedges.push(o),Ba[e.index].halfedges.push(o),i}function ga(t,e,n){var r=[e,n];return r.left=t,r}function xa(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function wa(t,e,n,r,i){var o,a=t[0],s=t[1],u=a[0],l=a[1],h=0,c=1,f=s[0]-u,p=s[1]-l;if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<h)return;o<c&&(c=o)}else if(f>0){if(o>c)return;o>h&&(h=o)}if(o=r-u,f||!(o<0)){if(o/=f,f<0){if(o>c)return;o>h&&(h=o)}else if(f>0){if(o<h)return;o<c&&(c=o)}if(o=n-l,p||!(o>0)){if(o/=p,p<0){if(o<h)return;o<c&&(c=o)}else if(p>0){if(o>c)return;o>h&&(h=o)}if(o=i-l,p||!(o<0)){if(o/=p,p<0){if(o>c)return;o>h&&(h=o)}else if(p>0){if(o<h)return;o<c&&(c=o)}return!(h>0||c<1)||(h>0&&(t[0]=[u+h*f,l+h*p]),c<1&&(t[1]=[u+c*f,l+c*p]),!0)}}}}}function _a(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,u=t[0],l=t.left,h=t.right,c=l[0],f=l[1],p=h[0],d=h[1],m=(c+p)/2,y=(f+d)/2;if(d===f){if(m<e||m>=r)return;if(c>p){if(u){if(u[1]>=i)return}else u=[m,n];o=[m,i]}else{if(u){if(u[1]<n)return}else u=[m,i];o=[m,n]}}else if(s=y-(a=(c-p)/(d-f))*m,a<-1||a>1)if(c>p){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(f<d){if(u){if(u[0]>=r)return}else u=[e,a*e+s];o=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function ba(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Pa(t,e){return e[+(e.left!==t.site)]}function Ca(t,e){return e[+(e.left===t.site)]}var Ta,Ia=[];function Ea(){fa(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ma(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,l=r[1]-s,h=o[0]-a,c=o[1]-s,f=2*(u*c-l*h);if(!(f>=-za)){var p=u*u+l*l,d=h*h+c*c,m=(c*p-l*d)/f,y=(u*d-h*p)/f,v=Ia.pop()||new Ea;v.arc=t,v.site=i,v.x=m+a,v.y=(v.cy=y+s)+Math.sqrt(m*m+y*y),t.circle=v;for(var g=null,x=Fa._;x;)if(v.y<x.y||v.y===x.y&&v.x<=x.x){if(!x.L){g=x.P;break}x=x.L}else{if(!x.R){g=x;break}x=x.R}Fa.insert(g,v),g||(Ta=v)}}}}function Aa(t){var e=t.circle;e&&(e.P||(Ta=e.N),Fa.remove(e),Ia.push(e),fa(e),t.circle=null)}var Na=[];function Sa(){fa(this),this.edge=this.site=this.circle=null}function La(t){var e=Na.pop()||new Sa;return e.site=t,e}function Oa(t){Aa(t),Ra.remove(t),Na.push(t),fa(t)}function Da(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];Oa(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<Ua&&Math.abs(r-u.circle.cy)<Ua;)o=u.P,s.unshift(u),Oa(u),u=o;s.unshift(u),Aa(u);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<Ua&&Math.abs(r-l.circle.cy)<Ua;)a=l.N,s.push(l),Oa(l),l=a;s.push(l),Aa(l);var h,c=s.length;for(h=1;h<c;++h)l=s[h],u=s[h-1],xa(l.edge,u.site,l.site,i);u=s[0],(l=s[c-1]).edge=va(u.site,l.site,null,i),Ma(u),Ma(l)}function ka(t){for(var e,n,r,i,o=t[0],a=t[1],s=Ra._;s;)if((r=Xa(s,a)-o)>Ua)s=s.L;else{if(!((i=o-Ya(s,a))>Ua)){r>-Ua?(e=s.P,n=s):i>-Ua?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){Ba[t.index]={site:t,halfedges:[]}}(t);var u=La(t);if(Ra.insert(e,u),e||n){if(e===n)return Aa(e),n=La(e.site),Ra.insert(u,n),u.edge=n.edge=va(e.site,u.site),Ma(e),void Ma(n);if(n){Aa(e),Aa(n);var l=e.site,h=l[0],c=l[1],f=t[0]-h,p=t[1]-c,d=n.site,m=d[0]-h,y=d[1]-c,v=2*(f*y-p*m),g=f*f+p*p,x=m*m+y*y,w=[(y*g-p*x)/v+h,(f*x-m*g)/v+c];xa(n.edge,l,d,w),u.edge=va(l,t,null,w),n.edge=va(t,d,null,w),Ma(e),Ma(n)}else u.edge=va(e.site,u.site)}}function Xa(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],l=u-e;if(!l)return s;var h=s-r,c=1/o-1/l,f=h/l;return c?(-f+Math.sqrt(f*f-2*c*(h*h/(-2*l)-u+l/2+i-o/2)))/c+r:(r+s)/2}function Ya(t,e){var n=t.N;if(n)return Xa(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var Ra,Ba,Fa,ja,Ua=1e-6,za=1e-12;function Wa(t,e){return e[1]-t[1]||e[0]-t[0]}function qa(t,e){var n,r,i,o=t.sort(Wa).pop();for(ja=[],Ba=new Array(t.length),Ra=new ya,Fa=new ya;;)if(i=Ta,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(ka(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;Da(i.arc)}if(function(){for(var t,e,n,r,i=0,o=Ba.length;i<o;++i)if((t=Ba[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=ba(t,ja[e[n]]);for(a.sort((function(t,e){return s[e]-s[t]})),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],l=+e[1][1];!function(t,e,n,r){for(var i,o=ja.length;o--;)_a(i=ja[o],t,e,n,r)&&wa(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>Ua||Math.abs(i[0][1]-i[1][1])>Ua)||delete ja[o]}(a,s,u,l),function(t,e,n,r){var i,o,a,s,u,l,h,c,f,p,d,m,y=Ba.length,v=!0;for(i=0;i<y;++i)if(o=Ba[i]){for(a=o.site,s=(u=o.halfedges).length;s--;)ja[u[s]]||u.splice(s,1);for(s=0,l=u.length;s<l;)d=(p=Ca(o,ja[u[s]]))[0],m=p[1],c=(h=Pa(o,ja[u[++s%l]]))[0],f=h[1],(Math.abs(d-c)>Ua||Math.abs(m-f)>Ua)&&(u.splice(s,0,ja.push(ga(a,p,Math.abs(d-t)<Ua&&r-m>Ua?[t,Math.abs(c-t)<Ua?f:r]:Math.abs(m-r)<Ua&&n-d>Ua?[Math.abs(f-r)<Ua?c:n,r]:Math.abs(d-n)<Ua&&m-e>Ua?[n,Math.abs(c-n)<Ua?f:e]:Math.abs(m-e)<Ua&&d-t>Ua?[Math.abs(f-e)<Ua?c:t,e]:null))-1),++l);l&&(v=!1)}if(v){var g,x,w,_=1/0;for(i=0,v=null;i<y;++i)(o=Ba[i])&&(w=(g=(a=o.site)[0]-t)*g+(x=a[1]-e)*x)<_&&(_=w,v=o);if(v){var b=[t,e],P=[t,r],C=[n,r],T=[n,e];v.halfedges.push(ja.push(ga(a=v.site,b,P))-1,ja.push(ga(a,P,C))-1,ja.push(ga(a,C,T))-1,ja.push(ga(a,T,b))-1)}}for(i=0;i<y;++i)(o=Ba[i])&&(o.halfedges.length||delete Ba[i])}(a,s,u,l)}this.edges=ja,this.cells=Ba,Ra=Fa=ja=Ba=null}qa.prototype={constructor:qa,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return Pa(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s,u,l,h=n.site,c=-1,f=e[i[o-1]],p=f.left===h?f.right:f.left;++c<o;)a=p,p=(f=e[i[c]]).left===h?f.right:f.left,a&&p&&r<a.index&&r<p.index&&(u=a,l=p,((s=h)[0]-l[0])*(u[1]-s[1])-(s[0]-u[0])*(l[1]-s[1])<0)&&t.push([h.data,a.data,p.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var u=t-i.site[0],l=e-i.site[1],h=u*u+l*l;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],l=e-s[1],c=u*u+l*l;c<h&&(h=c,a=s.index)}}))}while(null!==a);return o._found=r,null==n||h<=n*n?i.site:null}};Math.SQRT2;function Ha(t,e,n){this.k=t,this.x=e,this.y=n}Ha.prototype={constructor:Ha,scale:function(t){return 1===t?this:new Ha(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Ha(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Ha(1,0,0);Ha.prototype;var Za=n(53);function Va(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ga=function(){function t(e,n,r){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.drawTracing=function(t){i.fillDataCursor();var e=i.data_cursor.slice(0,250),n=i.data_cursor.slice(250,500);i.data_cursor=i.data_cursor.slice(500,i.data_cursor.length);var r=oi().domain([0,250]).range([50,i.w]),o=oi().domain([-2,5]).range([i.h,0]),a=function(){var t=aa,e=sa,n=ra(!0),r=null,i=oa,o=null;function a(a){var s,u,l,h=a.length,c=!1;for(null==r&&(o=i(l=Vn())),s=0;s<=h;++s)!(s<h&&n(u=a[s],s,a))===c&&((c=!c)?o.lineStart():o.lineEnd()),c&&o.point(+t(u,s,a),+e(u,s,a));if(l)return o=null,l+""||null}return a.x=function(e){return arguments.length?(t="function"==typeof e?e:ra(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:ra(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:ra(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}().x((function(t,e){return r(e)})).y((function(t){return o(t)})).curve(ha),s=Ot("#"+i.tracingID+"-tracing"),u=s.append("path").attr("d",a(e)),l=u.node().getTotalLength();if(u.attr("class",i.options.type+" coming").attr("stroke-dasharray",l).attr("stroke-dashoffset",l).transition().duration(i.segmentDuration).ease(er).attr("stroke-dashoffset",0),t)var h=t;else h=s.append("path").attr("d",a(n)).attr("class",i.options.type+" going");var c=h.node().getTotalLength();h.attr("stroke-dasharray",c).attr("stroke-dashoffset",2*c).transition().duration(i.segmentDuration).ease(er).attr("stroke-dashoffset",c).on("end",(function(){h.remove(),u.classed("going",!0),u.classed("coming",!1),i.drawTracing(u)}))},this.div=e,this.options=n,this.index=r,this.tracingID=Math.random().toString(36).substring(2,10).replace(/[^A-Za-z]+/g,"").toUpperCase(),this.h=200,this.w=1e3,this.data_cursor=[],this.beatDurationPerSegment=0,this.sidePanelText={cardiac:"ECG",oximetry:"SPO2",capnography:"ETCO2"},this.sidePanelText2={cardiac:"bpm",oximetry:"",capnography:""},this.tracingDecorator={cardiac:"II",oximetry:"PLETH",capnography:"ETCO2"},this.rateDefaults={cardiac:100,oximetry:100,capnography:20},this.segmentDuration="cap"===this.options.wave?15e3:5e3,this.options.rate=null==this.options.rate?this.rateDefaults[this.options.type]:this.options.rate,setInterval((function(){return i.updateSidePanel()}),4e3+1e3*Math.random())}var e,n,r;return e=t,(n=[{key:"initialize",value:function(){this.drawTracingSVG(),this.drawSidePanel(),this.decorateTracing(),this.drawTracing(),this.updateSidePanel()}},{key:"fillDataCursor",value:function(){for(var t=this;this.data_cursor.length<500;)this._generateWave().map((function(e){return t.data_cursor.push(e)}))}},{key:"updateSidePanelText",value:function(t){switch(t.type){case"cardiac":var e=this.beatDurationPerSegment*(this.segmentDuration/1e3),n=Math.floor(60/e);return n<250?n:0;case"oximetry":if(t.range){var r=this.options.range[0],i=this.options.range[1]-r;return Math.floor(r+i*Math.random())}return Math.floor(5*Math.random()+95);case"capnography":return t.range?(r=this.options.range[0],i=this.options.range[1]-r,Math.floor(r+i*Math.random())):Math.floor(30+10*Math.random());default:return""}}},{key:"updateSidePanel",value:function(){var t=this;Ot("#"+this.div).select("#"+this.tracingID+"-side").select("text").data([this.options]).text((function(e){return t.updateSidePanelText(e)}))}},{key:"drawSidePanel",value:function(){var t=this,e=Ot("#"+this.div).select(".side-panel").append("svg").attr("viewBox","0 0 50 40").attr("id",this.tracingID+"-side").attr("class",this.options.type+"-side-panel");e.data([this.options]).enter(),e.append("text").attr("x",8).attr("y",25).text("--").attr("class",(function(t){return t.type+"-side-text"})),e.append("text").attr("x",3).attr("y",10).text(this.sidePanelText[this.options.type]).attr("class",this.options.type+"-legend-text"),e.append("text").attr("x",35).attr("y",25).text((function(e){return t.sidePanelText2[e.type]})).attr("class",this.options.type+"-legend-text")}},{key:"remove",value:function(){Ot("#"+this.div).select("#"+this.tracingID+"-tracing").remove(),Ot("#"+this.div).select("#"+this.tracingID+"-side").remove()}},{key:"decorateTracing",value:function(){Ot("#"+this.div).select("#"+this.tracingID+"-tracing").append("text").attr("x",50).attr("y",50).style("font-size","25px").text(this.tracingDecorator[this.options.type]).attr("class",this.options.type+"-legend-text")}},{key:"drawTracingSVG",value:function(){Ot("#"+this.div).select(".tracing-container").append("svg").attr("viewBox","0 0 1000 200").attr("id",this.tracingID+"-tracing")}},{key:"_generateWave",value:function(){var t=this;this.updateHR=function(e){t.beatDurationPerSegment=Object.values(e).reduce((function(t,e){return t+e.duration()}),0)/500},this.drawPQRSTZ=function(t){var e=[];return Object.values(t).map((function(t){return e.push(l(0,1,1/t.duration()*r).map(t.fx))})),e.flat()};var e={p:{duration:function(){return 12},fx:function(t){return 2*Math.pow(t,3)*(1-t)}},pq:{duration:function(){return 2},fx:function(t){return 0}},q:{duration:function(){return 2},fx:function(t){return-1*Math.pow(1.1,Math.sin(t,Math.PI))+1}},r:{duration:function(){return 6},fx:function(t){return Math.pow(7,Math.sin(t,Math.PI))-1}},s:{duration:function(){return 3},fx:function(t){return-1*Math.pow(1.5,Math.sin(t,Math.PI))+1}},st:{duration:function(){return 12},fx:function(t){return 0}},t:{duration:function(){return 12},fx:function(t){return 5*Math.pow(t,2)*(1-t)}},tp:{duration:function(){return 51},fx:function(t){return 0}},z:{duration:function(){return 0},fx:function(t){return 0}}},n=421528.67301/(1+this.options.rate/.0142982^1.000545)-49.97301,r=(this.options.rate,Math.max(2,2+(this.options.rate+.01-120)/30));switch(this.options.wave){case"sinus":return e.tp.duration=function(){return n},this.updateHR(e),this.drawPQRSTZ(e);case"afib":return e.tp.duration=function(){return n*Math.random()*2+(Math.random()-1)*r},e.p.fx=function(t){return Math.random()/10},this.updateHR(e),this.drawPQRSTZ(e);case"aflutter":e.tp.duration=function(){return n+(Math.random()-1)*r};var i=(s=this.drawPQRSTZ(e)).slice(0,8),o=new Array(s.length).fill(i).flat(),a=s.map((function(t,e){return t+o[e]}));return this.updateHR(e),a;case"third-degree":var s;return e.tp.duration=function(){return n+(Math.random()-1)*r},i=(s=this.drawPQRSTZ(e)).slice(0,8).map((function(t){return 3*t})),s=s.splice(8,s.length),o=new Array(s.length).fill(i.concat(new Array(35+Math.floor(20*Math.random())).fill(0))).flat(),a=s.map((function(t,e){return t+o[e]})),this.updateHR(e),a;case"pleth":return Object.values(e).map((function(t){return t.duration=function(){return 0}})),e.z.duration=function(){return n+50},e.z.fx=function(t){return-Math.sin(t*Math.PI*2)/2-2*Math.sin(12.5*t-Math.PI)/2+1},this.updateHR(e),this.drawPQRSTZ(e);case"cap":Object.values(e).map((function(t){return t.duration=function(){return 0}})),e.z={duration:function(){return 2*t.options.rate},fx:function(t){return-Object(Za.squareWave)(t+Math.random()/100)}};var u=l(0,1,1/e.z.duration()).map(e.z.fx);return this.updateHR(e),[0].concat(u).concat([0]);case"vtach":return Object.values(e).map((function(t){return t.duration=function(){return 0}})),e.q={duration:function(){return 34},fx:function(t){return-1*Math.pow(2,Math.sin(t,Math.PI))+1}},e.r={duration:function(){return 16},fx:function(t){return Math.pow(7,Math.sin(t,Math.PI))-1}},e.z.duration=function(){return n},this.updateHR(e),this.drawPQRSTZ(e);case"vfib":return Object.values(e).map((function(t){return t.duration=function(){return 0}})),e.z={duration:function(){return 1},fx:function(t){return t+Math.random()}},this.updateHR(e),this.drawPQRSTZ(e);case"asystole":return Object.values(e).map((function(t){return t.duration=function(){return 0}})),e.z.duration=function(){return 500},e.z.fx=function(t){return Math.random()/10},this.drawPQRSTZ(e);default:return[0,0,0,0,0]}}}])&&Va(e.prototype,n),r&&Va(e,r),t}();n(120);function $a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ja=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.update=function(t){t.tracings.length!=r.tracingArray.length||r.options.bottom.length!=t.bottom.length?(r.options=t,r.tracingArray.map((function(t){return t.drawTracing=function(){return null}})),r.tracingArray=[],Ot("#"+r.div).select(".side-panel").remove(),Ot("#"+r.div).select(".tracing-container").remove(),Ot("#"+r.div).select(".bottom-panel").remove(),r.initialize()):(r.options=t,r.tracingArray.map((function(e,n){return e.options=t.tracings[n]})))},this.div=e,this.options=n,this.bottomPanelUpdateFreq=1e4,this.tracingArray=[],setInterval((function(){return r.updateBottomPanel()}),this.bottomPanelUpdateFreq)}var e,n,r;return e=t,(n=[{key:"initialize",value:function(){var t=this;this.drawSidePanel(),this.drawTracingContainer(),this.drawBottomPanel(),this.updateBottomPanel(),this.options.tracings.map((function(e,n){var r=new Ga(t.div,e,n);r.initialize(),t.tracingArray.push(r)}))}},{key:"drawBottomPanel",value:function(){var t=this.options.bottom.length,e={bp:"NIBP",temp:"°C",rr:"RR"},n={bp:"AUTO",temp:"",rr:""},r=Ot("#"+this.div).append("div").attr("class","bottom-panel").selectAll("div").data(this.options.bottom).enter().append("svg").attr("class","bottom-item").attr("viewBox","0 0 200 100").attr("height","200").attr("width",(function(e){return 100/t+"%"}));r.append("text").attr("x",100).attr("y",45).text((function(t){return t.value})).attr("class",(function(t){return t.type+"-bottom-text bottom-text"})).style("text-anchor","middle"),r.append("text").attr("x",170).attr("y",0).text((function(t){return e[t.type]})).attr("class",(function(t){return t.type+"-bottom-legend"})).style("text-anchor","end"),r.append("text").attr("x",25).attr("y",70).text((function(t){return n[t.type]})).attr("class",(function(t){return t.type+"-bottom-legend"})).style("text-anchor","start")}},{key:"drawSidePanel",value:function(){Ot("#"+this.div).append("div").attr("class","side-panel").attr("id","sidePanel")}},{key:"drawTracingContainer",value:function(){Ot("#"+this.div).append("div").attr("class","tracing-container")}},{key:"updateBottomText",value:function(t){switch(t.type){case"bp":var e=t.value.split("/"),n=Math.floor(parseInt(e[0])+10*(Math.random()-1)),r=Math.floor(parseInt(e[1])+(Math.random()-1));return isNaN(n)||isNaN(r)?"--/--":n+"/"+r;case"temp":return Math.round(10*parseFloat(t.value))/10;case"rr":var i=parseInt(t.value)+Math.round(Math.random()-1,1);return isNaN(i)?"--":i}return t.value}},{key:"updateBottomPanel",value:function(){var t;(t=".bottom-text","string"==typeof t?new Nt([document.querySelectorAll(t)],[document.documentElement]):new Nt([null==t?[]:t],At)).data(this.options.bottom).text(this.updateBottomText)}}])&&$a(e.prototype,n),r&&$a(e,r),t}();e.default=Ja}]).default;